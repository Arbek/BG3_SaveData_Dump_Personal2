Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_Dialogs(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7);
DB_Dialogs(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, LOW_Park_BhaalAssassin03_74b55991-2e1b-4b84-ffe8-d0d6152681e8);
Db_Dialogs(S_LOW_Park_BhaalAssassin01_500d7c8c-60a6-40c6-86b0-82db100b530e, LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7);
DB_Dialogs(S_LOW_Park_BhaalAssassin02_8bfe6f21-58ed-4963-8f05-10991075e144, LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7);
DB_Dialogs(S_LOW_Park_BhaalAssassin05_3eef8b7b-f06e-4afb-b4c7-c21bb6dd0268, LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7);
DB_Dialogs(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_GuardPreCombat_57fada27-ac39-599d-c9b9-d35f2ad67762);
DB_Dialogs(S_LOW_Park_FlamingFist1_bbd05a60-77c7-48fe-9273-a9e5303c7c24, LOW_Park_FlamingFist1_9dc0111a-cd40-aef6-67b9-079cdb5020a5);
DB_Dialogs(S_LOW_Park_FlamingFist2_be3b99d0-b8ed-4d39-92e1-848f09e022c3, LOW_Park_FlamingFist2_91490621-1d4a-b836-38cc-4d69da6311fe);
DB_Dialogs(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, LOW_ParkCultistAmbush_BackUpDialog_4533193d-1912-b7db-e136-ae5458010afe);
DB_Dialogs(S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f, LOW_Park_ChildLostBall01_49c02bc5-160a-c108-ebc9-24a34635b19b);
DB_Dialogs(S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb, LOW_Park_ChildLostBall02_c596e3c7-fa06-4016-db70-ed08ccf340b2);
DB_Dialogs(S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae, LOW_Park_RetiredFists_Dwarf01_caf0c3aa-ee3b-dee9-f818-ad389d699383);
DB_Dialogs(S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86, LOW_Park_RetiredFists_Dwarf02_0d838a29-8a9d-2ef0-9f93-90e2af1fd7f7);
DB_Dialogs(S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c, LOW_Park_RetiredFists_Elf01_ab3a303e-88dc-b891-43a8-ad081ecaf8a8);
DB_Dialogs(S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e, LOW_Park_RetiredFists_Elf02_7f338a22-ae09-40c8-58f1-d467f545e76c);
DB_Dialogs(S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d, LOW_Park_LoversMale_4cc570a7-188f-faf6-298a-da5a984592b6);
DB_Dialogs(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3, LOW_Park_LoversFemale_a10b6bb5-7a93-04d9-99a4-a3b5c95b2677);
DB_Dialogs(S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929, LOW_Park_VampireBookClub01_4518622c-696e-659e-872f-d572a769dc94);
DB_Dialogs(S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1, LOW_Park_VampireBookClub02_3be552bd-d77a-ce72-ec17-141ddc399f22);
DB_Dialogs(S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae, LOW_Park_VampireBookClub03_f1e72a9e-cc78-3fd9-5ff9-eb2e0b11edef);
DB_Dialogs(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09, LOW_Park_BoyWithDog_fe39a141-6c1c-05ab-b3e1-7242d2c73d41);
DB_Dialogs(S_LOW_Park_DogWithBoy_549bb04f-8243-4366-ae75-fcbb98d5ef9d, LOW_Park_SWA_Rufie_59d98bd8-7d78-0174-8a04-ef2ccd80dfa0);
DB_Dialogs(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, LOW_Park_ElderlyCouple01_ce0c93bc-292b-54d1-9a51-b3b578b43bb0);
DB_Dialogs(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, LOW_Park_ElderlyCouple02_7d73e132-d1a7-2f6a-4d60-aab5acaf7531);
DB_Dialogs(LOW_Park_ReplacementFlamingFist01_517753c7-15e4-4eb5-ba21-a0c13080a3b4, LOW_Park_ReplacementFlamingFist01_913b4182-e826-3e6a-57e0-f17eb0c23ec0);
DB_Dialogs(LOW_Park_ReplacementFlamingFist02_abb7f3be-9b67-4c61-8e19-5572f66648a0, LOW_Park_ReplacementFlamingFist02_e180391f-80f1-149d-5320-10d62b32f156);
DB_Dialogs(LOW_Park_ReplacementFlamingFist03_69a250da-cb91-450f-aa73-3c19dbd9ea61, LOW_Park_ReplacementFlamingFist03_865e5572-7950-c35a-df75-1d60f1743108);
DB_Dialogs(LOW_Park_ReplacementFlamingFist04_ea22f162-1ca7-4ece-9305-1d95f21689d1, LOW_Park_ReplacementFlamingFist04_5838afe4-75b7-c401-f392-bb9df5eb1ebb);
DB_AmbushTrigger(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, S_LOW_Park_AmbushDetectTrigger_2e77c8e8-7b7f-4e79-b84d-27596bfe68e4, Act3_Easy_5028066b-6ea0-4a6a-9e3e-53bee62559a7);
DB_AmbushTrigger_Ambusher(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, 1);
DB_AmbushTrigger_Ambusher(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, S_LOW_Park_BhaalAssassin01_500d7c8c-60a6-40c6-86b0-82db100b530e, 1);
DB_AmbushTrigger_Ambusher(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, S_LOW_Park_BhaalAssassin02_8bfe6f21-58ed-4963-8f05-10991075e144, 1);
DB_AmbushTrigger_Ambusher(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, S_LOW_Park_BhaalAssassin05_3eef8b7b-f06e-4afb-b4c7-c21bb6dd0268, 1);
DB_AmbushTrigger_AmbushRevealAD(S_LOW_Park_AmbushDetectTrigger_2e77c8e8-7b7f-4e79-b84d-27596bfe68e4, LOW_Park_PAD_SpottedAmbush_3420a741-d89b-e555-e962-45fa1be3a069);
DB_LOW_Park_MovePairs(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61);
DB_LOW_Park_MovePairs(S_LOW_Park_FlamingFist1_bbd05a60-77c7-48fe-9273-a9e5303c7c24, S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952);
DB_LOW_Park_MovePairs(S_LOW_Park_FlamingFist2_be3b99d0-b8ed-4d39-92e1-848f09e022c3, S_LOW_Park_BhaalAssassin02_8bfe6f21-58ed-4963-8f05-10991075e144);
DB_LOW_Park_Cultists(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61);
DB_LOW_Park_Cultists(S_LOW_Park_BhaalAssassin01_500d7c8c-60a6-40c6-86b0-82db100b530e);
DB_LOW_Park_Cultists(S_LOW_Park_BhaalAssassin02_8bfe6f21-58ed-4963-8f05-10991075e144);
DB_LOW_Park_Cultists(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952);
DB_LOW_Park_Cultists(S_LOW_Park_BhaalAssassin04_a9bee6df-338e-4df2-a5b6-3a2f6fcebade);
DB_LOW_Park_Cultists(S_LOW_Park_BhaalAssassin05_3eef8b7b-f06e-4afb-b4c7-c21bb6dd0268);
DB_LOW_Park_FlamingFists(S_LOW_Park_FlamingFist1_bbd05a60-77c7-48fe-9273-a9e5303c7c24);
DB_LOW_Park_FlamingFists(S_LOW_Park_FlamingFist2_be3b99d0-b8ed-4d39-92e1-848f09e022c3);
DB_LOW_Park_FlamingFists(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);
DB_IgnoreMutingStatussesDialog(LOW_ParkCultistAmbush_003_b3dbcd94-1a5d-4ed7-f7bf-747e17cf7bf3);
DB_IgnoreMutingStatussesDialog(LOW_Park_EdenosaAnnoyed_d3ef83dd-574f-117a-759b-1fdc10729123);
PROC_SetOnStage(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, 0);
PROC_SetOnStage(S_LOW_Park_SymbolOfTheAbsolute_276b729f-b399-4132-8f1a-5166000df2f4, 0);
DB_LOW_Park_Civilians(S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f);
DB_LOW_Park_Civilians(S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb);
DB_LOW_Park_Civilians(S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae);
DB_LOW_Park_Civilians(S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86);
DB_LOW_Park_Civilians(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3);
DB_LOW_Park_Civilians(S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d);
DB_LOW_Park_Civilians(S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c);
DB_LOW_Park_Civilians(S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e);
DB_LOW_Park_Civilians(S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929);
DB_LOW_Park_Civilians(S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1);
DB_LOW_Park_Civilians(S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae);
DB_LOW_Park_Civilians(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd);
DB_LOW_Park_Civilians(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82);
DB_LOW_Park_Civilians(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09);
DB_LOW_Park_Civilians(S_LOW_Park_DogWithBoy_549bb04f-8243-4366-ae75-fcbb98d5ef9d);
DB_Children(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09);
DB_Children(S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f);
DB_Children(S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb);
DB_Children(LOW_Park_AfterCombatChild01_dda4e182-e43e-4643-853f-ae6b0d0c0388);
DB_Children(LOW_Park_AfterCombatChild02_af76d1de-e86d-49b5-9fd0-306f847b68e1);
DB_Children(LOW_Park_AfterCombatChild03_f793b719-0925-46ed-a6ad-b3e169d9572d);
EscortAddCharacter(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, "LOW_Park_ElderlyCouple");
EscortAddCharacter(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, "LOW_Park_ElderlyCouple");
EscortSetLeader(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, "LOW_Park_ElderlyCouple");
PROC_TriggerRegisterForParty(S_LOW_Park_ArguingKidsADTrigger_c78822a8-4a71-48e9-ae81-24555933427e);
PROC_TriggerRegisterForParty(S_LOW_Park_VampireBookClubADTrigger_99fab05c-0fa4-47e8-a0e0-b58418cd7dcf);
PROC_TriggerRegisterForParty(S_LOW_Park_LoversADTrigger_c57ae459-abc3-44ef-8087-07dc7f0dd574);
PROC_TriggerRegisterForParty(S_LOW_Park_RetiredFistsADTrigger_0ed5b973-2519-4959-afe4-4045c3935a87);
PROC_TriggerRegisterForParty(S_LOW_Park_CultistsADTrigger_74e17672-a3d7-46a5-a4b6-e7f40282c9f5);
DB_LOW_Park_Replacements(LOW_Park_SteelWatcher_81cd5d46-d845-4d8a-8bd4-63ad335dc896);
DB_LOW_Park_Replacements(LOW_Park_ReplacementFlamingFist03_69a250da-cb91-450f-aa73-3c19dbd9ea61);
DB_LOW_Park_Replacements(LOW_Park_ReplacementFlamingFist02_abb7f3be-9b67-4c61-8e19-5572f66648a0);
DB_LOW_Park_Replacements(LOW_Park_ReplacementFlamingFist04_ea22f162-1ca7-4ece-9305-1d95f21689d1);
DB_LOW_Park_Replacements(LOW_Park_ReplacementFlamingFist01_517753c7-15e4-4eb5-ba21-a0c13080a3b4);
DB_LOW_Park_Replacements(LOW_Park_AfterCombatChild01_dda4e182-e43e-4643-853f-ae6b0d0c0388);
DB_LOW_Park_Replacements(LOW_Park_AfterCombatChild02_af76d1de-e86d-49b5-9fd0-306f847b68e1);
DB_LOW_Park_Replacements(LOW_Park_AfterCombatChild03_f793b719-0925-46ed-a6ad-b3e169d9572d);
DB_LOW_Park_RetiredFists(S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae);
DB_LOW_Park_RetiredFists(S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86);
DB_LOW_Park_RetiredFists(S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c);
DB_LOW_Park_RetiredFists(S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e);
DB_LOW_Park_CivilianGroup(S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929, "Fanclub");
DB_LOW_Park_CivilianGroup(S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1, "Fanclub");
DB_LOW_Park_CivilianGroup(S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae, "Fanclub");
DB_LOW_Park_CivilianGroup(S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae, "Fists");
DB_LOW_Park_CivilianGroup(S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86, "Fists");
DB_LOW_Park_CivilianGroup(S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c, "Fists");
DB_LOW_Park_CivilianGroup(S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e, "Fists");
DB_LOW_Park_CivilianGroup(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3, "Lovers");
DB_LOW_Park_CivilianGroup(S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d, "Lovers");
DB_LOW_Park_CivilianGroup(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3, "BoyAndDog");
DB_LOW_Park_CivilianGroup(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09, "BoyAndDog");
DB_HasItemEvent(S_LOW_Park_KidsToy_729e04f5-fef2-4d42-a27a-0d190fe76cb8, LOW_Park_State_HaveKidsToy_b1994427-dc53-470a-aaa2-f0311983d1a0);
DB_Children(S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f);
DB_Children(S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb);
DB_Children(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09);
DB_Children(LOW_Park_AfterCombatChild02_af76d1de-e86d-49b5-9fd0-306f847b68e1);
DB_Children(LOW_Park_AfterCombatChild03_f793b719-0925-46ed-a6ad-b3e169d9572d);
DB_Children(LOW_Park_AfterCombatChild01_dda4e182-e43e-4643-853f-ae6b0d0c0388);
DB_CombatReact_AD_OnTurn(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, LOW_Park_AD_CombatMaleCultists_ea0d896c-7c7a-75e8-88a9-23bb810ecd2a, 1);
DB_CombatReact_AD_OnTurn(S_LOW_Park_BhaalAssassin04_a9bee6df-338e-4df2-a5b6-3a2f6fcebade, LOW_Park_AD_CombatMaleCultists_ea0d896c-7c7a-75e8-88a9-23bb810ecd2a, 2);
DB_CombatReact_AD_OnTurn(S_LOW_Park_BhaalAssassin05_3eef8b7b-f06e-4afb-b4c7-c21bb6dd0268, LOW_Park_AD_CombatMaleCultists_ea0d896c-7c7a-75e8-88a9-23bb810ecd2a, 3);
DB_CombatReact_AD_OnTurn(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, LOW_Park_AD_CombatFemaleCultists_2e1378c2-d7eb-be20-5f65-481a8211ca36, 1);
DB_CombatReact_AD_OnTurn(S_LOW_Park_BhaalAssassin02_8bfe6f21-58ed-4963-8f05-10991075e144, LOW_Park_AD_CombatFemaleCultists_2e1378c2-d7eb-be20-5f65-481a8211ca36, 3);
DB_CombatReact_AD_OnTurn(S_LOW_Park_BhaalAssassin01_500d7c8c-60a6-40c6-86b0-82db100b530e, LOW_Park_AD_CombatFemaleCultists_2e1378c2-d7eb-be20-5f65-481a8211ca36, 4);
DB_OneShot_VoiceBarkTrigger(S_LOW_Park_VB_FlowerPartyBanter_12177e60-d7b5-4ca1-896c-5d76db023aa5, LOW_Park_VB_FlowerDreadful_7b9a58ca-aac1-09d6-e7fa-068efc3d24c1, "PerUserAndNearbyPlayers");
DB_GLO_DefeatCounter(S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, "LOW_Park_CivilianMurders");
DB_GLO_DefeatCounter(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, "LOW_Park_CivilianMurders");
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, 0);
DB_LOW_Park_CiviliansSpreeTargets(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, 0);

KBSECTION
PROC
PROC_RevealAmbush(S_LOW_Park_AmbushDetectTrigger_2e77c8e8-7b7f-4e79-b84d-27596bfe68e4, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TriggerRegisterForCharacter(S_LOW_Park_FlamingFistPatrolArea_81bcb823-0945-4092-953d-5962e822dadd, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);
TriggerRegisterForCharacter(S_LOW_ParkFlamingFistWarn_c2797dae-1cb7-45f7-baf1-57132dd4b21f, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);
PROC_RemoveDialogEntryForSpeaker(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_GuardPreCombat_57fada27-ac39-599d-c9b9-d35f2ad67762);
DB_Dialogs(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_EdenosaSpottedAmbush_1bf94dbc-f8c9-7db7-5650-e64e64893f81);

IF
FlagSet(LOW_Park_Event_ToldEdenosaAboutAmbush_a04051b8-1ccd-4b0d-8bde-2c7b89bdeaa8, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Follow(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1);
PROC_RemoveDialogEntryForSpeaker(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_EdenosaSpottedAmbush_1bf94dbc-f8c9-7db7-5650-e64e64893f81);
DB_Dialogs(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_GuardPreCombat_57fada27-ac39-599d-c9b9-d35f2ad67762);

IF
LeftTrigger(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_ParkFlamingFistWarn_c2797dae-1cb7-45f7-baf1-57132dd4b21f, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(LOW_Park_AD_TryingLeavePark_d16b7191-bc10-5620-853b-8523a9613c60, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
LeftTrigger(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_Park_FlamingFistPatrolArea_81bcb823-0945-4092-953d-5962e822dadd, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(LOW_Park_EdenosaAnnoyed_d3ef83dd-574f-117a-759b-1fdc10729123, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded(LOW_Park_EdenosaAnnoyed_d3ef83dd-574f-117a-759b-1fdc10729123, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_StopFollow(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);
PROC_SetRelationToPlayers(Act3_LOW_ParkGuards_cf08cf76-401e-4cd2-99a6-a352560db8c4, 50);
PROC_CharacterMoveTo(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_Park_EdenosaReturnPos_884dc272-7360-4dfb-acf7-f4f3fdaf0a8c, "Walk", "LOW_Park_EdenosaWandersOff");

PROC
PROC_CancelAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_Event_FinishedMurderSpree_befcdb46-1a93-4292-8c65-33f939f0dddd, _, _, _, _)
AND
GetClosestPlayer(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _, _Var1, _Var1)
AND NOT
DB_OnlyOnce("LOW_Park_AmbushedBhaalCultists", _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(GLO_Orin_State_AgreedToKillGortash_39af75d8-2442-8667-551e-6a0dc699398b, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_AmbushInititalDialog", _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialogWithAvailableSpeakerInRange(LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, 20, _Var1)
AND
QRY_OnlyOnce("LOW_Park_CultistsSetHostile", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationToPlayers(Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

PROC
PROC_LaunchAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_AmbushInititalDialog", _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialogWithAvailableSpeakerInRange(LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, 20, _Var1)
THEN
PROC_SetRelationToPlayers(Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

PROC
PROC_LaunchAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_AmbushInititalDialog", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationToPlayers(Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

PROC
PROC_LaunchAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationToPlayers(Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

QRY
QRY_SelectCustomDialog_AfterGenerics((GUIDSTRING)_Var1, (CHARACTER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialogWithAvailableSpeakerInRange(LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var2, 20, _Var1)
THEN
PROC_SetRelationToPlayers(Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

IF
EnteredCombat((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_AmbushTrigger_Ambusher(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1, _Var1, 1, _Var1, _Var1)
THEN
PROC_CancelAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1);

IF
TurnStarted(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _, _, _, _)
AND
QRY_OnlyOnce("LOW_Park_CirianEquipsDagger", _, _, _, _)
THEN
PROC_LOW_Park_EquipWeapon();

PROC
PROC_LOW_Park_EquipWeapon()
AND
GetItemByTemplateInInventory(MAG_Murderous_Dagger_2384a69e-7d7d-4052-84ee-2f53fa45320f, S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _Var1, _Var1, _Var1)
THEN
Equip(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _Var1);

PROC
PROC_LOW_Park_EquipWeapon()
AND NOT
GetItemByTemplateInInventory(MAG_Murderous_Dagger_2384a69e-7d7d-4052-84ee-2f53fa45320f, S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _, _, _)
AND
GetItemByTemplateInInventory(WPN_HUM_Dagger_A_0_569b0f3d-abcd-4b01-aaf0-979091288163, S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _Var2, _, _)
THEN
Equip(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _Var2);

IF
DialogEnded(LOW_ParkCultistAmbush_001_258e1ff8-f890-3347-01cd-e3c4fd55dff7, _, _, _, _)
AND
DB_GlobalFlag(GLO_Orin_State_AgreedToKillGortash_39af75d8-2442-8667-551e-6a0dc699398b, _, _, _, _)
THEN
PROC_LOW_Park_SetCiviliansCultistEnemy();

PROC
PROC_LOW_Park_SetCiviliansCultistEnemy()
AND
DB_LOW_Park_CiviliansSpreeTargets(_Var1, 0, _Var1, _Var1, _Var1)
THEN
SetCombatGroupID(_Var1, "LOW_Park_CivilianMurders_Civilians");
SetCanFight(_Var1, 1);

PROC
PROC_LOW_Park_SetCiviliansCultistEnemy()
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetCombatGroupID(_Var1, "LOW_Park_CivilianMurders_Cultists");

PROC
PROC_LOW_Park_SetCiviliansCultistEnemy()
THEN
PROC_SetRelationMutual(ACT3_LOW_Park_ParkCivilians_4c02de1b-d516-4c3f-ba2c-8317307f695b, Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

PROC
PROC_LOW_Park_SetCiviliansCultistEnemy()
AND
DB_LOW_Park_CiviliansSpreeTargets(_Var1, 0, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_Cultists(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
EnterCombat(_Var1, _Var2);

IF
FlagSet(LOW_Park_Event_PlayersUninvolvedInSlaughter_1a85207f-8dd1-4f25-832b-c9a09320f1cc, _, _, _, _)
AND
DB_LOW_Park_Cultists(_Var3, _, _, _, _)
THEN
PROC_RemoveDialog(_Var3);

IF
EnteredCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_Park_State_CombatStarted_cc084b9e-ab49-4fa6-b6e6-2f0cfa54b938, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_Park_CombatGUID(_Var2);
PROC_GlobalSetFlagAndCache(LOW_Park_State_CombatStarted_cc084b9e-ab49-4fa6-b6e6-2f0cfa54b938);
PROC_SetRelationMutual(Act3_LOW_Citizens_55059168-3e19-462a-8693-43299fa0d3bb, Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);

IF
EnteredCombat(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, _, _, _, _)
AND
HasActiveStatus(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, "LOW_BLOOMRIDGEPARK_DISGUISEDCULTIST_TECHNICAL", 0, _, _)
THEN
ApplyStatus(S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952, "LOW_BLOOMRIDGEPARK_DISGUISEDCULTIST_TECHNICAL", -1);

IF
SwitchedCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_Park_CombatGUID(_Var3);
NOT DB_LOW_Park_CombatGUID(_Var2);

IF
CombatRoundStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Following(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var3, _Var1, _Var1, _Var1)
AND
GetClosestAlivePlayer(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var3, _, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OnlyOnce("LOW_Park_MidCombatDialog", _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialogCustom(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var3, 0, 0, 0, 0, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_MidCombatDialog", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_StopFollow(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);
PROC_SetRelationToPlayers(Act3_LOW_ParkGuards_cf08cf76-401e-4cd2-99a6-a352560db8c4, 100);

IF
CombatRoundStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var2 > 1
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_ReinforcementsArrive", _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_MovePairs(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(_Var3, _Var4, "Run", "LOW_Park_FlamingFistsRun");

IF
EntityEvent(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, "LOW_Park_FlamingFistsRun", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetClosestAlivePlayer(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _, _Var1, _Var1)
AND NOT
DB_OnlyOnce("LOW_Park_MidCombatDialog", _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_MidCombatDialog", _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialogCustom(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, 0, 0, 0, 0, _Var1, _Var1)
THEN
SetFlag(LOW_Park_Event_GuardsJoinCombat_ea42c40b-c4e9-40a5-bf67-a51f4466d766, _Var1, 0);

IF
FlagSet(LOW_Park_Event_GuardsJoinCombat_ea42c40b-c4e9-40a5-bf67-a51f4466d766, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_Event_PlayersSidedWithCutlists_cde0a074-fa2a-44a5-8025-77a86ff94ce7, _, _, _, _)
THEN
PROC_SetRelationMutual(Act3_LOW_FlamingFistGuards_86d2eaf4-1da3-4dbe-94c0-7cf3b240f428, Act3_LOW_BhaalCultists_cfd782cf-5eba-40a5-85c9-00c7563f1312, 0);
PROC_SetRelationMutual(Act3_LOW_ParkGuards_cf08cf76-401e-4cd2-99a6-a352560db8c4, Hero_a1542c81-6895-929e-4522-10ce218bb360, 100);

IF
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogName(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_Var3, _Var1, _, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var3, _Var1);

IF
DB_Is_InCombat(_, _Var2, _, _, _)
AND
DB_LOW_Park_CombatGUID(_Var2, _, _, _, _)
AND
DB_DialogName(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, _Var3, _, _, _)
AND
DB_LOW_Park_FlamingFists(_Var4, _, _, _, _)
AND NOT
DB_DialogNPCs(_Var3, _Var4, _, _, _)
THEN
PROC_DialogAddListeningActor(_Var3, _Var4);

IF
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogName(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, _Var3, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_DialogPlayers(_Var3, _Var1, _, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var3, _Var1);

IF
DialogEnded(LOW_ParkCultistAmbush_002_caadd1a8-17b6-e89c-362c-a2da1d12075e, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CombatGUID(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var2, "Run", "LOW_Park_PostCombatDialogSetUp");
PROC_CharacterMoveTo(S_LOW_Park_FlamingFist1_bbd05a60-77c7-48fe-9273-a9e5303c7c24, S_LOW_Park_EndingPosition001_8d96eba6-4a5b-4ca7-b6da-a4086679bbc0, "Walk", "LOW_Park_PostCombatDialogSetUp");
PROC_CharacterMoveTo(S_LOW_Park_FlamingFist2_be3b99d0-b8ed-4d39-92e1-848f09e022c3, S_LOW_Park_EndingPosition002_398fb7b8-47ac-47f4-8eab-6ccf9eb06ab6, "Walk", "LOW_Park_PostCombatDialogSetUp");
PROC_RemoveDialogEntryForSpeaker(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_EdenosaSpottedAmbush_1bf94dbc-f8c9-7db7-5650-e64e64893f81);
PROC_GlobalSetFlagAndCache(LOW_Park_State_CombatStarted_cc084b9e-ab49-4fa6-b6e6-2f0cfa54b938);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SpotPlayers(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, "LOW_Park_EdenosaPostCombatSpot", NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);

PROC
PROC_SpotPlayers_Spotted(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, "LOW_Park_EdenosaPostCombatSpot", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_StartDialog(LOW_ParkCultistAmbush_003_b3dbcd94-1a5d-4ed7-f7bf-747e17cf7bf3, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1)
THEN
PROC_RemoveDialogEntryForSpeaker(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, LOW_Park_GuardPreCombat_57fada27-ac39-599d-c9b9-d35f2ad67762);
PROC_ClearStoryMove(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_AppearOutOfSightTo(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, S_LOW_Park_AmbushDetectTrigger_2e77c8e8-7b7f-4e79-b84d-27596bfe68e4, S_LOW_Park_EdenosaReturnPos_884dc272-7360-4dfb-acf7-f4f3fdaf0a8c, "LOW_Park_ReserveFlamingFistSummon");
DB_SpotPlayers(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, "LOW_Park_ReserveFlamingFistSpot", NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);

IF
EntityEvent(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, "LOW_Park_ReserveFlamingFistSummon", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetClosestAlivePlayer(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, _Var1, _, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, _Var1, "Run", "LOW_Park_ReservePostCombatDialogSetUp");

PROC
PROC_SpotPlayers_Spotted(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, "LOW_Park_ReserveFlamingFistSpot", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_StartDialog(LOW_ParkCultistAmbush_BackUpDialog_4533193d-1912-b7db-e136-ae5458010afe, S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, _Var1, _Var1, _Var1)
THEN
PROC_ClearStoryMove(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _Var1, _Var1, _Var1)
AND
GetClosestPlayer(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var2, _, _Var1, _Var1)
THEN
PROC_GLO_Brainquakes_StartForcedEvent(_Var2, "LOW_Park_PostCombatBrainquake");

IF
FlagSet(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
TimerLaunch("LOW_Park_BrainTimer", 250);

IF
TimerFinished("LOW_Park_BrainTimer", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetClosestPlayer(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _, _Var1, _Var1)
THEN
PROC_GLO_Brainquakes_StartForcedEvent(_Var1, "LOW_Park_TadpoledFistDeadBrainquake");

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_MovePairs(_Var2, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_OnlyOnce("LOW_Park_ReinforcementsArrive", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(_Var2, _Var3, "Run", "LOW_Park_FlamingFistsRun");

QRY
QRY_CorpseLooting_BlockMakeOwned((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded(LOW_ParkCultistAmbush_BackUpDialog_4533193d-1912-b7db-e136-ae5458010afe, _, _, _, _)
AND NOT
DB_PermaDefeated(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, _, _, _, _)
THEN
Die(S_LOW_Park_FlamingFist_Reserve_3bd85855-86d9-4c58-92c6-115ac442ec00, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 0, 0);
PROC_GlobalSetFlagAndCache(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c);

IF
DialogEnded(LOW_ParkCultistAmbush_003_b3dbcd94-1a5d-4ed7-f7bf-747e17cf7bf3, _, _, _, _)
AND NOT
DB_PermaDefeated(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _, _, _, _)
THEN
Die(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 0, 0);
PROC_GlobalSetFlagAndCache(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c);

IF
Died(S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511, _, _, _, _)
THEN
TeleportTo(S_LOW_Park_EndingPosition001_8d96eba6-4a5b-4ca7-b6da-a4086679bbc0, S_LOW_Edenosa_Cracklewall_980f2182-100a-4c30-9965-5bbae804a511);

IF
EnteredCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Civilians(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_Park_FleeAfterCombat(_Var1, _Var2);

IF
SwitchedCombat((CHARACTER)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_Park_FleeAfterCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_LOW_Park_FleeAfterCombat(_Var1, _Var3);
NOT DB_LOW_Park_FleeAfterCombat(_Var1, _Var2);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_FleeAfterCombat(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSightTo(_Var2, _Var3, "Run", 0, "");
NOT DB_LOW_Park_FleeAfterCombat(_Var2, _Var1);

IF
DB_LOW_Park_Civilians(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SceneManager(_Var1, "LOW_Park_PreAmbush");

PROC
PROC_SceneInterrupted((CHARACTER)_Var1, (CHARACTER)_Var2, "LOW_Park_PreAmbush", "Attacked", (CHARACTER)_Var1)
AND
DB_LOW_Park_Civilians(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartOfTheTeam(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Run", 0, "LOW_Park_CivilianFled");

IF
EnteredCombat((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_Civilians(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStopDialogFor(_Var3);

IF
FleeFromCombat(_, (GUIDSTRING)_Var2, _, _, _)
AND
DB_LOW_Park_CombatGUID(_Var2, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
AND NOT
DB_Is_InCombat(_Var3, _Var2, _, _, _)
AND
DB_LOW_Park_Civilians(_Var4, _, _, _, _)
AND
DB_LOW_Park_FlamingFists(_Var5, _, _, _, _)
AND
DB_LOW_Park_Cultists(_Var6, _, _, _, _)
THEN
PROC_LOW_Park_MurderTargets(_Var4);
PROC_LOW_Park_MurderTargets(_Var5);
PROC_LOW_Park_HideCultists(_Var6);
PROC_SetOnStage(S_LOW_Park_SymbolOfTheAbsolute_276b729f-b399-4132-8f1a-5166000df2f4, 1);

PROC
PROC_LOW_Park_MurderTargets((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
IsOnStage(_Var1, 1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Sees(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
Die(_Var1, 0, NULL_00000000-0000-0000-0000-000000000000, 0, 0);

PROC
PROC_LOW_Park_HideCultists((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
IsOnStage(_Var1, 1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Sees(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetOnStage(_Var1, 0);

IF
EnteredCombat((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_KidsFleeFromAmbush", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f, "Run", 0, "LOW_Park_KidsFleeFromCombat");
PROC_DisappearOutOfSight(S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb, "Run", 0, "LOW_Park_KidsFleeFromCombat");

IF
EnteredTrigger((GUIDSTRING)_Var1, S_LOW_Park_CultistsADTrigger_74e17672-a3d7-46a5-a4b6-e7f40282c9f5, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_DisguisedBhaalCultists_14e30beb-0885-f5f1-ad7e-779edc470606, S_LOW_Park_BhaalAssassin04_a9bee6df-338e-4df2-a5b6-3a2f6fcebade, S_LOW_Park_BhaalAssassin03_f28f8cd6-dc57-434e-a3ac-ed13cd9ed952);
PROC_TriggerUnregisterForPlayers(S_LOW_Park_CultistsADTrigger_74e17672-a3d7-46a5-a4b6-e7f40282c9f5);

IF
EnteredTrigger((GUIDSTRING)_Var1, S_LOW_Park_ArguingKidsADTrigger_c78822a8-4a71-48e9-ae81-24555933427e, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_ArguingKids_dba347e2-c666-e8ec-bdae-d26f59a69fd5, S_LOW_Park_ChildLostBallScene01_8140a70d-bf67-4a93-ab63-ff3a441f9b2f, S_LOW_Park_ChildLostBallScene02_0c6d7c78-bb49-45d6-ada9-4a46783396fb);
PROC_TriggerUnregisterForParty(S_LOW_Park_ArguingKidsADTrigger_c78822a8-4a71-48e9-ae81-24555933427e);

IF
DB_LOW_Park_RetiredFists(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeatedEvent(_Var1, LOW_Park_State_AtleastOneRetiredFistsDead_188326be-df44-44ad-9fef-7c6f1d4edd15);

IF
EnteredTrigger((GUIDSTRING)_Var1, S_LOW_Park_RetiredFistsADTrigger_0ed5b973-2519-4959-afe4-4045c3935a87, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_RetiredFists_ce1741d1-687e-41b4-14a2-1cdb51cbf4a3, S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae, S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86, S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c, S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e);
PROC_TriggerUnregisterForParty(S_LOW_Park_RetiredFistsADTrigger_0ed5b973-2519-4959-afe4-4045c3935a87);

IF
LongRestFinished()
AND
DB_GlobalFlag(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_State_AtleastOneRetiredFistsDead_188326be-df44-44ad-9fef-7c6f1d4edd15, _, _, _, _)
AND
QRY_OnlyOnce("LOW_Park_RetiredFlamingFistsHandled", _, _, _, _)
THEN
PROC_TriggerRegisterForParty(S_LOW_Park_RetiredFistsADTrigger_0ed5b973-2519-4959-afe4-4045c3935a87);
DB_LOW_Park_Replacements(S_LOW_Park_RetiredFist_Dwarf01_a94d18f7-23ec-4f4b-868a-d6feaf9beaae);
DB_LOW_Park_Replacements(S_LOW_Park_RetiredFist_Dwarf02_669e3ab9-acc1-4fe2-814a-4d21e901cf86);
DB_LOW_Park_Replacements(S_LOW_Park_RetiredFist_Elf01_08d2d3a7-6d87-40e7-8649-750e9857dd3c);
DB_LOW_Park_Replacements(S_LOW_Park_RetiredFist_Elf02_d7cd0aa5-7303-45c7-a9e2-fac6a458f63e);

IF
EnteredTrigger((GUIDSTRING)_Var1, S_LOW_Park_LoversADTrigger_c57ae459-abc3-44ef-8087-07dc7f0dd574, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_Lovers_d8527bcc-bee1-3105-48f7-6a92ee6843ac, S_LOW_Park_LoversMale_cc2aca46-3a9a-4637-98a4-dc812b71ff6d, S_LOW_Park_LoversFemale_bf8d1fd2-53ea-4df4-9924-5136a4345ef3);
PROC_TriggerUnregisterForParty(S_LOW_Park_LoversADTrigger_c57ae459-abc3-44ef-8087-07dc7f0dd574);

IF
EnteredTrigger((GUIDSTRING)_Var1, S_LOW_Park_VampireBookClubADTrigger_99fab05c-0fa4-47e8-a0e0-b58418cd7dcf, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_BookClub_08c21fc1-b3b3-cbbd-86b1-90a0d5755f02, S_LOW_Park_FanclubMember01_32c18a38-6f75-4e72-8072-409dae627929, S_LOW_Park_FanclubMember02_c11362d2-c6dd-48e7-87a1-775562ede7f1, S_LOW_Park_FanclubMember03_b91ad1bf-f323-4378-bc47-3492efbd10ae);
PROC_TriggerUnregisterForParty(S_LOW_Park_VampireBookClubADTrigger_99fab05c-0fa4-47e8-a0e0-b58418cd7dcf);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_Park_BoyWithDogADTrigger_f617b7b6-b85b-4532-88ca-4356e9541533, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_BoyWithDog_6a1ec550-c243-409e-bc0c-98c8ff70681a, S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09);
PROC_TriggerUnregisterForParty(S_LOW_Park_BoyWithDogADTrigger_f617b7b6-b85b-4532-88ca-4356e9541533);

IF
FlagSet(LOW_Park_Event_CalmedRufie_9f508901-35f3-41be-bf83-8195d206ee76, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_CharacterMoveTo(S_LOW_Park_BoyWithDog_ab5e67c3-f0f4-4234-b36d-0bfad1592d09, S_LOW_Park_BystandersOffstage_PointTrigger_b049b78f-6100-4eea-a89f-beda5ece53bf, "Walk", "LOW_Park_BoyAndDogLeave");
PROC_CharacterMoveTo(S_LOW_Park_DogWithBoy_549bb04f-8243-4366-ae75-fcbb98d5ef9d, S_LOW_Park_BystandersOffstage_PointTrigger_b049b78f-6100-4eea-a89f-beda5ece53bf, "Walk", "LOW_Park_BoyAndDogLeave");

IF
EntityEvent((CHARACTER)_Var1, "LOW_Park_BoyAndDogLeave", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Walk", 0, "LOW_Park_BoyAndDogOffMap");

QRY
QRY_SelectCustomDialog_AfterGenerics(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SelectedDialog(LOW_Park_ElderlyCouple_6c1f315a-ea71-2444-20c9-4888ad5240d3, S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, _Var1);

QRY
QRY_SelectCustomDialog_AfterGenerics(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SelectedDialog(LOW_Park_ElderlyCouple_6c1f315a-ea71-2444-20c9-4888ad5240d3, S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, _Var1);

IF
DialogEnded(LOW_Park_ElderlyCouple_6c1f315a-ea71-2444-20c9-4888ad5240d3, _, _, _, _)
AND
DB_GlobalFlag(LOW_Park_Event_ElderlyCoupleLeaves_28fef939-7fa2-42e6-914e-6c7b3539c72d, _, _, _, _)
THEN
PROC_CharacterMoveTo(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, S_LOW_Park_BystandersOffstage_PointTrigger_b049b78f-6100-4eea-a89f-beda5ece53bf, "Walk", "LOW_Park_ElderlyCoupleLeave");
PROC_CharacterMoveTo(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, S_LOW_Park_BystandersOffstage_PointTrigger_b049b78f-6100-4eea-a89f-beda5ece53bf, "Walk", "LOW_Park_ElderlyCoupleLeave");
NOT DB_GLO_DefeatCounter(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd, "LOW_Park_CivilianMurders");
NOT DB_GLO_DefeatCounter(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82, "LOW_Park_CivilianMurders");

IF
EntityEvent((CHARACTER)_Var1, "LOW_Park_ElderlyCoupleLeave", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Walk", 0, "LOW_Park_ElderlyCoupleOffMap");

IF
EnteredTrigger((GUIDSTRING)_Var1, LOW_Park_AfterCombatChildADTrigger_08be9052-d0e2-4eb7-a6c7-58dac58395e2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_Park_AD_NosyKids_2a7e6be6-9998-b992-cc8e-c6daa35facb9, LOW_Park_AfterCombatChild01_dda4e182-e43e-4643-853f-ae6b0d0c0388, LOW_Park_AfterCombatChild02_af76d1de-e86d-49b5-9fd0-306f847b68e1, LOW_Park_AfterCombatChild03_f793b719-0925-46ed-a6ad-b3e169d9572d);
PROC_TriggerUnregisterForParty(LOW_Park_AfterCombatChildADTrigger_08be9052-d0e2-4eb7-a6c7-58dac58395e2);

IF
DB_LOW_Park_Replacements(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 0);

IF
LongRestStarted()
AND
DB_GlobalFlag(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c, _, _, _, _)
AND
QRY_OnlyOnce("LOW_Park_SwapCiviliansInPark", _, _, _, _)
THEN
DB_LOW_Park_Replacements(S_LOW_Park_ElderlyCouple01_a7270d7b-7fc1-4205-a7be-5bef768705fd);
DB_LOW_Park_Replacements(S_LOW_Park_ElderlyCouple02_68da1638-59be-4cdd-8df6-93df9f08df82);
SetOnStage(S_LOW_Park_FlamingFist1_bbd05a60-77c7-48fe-9273-a9e5303c7c24, 0);
SetOnStage(S_LOW_Park_FlamingFist2_be3b99d0-b8ed-4d39-92e1-848f09e022c3, 0);
PROC_TriggerRegisterForParty(LOW_Park_AfterCombatChildADTrigger_08be9052-d0e2-4eb7-a6c7-58dac58395e2);
PROC_LOW_Park_OffstageCivilians();
PROC_LOW_Park_OnstageReplacements();

PROC
PROC_LOW_Park_OffstageCivilians()
AND
DB_LOW_Park_Civilians(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_Park_CivilianGroup(_Var1, _, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 0);

PROC
PROC_LOW_Park_OnstageReplacements()
AND
DB_LOW_Park_Replacements(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 1);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CivilianGroup(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_Defeated(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LOW_Park_GroupLeaves(_Var3);

PROC
PROC_LOW_Park_GroupLeaves((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LOW_Park_CivilianGroup(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(_Var2, "Run", 0, "LOW_Park_FledAfterCombat");
NOT DB_LOW_Park_Civilians(_Var2);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_Civilians(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_Park_CivilianGroup(_Var2, _, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(_Var2, "Run", 0, "LOW_Park_FledAfterCombat");
NOT DB_LOW_Park_Civilians(_Var2);

IF
FlagSet(GLO_Netherbrain_State_Emerge_a101a3f8-95cb-4d98-bb10-5965a43ef3bd, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c, _, _, _, _)
AND
DB_LOW_Park_Cultists(_Var3, _, _, _, _)
AND NOT
DB_Is_InCombat(_Var3, _, _, _, _)
THEN
SetOnStage(_Var3, 0);

IF
FlagSet(GLO_Netherbrain_State_Emerge_a101a3f8-95cb-4d98-bb10-5965a43ef3bd, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_Event_AbsoluteMessengerDied_2b89b979-7d80-4574-b89a-2d1eff182e2c, _, _, _, _)
THEN
PROC_CancelAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1);

IF
EnteredCombat((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_Cultists(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_Park_AddCiviliansToCombat", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LOW_Park_AddCiviliansToCombat(_Var1);

PROC
PROC_LOW_Park_AddCiviliansToCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_DefeatCounter(_Var2, "LOW_Park_CivilianMurders", _Var1, _Var1, _Var1)
THEN
PROC_EnterCombat(_Var2, _Var1);

PROC
PROC_GLO_DefeatCounter_Notify("LOW_Park_CivilianMurders", _, (INTEGER)_Var2, (INTEGER)_Var3, _)
AND
IntegerSum(_Var2, _Var3, 9, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_Park_Event_FinishedMurderSpree_befcdb46-1a93-4292-8c65-33f939f0dddd);

IF
FlagSet(LOW_Park_Event_FinishedMurderSpree_befcdb46-1a93-4292-8c65-33f939f0dddd, _, _, _, _)
AND
DB_GlobalFlag(LOW_Park_Event_PlayersSidedWithCutlists_cde0a074-fa2a-44a5-8025-77a86ff94ce7, _, _, _, _)
AND
GetClosestAlivePlayer(S_LOW_Bhaal_Leader_ecb818a4-d67d-4e7f-b917-552654a4cb61, _Var3, _, _, _)
AND NOT
QRY_StartDialogCustom(LOW_Park_MurderCongratulations_14ef4101-f469-be72-50bb-c37d7bf34727, S_LOW_Park_BhaalAssassin01_500d7c8c-60a6-40c6-86b0-82db100b530e, _Var3, 0, 0, 0, 0, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_Park_Event_CultistsLeave_fc3b853a-e001-4bd8-a199-a33082157094);

IF
FlagSet(LOW_Park_Event_FinishedMurderSpree_befcdb46-1a93-4292-8c65-33f939f0dddd, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Park_Event_PlayersSidedWithCutlists_cde0a074-fa2a-44a5-8025-77a86ff94ce7, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_Park_Event_CultistsLeave_fc3b853a-e001-4bd8-a199-a33082157094);

IF
FlagSet(LOW_Park_Event_CultistsLeave_fc3b853a-e001-4bd8-a199-a33082157094, _, _, _, _)
AND
DB_LOW_Park_Cultists(_Var3, _, _, _, _)
THEN
PROC_DisappearOutOfSight(_Var3, "Run", 0, "LOW_Park_CultistsDisappear");

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CombatGUID(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_Park_CombatGUID(_Var1);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CivilianGroup(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CivilianGroup(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(_Var4, "Run", 0, "LOW_Park_Dispersed");
PROC_RemoveDialog(_Var4);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Park_CiviliansSpreeTargets(_Var1, _, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_Park_CiviliansSpreeTargets(_Var1, 0);
DB_LOW_Park_CiviliansSpreeTargets(_Var1, 1);
PROC_LOW_Park_EvaluateCultistTargets();

IF
WentOnStage((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_Park_CiviliansSpreeTargets(_Var1, _, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_Park_CiviliansSpreeTargets(_Var1, 0);
DB_LOW_Park_CiviliansSpreeTargets(_Var1, 1);
PROC_LOW_Park_EvaluateCultistTargets();

PROC
PROC_LOW_Park_EvaluateCultistTargets()
AND NOT
DB_LOW_Park_CiviliansSpreeTargets(_, 0, _, _, _)
AND
DB_LOW_Park_Cultists(_Var2, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_Park_Event_FinishedMurderSpree_befcdb46-1a93-4292-8c65-33f939f0dddd);
PROC_RemoveDialog(_Var2);
PROC_CancelAmbush(S_LOW_Park_AmbushTrigger_a928be42-b963-48bb-bc62-5a42c39c55d1);


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act3b"
