Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_IsobelLastLightIntro", 836b17b8-03fd-4ad3-a115-e36aec8a5c1b);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_CursedTownSharTests", c7eee95c-a999-4139-a3b0-a644ef275599);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_SharTempleTrials", a538cacc-535d-48a4-9de2-71d25adddaa2);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_SoleDarkJusticiarSurvivor", ea8b4957-38be-4f63-997d-a7d5a65e58d2);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_SurgeonConfrontation", 4904e4b5-abe5-4f9b-b86a-134867ae4953);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_BalthazarUndeadServants", 54cc541a-d7b7-4902-9dc3-58d5a0a2bdf9);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_HeWhoWasQuestAssist", f38c8ffc-2ed3-453f-8ed8-808ee7cb46e4);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_HeWhoWasQuestDenied", 9995d5be-94a2-42a6-817d-c938a7acc2af);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_HarperFuneral", a7acde91-8e10-4166-b7fc-550b5de9cb9a);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_KethericMyrkulAllegiance", 10bd8caf-f0d5-4c6a-97fa-33d1638d92b1);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_AaasimarJournal", 3578758d-c812-4f8f-ac23-84e87b50fe45);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_NightsongFateFreedom", 060aa489-89c1-4b03-a888-de57b2903223);
DB_GLO_Backgrounds_Goal(ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act2_Acolyte_NightSongFateChained", f5ec643e-2d60-4ffe-906f-9c02240795b4);
DB_GLO_Backgrounds_ChainAfterCharacterFlag(TWN_Hospital_State_QuotedShar_a7277c9c-ad61-4207-9056-0f26db225703, "Act2_Acolyte_SurgeonConfrontation");
DB_GLO_Backgrounds_ChainAfterBookClosed(S_TWN_AasimarSurvivor_Journal_23960bf1-7391-439d-8027-600646017734, "Act2_Acolyte_AaasimarJournal");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_TakingIsobel_BriefInRoom_22c23201-13a8-916c-932c-a7976bb1f5a5, HAV_TakingIsobel_Event_IsobelToRoom_d1f2df3a-ba92-5599-0b19-b0d9da9c0f5c, "Act2_Acolyte_IsobelLastLightIntro");
DB_GLO_Backgrounds_ChainAfterDefeatCounterInCombat("SHA_Necromancer_NecroAndUndead", "Act2_Acolyte_BalthazarUndeadServants");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(HAV_HarperScouts_Event_SawYonasFuneral_b893f0f0-f776-cce4-78ec-2319d8303497, "Act2_Acolyte_HarperFuneral");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(SHA_NightsongPrison_Event_StartNightsongFreedDialog_737d8c1e-7970-2c6c-06ec-8ccb3a9bf25e, "Act2_Acolyte_NightsongFateFreedom");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SHA_NightsongPrison_Event_NightsongSentToMoonrise_685b9761-43b6-9004-8655-073096c62731, "Act2_Acolyte_NightSongFateChained");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_ServantOfTheRaven_State_TaskCompleted_0271ade4-4b59-4287-9fba-10e4aedf013b, "Act2_Acolyte_HeWhoWasQuestAssist");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_ServantOfTheRaven_State_MissionAbandoned_358c9395-06d3-4a91-bb2f-663e19be256c, "Act2_Acolyte_HeWhoWasQuestDenied");
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_ArabellaParentsFate", 78feba39-f777-41be-be77-c0cfa2981422);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_JaheiraTruthSerum", e3aaf4a4-eefe-4c1d-b587-c1c5bd7334b7);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_MolRaphaelLanceboard", 4a6d25e6-0358-4700-a47d-8e178820b534);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_OrhtonContractDetails", bb8ac46f-d735-4206-b592-f1f0b9c26eaf);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_AllegianceMoonriseLastLightSwitch", ed246c0d-3674-4d73-97cc-4335a1b2980b);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_MoonrisePrisonersCrime", c2c57b8c-be59-48e6-8e8e-e9bfe1b7ca35);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_MarcusLastLightCheckpointSolidarity", d2aae0b1-1cd3-4b97-86c9-496415a6127e);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_MarcusLastLightCheckpointExpose", 081c8b3e-5964-47aa-9a21-b1306acfd16f);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_ZrellBriefingPersuasion", a68ba4e8-effb-4a96-aec0-8a88add3b582);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_ZrellPostExecutionLie", 7fed554c-756f-4ece-8640-1302f08d2b60);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_MoonriseFreedGnolls", 3369c009-c5e8-4057-8f9d-fa1d64471559);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_BrewerFakeDrinking", 0e5efb05-97d9-4c4e-9027-d3a0e34bceef);
DB_GLO_Backgrounds_Goal(CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act2_Charlatan_TollTakerGoldRemoval", 5432e0b4-9d8f-4f65-9e8c-d3de15ba2828);
DB_GLO_Backgrounds_ChainAfterCharacterFlag(TWN_Distillery_State_FakedDrinking_71c9f8e5-27ae-4578-afbe-6c311848ebfc, "Act2_Charlatan_BrewerFakeDrinking");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_MolsDeal_Lanceboard_ThreeWay_3fc20a5a-83a6-e4a9-d9c2-536b0558ec2c, HAV_MolsDeal_State_Lanceboard_ThreeWay_AstarionAskedRaphael_e1fabb89-91f2-d95f-a0e7-2870baebbaae, "Act2_Charlatan_MolRaphaelLanceboard");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_EnteringHaven_TadpoleCheckpoint_e51408cc-4f7a-5a5f-52e8-caf1359c1d6c, GLO_HAV_EnteringHaven_TadpoleCheckpoint_RevealedMarcus_b6d58e9d-ae50-95c5-0776-60d68fd8c71b, "Act2_Charlatan_MarcusLastLightCheckpointExpose");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(MOO_Executioner_1e888683-64d6-47f1-3cde-f1d9f430e3e6, MOO_Executioner_Event_GuardDies_5e42dba7-e1f7-f9c6-acab-1b4fb1137ffb, "Act2_Charlatan_ZrellBriefingPersuasion");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Charlatan_GoblinExecutionLie_0460726b-761a-16d5-b04f-4399c695013c, "Act2_Charlatan_ZrellPostExecutionLie");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Charlatan_GnollInfluence_4dc38a2d-0e4b-432a-808a-eb444e042f5f, "Act2_Charlatan_MoonriseFreedGnolls");
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_TollTakerLoot", fe353fd4-0d92-4d74-8f7b-1a747e71e7cb);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_SurgeonNurseTools", bb3b583e-228e-46e1-8478-70e8da5ca589);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_MoonriseJailbreak", 112f2cb0-4e38-465a-b68e-e664fc8a8501);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_GiveWulbrenTools", 4d9981a2-430a-4787-a404-0d0190b57cbb);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_TurnAgainstBalthazar", 26c33e1e-edc8-4ba1-9f1d-c8dbafb138da);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_DeliverIsobel", cb93816b-647a-4f2b-bc5e-60fc55c5f7cc);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_BrewerPoisonRecipe", 2f3e7f20-b3ec-4d0d-b8ea-b7e7c2c4d5a3);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_AcceptMarcusProposition", 5d208e30-6103-429a-936c-6b3c1083529b);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_KethericIsobelMoonriseRooms", 519ea5bd-d72c-4616-ba7f-6627a0dc5f1a);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_TakeSharDagger", 567bbfc2-8e3c-443d-88b8-99e24b02c1cf);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_OrthonSharGem", f2f62ff9-bee0-4d17-839d-70d64203fe46);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_DriderMoonlantern", 90273ad2-0def-48ec-b864-f24dbab96b59);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_MoonriseRoahTrader", a8a8b6fb-59c1-4a54-9ad1-bb78736965dd);
DB_GLO_Backgrounds_Goal(CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act2_Criminal_MindflayerColonyVault", d48ae9b8-5d82-4e88-bb19-2b6ac5428f42);
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "AllEscaped", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "BoatAllEscaped", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "BoatNotAllEscaped", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "NotAllEscaped", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "AllEscapedHav", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "BoatAllEscapedHav", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "BoatNotAllEscapedHav", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HAV_SaveTieflingPrisoners", "NotAllEscapedHav", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "BoatEscapeHavBarcus", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "BoatEscapeHavWulbren", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "RoadEscapeHavBarcus", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "RoadEscapeHavWulbren", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "BoatEscapeNoHav", "Act2_Criminal_MoonriseJailbreak");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "RoadEscapeNoHav", "Act2_Criminal_MoonriseJailbreak");
DB_TWN_Hospital_NurseWeaponsTemplates(MAG_Surgeon_Bonesaw_81177d6e-6761-4f8e-9bbe-1e291dd18664);
DB_TWN_Hospital_NurseWeaponsTemplates(MAG_Surgeon_Leech_a27e3e3a-ef55-4733-9655-29c7913d26d5);
DB_TWN_Hospital_NurseWeaponsTemplates(MAG_Surgeon_Trepan_8fee8eb3-f16b-4b9a-85a0-d46a9cd4937e);
DB_TWN_Hospital_NurseWeaponsTemplates(MAG_Surgeon_Syringe_95c3af3c-83b9-4cc0-b633-1493b7daca4d);
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SHA_NightsongPrison_State_PlayerBetrayedNecro_ed6e37a5-ea65-cf0b-f70b-8e9e2a7e4ed2, "Act2_Criminal_TurnAgainstBalthazar");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(HAV_TakingIsobel_State_SidedWithSpy_5eb745b2-5043-2f36-4d3a-ee3f09ed7a82, "Act2_Criminal_AcceptMarcusProposition");
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_ShadowCurseSource", 9ade0a52-1f55-4069-9833-1c04407c87bb);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_LuteBroughtToArt", 142719c9-d230-4a95-9ac7-b80065ee7738);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_ArtHalsinThaumielQuestCompleted", da786ecf-4f55-4649-853a-ca5bba61fd4c);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_BrewerTallTalePerformance", 05e63ebf-dcba-4d45-a518-3763e9fd72bb);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_ListenedToOrthonContract", 2916367a-4e43-4d22-abd8-4f6c19b396a4);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_JaheiraBriefing", a6c2fe78-4539-4be6-963b-e72c448dac6c);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_HarperFuneralMeygan", bd53b41d-c173-4beb-9a21-3088376e0726);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_CurseTownSqaurePuzzleOpen", aeea29e9-b83e-4108-848e-a28e638dd877);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_TownLeadersFate", 30593852-b67c-406e-b78a-3cacfb5bc0f7);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_MoonriseMeatSound", 9ffff79a-5933-4452-b53e-2103b552e142);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_MoonriseGnollsEnslaved", 4349863f-e701-4fd1-8b16-dc1004562549);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_DriderSummoningHarp", 76e010ff-8834-42f9-8f69-365c030c019d);
DB_GLO_Backgrounds_Goal(ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act2_Entertainer_KethericRedemptionDialogue", 63903105-8de8-4379-9915-c56034b54283);
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SHA_Orthon_TrespassLair_68842a58-e440-fb14-4f64-21c1783469de, SHA_OrthonLair_Knows_RaphaelHiredOrthonToKillJusticiars_1ad8442f-6e33-ef35-68d1-5aafc916e5b2, "Act2_Entertainer_ListenedToOrthonContract");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_CursedFist_d19739b9-c366-4272-7306-6ad04076916d, SCL_AncientFist_State_HasWokenUpFist_45cddb53-edf5-4a9e-9943-898f55b29af3, "Act2_Entertainer_LuteBroughtToArt");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_Jaheira_a8318e4c-7e39-4f4f-1610-a9d3e7a1c1c8, HAV_Jaheira_Event_DrankWithJaheira_0c883fae-84dc-128f-45fb-528fdb33631d, "Act2_Entertainer_JaheiraBriefing");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SCL_Drider_Caravan_HalfOrcCaster_865adfae-1b72-1ed2-f961-d55abd4fb7b1, SCL_Drider_Event_UsedLyreToSummonDrider_ee63d453-206d-73f1-e95a-a9fe800fbc82, "Act2_Entertainer_DriderSummoningHarp");
DB_GLO_Backgrounds_ChainAfterBookClosed(S_MOO_MelodiaLetter_80590a99-b86d-4129-b763-c40f89e55e92, "Act2_Entertainer_KethericRedemptionDialogue");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Entertainer_RegainedControlGnoll_17ebd9a1-6476-4135-849a-00fb6fdeb510, "Act2_Entertainer_MoonriseGnollsEnslaved");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Assault_State_ConvincedKetheric_dffdf447-f3d6-32ad-2bbb-8f87402fef74, "Act2_Entertainer_KethericRedemptionDialogue");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_WallTentacle_Tentacle_EnteredVoid_49d4bd06-580e-1a06-8b7b-a96e17193deb, "Act2_Entertainer_MoonriseMeatSound");
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_NoDeathsHarperShadowAmbush", 25ba7788-c535-46fd-ba4f-0ecb4d081d23);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_SavingRolan", da5bdfcd-c24c-4692-96f0-94d30ec64630);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_LastLightAlfiraReunion", 0f80db5e-a5e2-47fb-9dda-7318dbbd7bc4);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_AcceptedJaheiraTruthSerum", 174fb83b-d81d-46c5-847d-637009d89aa5);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_PickSideIsobelMarcusConfrontation", 7030ca62-78da-472b-a280-46806d4b1a52);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_HelpedMolWinLanceboard", 1ae0f706-579c-4eeb-b8d9-334f267c789b);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_CursedTownSavedArabella", 56456389-4094-46b2-8b2e-41b201e263dd);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_TownBossKilledNoAdvantage", e0a5d52e-fabe-400f-bb6e-153f81a3bb1b);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_AllTownBossKilledNoAdvantage", 9514c5b3-4d88-41fe-b4bf-e4779927460c);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_MoonrisePrisonBreak", ac3cb2d1-35be-49af-b352-eb1f2e30d2f6);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_MoonriseGnollsReleased", 81978b06-b58d-441c-9b75-768a97803c67);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_BugbearMerchantFeatsOfStrength", 156bb5c0-6f6d-4bee-90ba-8f8150c0f9ab);
DB_GLO_Backgrounds_Goal(FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act2_FolkHero_FreedNightsong", ef6dd5ce-d028-4148-863a-a9d7e40ff2f4);
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_ArabellaPowers_State_MovedToCamp_b5f880bc-272e-e8a3-8ca1-b3dca3bce191, "Act2_FolkHero_CursedTownSavedArabella");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_MolsDeal_Lanceboard_ThreeWay_3fc20a5a-83a6-e4a9-d9c2-536b0558ec2c, HAV_MolsDeal_State_WonGame_cd117dc3-5e6e-4100-edc2-369c63479302, "Act2_FolkHero_HelpedMolWinLanceboard");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(SHA_NightsongPrison_Event_StartNightsongFreedDialog_737d8c1e-7970-2c6c-06ec-8ccb3a9bf25e, "Act2_FolkHero_FreedNightsong");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(HAV_Jaheira_State_DrankWine_f11d315b-78e7-7ef7-c20b-05f9e40acdbc, "Act2_FolkHero_AcceptedJaheiraTruthSerum");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_KitchenFight_Event_PlayerFreedGnoll_bc87cc92-9231-7412-92e2-3cb10b9da954, "Act2_FolkHero_MoonriseGnollsReleased");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(MOO_BugBearVendor_State_EarnedRespect_f364408c-b1a0-469b-bf89-975cb8a197c7, "Act2_FolkHero_BugbearMerchantFeatsOfStrength");
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_MoonlanternPixieDiscovery", c2526b93-3600-4190-9397-2b69eaf19089);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_SharTempleGemPuzzle", a9384962-4e09-4a2a-bbc8-3af87de32c31);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_FateOfMason", 273e7d34-0c53-4588-a8d1-53d97a2dcb07);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_SurgeonOperationWitness", ffad90c7-5c84-4ccd-b0a7-2a2c89eeb3be);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_BrewerPoisonRecipe", d4a0f57f-6ad6-4a31-82db-7b3d470bb06e);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_DrinkBrewerBrew", a921accc-2e5a-4e5f-b54c-dc9682e41e44);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_TollTakerLootRareItem", d2a0b221-ab53-4c7c-ba15-8ae235f093bb);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_WulbrenToolsReturned", e7cb68c0-8e90-47ed-b5c9-0f66f9b47be2);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_SharCeremonialDaggerTaken", b868e8eb-cb47-4a6b-a393-22eaab6d9d4f);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_SharSpearTaken", 151f0940-447d-466a-8100-a0496e8e9d27);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_BrilliantRetortTaken", ab0706ba-4cf0-4317-b11c-7a58cd870657);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_InfernalArmamentAquired", 65a4daf8-918c-4cf3-9d87-96eb721ad60d);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_DisplacerBeastCharmed", f5e9626f-226c-4769-b190-39993f1c8967);
DB_GLO_Backgrounds_Goal(GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act2_GuildArtisan_BloodToBloodMerchant", 7597846b-5f54-4b36-ab5f-7bd29068b830);
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Criminal_BrewerPoisonRecipe", "Act2_GuildArtisan_BrewerPoisonRecipe");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Criminal_TollTakerLoot", "Act2_GuildArtisan_TollTakerLootRareItem");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Criminal_TakeSharDagger", "Act2_GuildArtisan_SharCeremonialDaggerTaken");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(TWN_Distillery_State_DrankBrewersPoison_d9eefc6d-a1bf-4993-b97d-a0a99811d66e, "Act2_GuildArtisan_DrinkBrewerBrew");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(MOO_InfernalVendor_State_SoldBlood_ae50cf43-a0ef-4ce6-bdb1-0ccf628b9a63, "Act2_GuildArtisan_BloodToBloodMerchant");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Hospital_State_PeacefulResolution_3830c1aa-6271-4af8-ba6c-0537bad1c624, "Act2_GuildArtisan_SurgeonOperationWitness");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Hospital_Event_MakeNursesKillEachOther_eeaccd5b-792a-4aa2-8503-17e0075422c7, "Act2_GuildArtisan_SurgeonOperationWitness");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_WrootRequest_UnfortunateGnome_0ae97fbf-5572-a4f5-794d-c4095179e43c, HAV_WrootRequest_Event_GaveGift_7b1df8d9-36e9-2de8-3a77-1f1a8c6ff32e, "Act2_GuildArtisan_BrilliantRetortTaken");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_TieflingSurvivors_Weaponsmith_c2312421-411c-757e-551b-3e7ddbb9d7e7, GLO_Dammon_State_ReceivedFirstReward_42788583-a445-c643-c92a-9a0a7f5a47e4, "Act2_GuildArtisan_InfernalArmamentAquired");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(SHA_NightsongPrison_State_HasSpear_08b1de4b-9f5c-41aa-93ec-9bf4376754b6, "Act2_GuildArtisan_SharSpearTaken");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SHA_SpiderMeatHunk_9e191cf1-75cc-319e-c421-c79b44adab30, SHA_OrthonLair_Knows_MeatPoisoned_b6f8388d-b56e-18e4-b06b-0cb0e32db8cc, "Act2_GuildArtisan_DisplacerBeastCharmed");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(GLO_Pixie_State_SeenPixie_363a3dcd-3a1b-b181-c009-bfc447c30aac, "Act2_GuildArtisan_MoonlanternPixieDiscovery");
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_RecruitHalsin", b0cd4d82-1d71-459f-8e87-81071502d213);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_RecruitMinthara", d823d6a5-1364-44a2-b266-16479e85dfe0);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_BalthazarBellObtained", 4560b624-f03f-4bea-bf84-7a892f02a409);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_KethericStoryLearned", 79af24e7-83d5-4e87-bb1a-3430bfe47ee5);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_BribedWarden", 0997552c-8b97-4423-b586-5735ddb69df5);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_ExecutionSparedGoblins", f6668b63-5140-4da3-b660-c2ec0f790790);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_ExecutionKilledGoblins", 252135eb-e7e2-4b4c-ab89-1b543adc3b31);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_MeetingKetheric", 14eeb376-7dc4-4794-b779-d938bead3392);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_ArtAwoken", 5bfb30e2-05d1-48f0-b6dc-125c41b530ce);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_SharTrialsPassed", ca894998-d2fb-4cd1-b954-5a4d61fd0ca5);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_NoGoldGivenTollTaker", e1436a88-efed-42c6-b98e-e16fff406391);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_MetLordlyCat", 2c5d83f1-a4a6-4f84-ae72-d37622acd742);
DB_GLO_Backgrounds_Goal(NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act2_Noble_DriderEscortComplete", 3b5d8b50-1120-475b-8db9-fea8c8a0074c);
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Acolyte_SharTempleTrials", "Act2_Noble_SharTrialsPassed");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_AncientFist_State_HasWokenUpFist_45cddb53-edf5-4a9e-9943-898f55b29af3, "Act2_Noble_ArtAwoken");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Nobel_BribedWarden_738e5d04-a157-4c01-9839-6d50de3acb44, "Act2_Noble_BribedWarden");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_ReleasedGoblins_3cddb715-d7cc-d6ce-e166-bce7f242a240, "Act2_Noble_ExecutionSparedGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_GoblinsKillThemselves_26ffc4b9-58d5-02b2-1e9a-ea32d8935d11, "Act2_Noble_ExecutionKilledGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_GoblinsSuffocate_bd978044-c6dd-8ef2-4bec-3e7da40defc1, "Act2_Noble_ExecutionKilledGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_FightGoblins_b72d7ea2-16fb-f427-7317-4a7b1afad20b, "Act2_Noble_ExecutionKilledGoblins");
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_WonOliverHideNSeek", ab7d0782-d206-4dde-9c13-6e8cc15c9a28);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ProtectedHalsinPortal", 6fe44950-fa39-452d-a4d1-b1bcbbf532c5);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ExplorationWithoutMoonlantern", d458002d-623a-4b7a-a379-8a502c667c3c);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_CompleteSharNoLastLightMoonrise", e9d26b0e-5532-4f98-855b-3cfaa7bbbf13);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ThreeCombatEncountersSCL", 861ec3b7-5ce8-4fe9-9dd8-93bea6105a5c);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_SCLFullyExplored", f954355b-f3ce-42fa-981b-8dcb39f4885a);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_MeetingTadpoleHuntingCat", 7f2b63ee-7700-4333-99c9-126639cffa60);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_SurviveShadowCurseStage2", 52078289-77f1-4cfb-aa71-158cb1ab36a0);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ObtainOrhtonCrossbow", 75ab785d-b888-4a94-8c02-9385f0a28879);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_LongRestSCL", 7d5d0abb-5338-4f0d-867c-4849c145e548);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_NeverAffectedShadowCurse", 21f20b8d-8495-4a6e-8ef2-bfa5cfb264e8);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ExploreMoonriseExteriorPath", a2e29c35-8889-45f8-b0ea-11fb51390830);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_DrinkBrewerBrew", 9e7e47ee-13e8-4d92-a8de-7e4d1b1d9077);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ExploreOubliette", 13be43ec-4750-45b0-8856-51735ab7b0b3);
DB_GLO_Backgrounds_Goal(OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act2_Outlander_ExploreColonyFully", 2fcc733a-b7d8-409a-b972-e39417e0b48c);
DB_GLO_Backgrounds_ChainAfterCharacterFlag(TWN_Distillery_State_DrankBrewersPoisonAndSucceededOnSave_768ca886-68de-49e0-abf6-737bf80c4713, "Act2_Outlander_DrinkBrewerBrew");
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_Docks_SUB_b4608370-46b8-4ba3-a3e7-192a6aa509ee);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_Roof_SUB_77c94e75-2924-4ca3-b7bd-d631b18d6c73);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_MainFloorInterior_SUB_429a55cc-58d2-4469-9577-852131e1fff3);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_UpperFloorInterior_SUB_93c522d3-04c4-4f71-a1dc-043478c51301);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("MOO_Moonrise", S_MOO_Kitchen_SUB_b50b8553-0064-41d0-8595-266f69e35c33);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("HAV_LastLight", S_HAV_Haven_SUB_6ac001f4-9c56-4a1b-963d-a509e158ffab);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("HAV_LastLight", S_HAV_IsobelRoom_SUB_4310edec-0ce2-4ac0-adbd-c02d60b92c3d);
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers("HAV_LastLight", S_HAV_Haven_SUB_Cellar_eee18cb6-443a-4b8f-ad19-58dff3d731d8);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_SHA_Temple_SUB_348b76ee-33d8-471b-a95d-7ded0d6cdfd5);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_HAV_Haven_SUB_6ac001f4-9c56-4a1b-963d-a509e158ffab);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_TWN_Tollhouse_SUB_50e2410a-7d5e-48c3-abba-2b64c0c0d325);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_TWN_Distillery_SUB_7e2fdbcd-538e-4287-9f7c-477026bf81e5);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_TWN_MasonsGuild_SUB_6a7702c0-e417-4d84-a10b-0b582c0fbd44);
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(S_TWN_Hospital_SUB_2ec2cc09-94ab-4479-bacd-cd5ca6911833);
PROC_DeclareCounter("Act2_Backgrounds_EncountersBeaten");
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_BlightCombat1_AllPermadefeated_5ae14a1f-2b75-477e-9ce1-8aa0bfe3e27e);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_BlightCombat2_AllPermadefeated_85ebf0da-6918-44bb-853e-ecca27a33db7);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_BlightCombat3_AllPermadefeated_ab6d28c2-b516-422a-8547-fc972d2a09d3);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_ShadowBirds_AllPermadefeated_005d34cc-d0c0-4bf8-b3fd-7f83219c581a);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_Meazels_AllPermadefeated_f9e5a895-bc50-46d2-94de-38910fcf12b5);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_CombatGroups_State_KuoToas_AllPermadefeated_c13733df-bd3d-4d9c-b0af-4ce404e47541);
DB_GLO_Backgrounds_ShadowlandsEncounters(SCL_HarperScouts_State_ShadowsDefeated_bae50f7d-7347-4fb7-ae8a-9fda8f84fc9f);
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Outlander_CatBusiness_118c8b55-d25a-b92c-a9ba-1f70e81b1641, "Act2_Outlander_MeetingTadpoleHuntingCat");
DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(S_MOO_ExteriorIsobelRoomDoor_ea131a15-8fa2-41f2-b712-7cfe17dc91ae, S_MOO_IsobelRoomBox_25ef805a-d619-406a-8c60-2eec53e8183c);
DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(S_MOO_KethericBalconyDoor_bae900f7-e50a-48e7-8e20-5a81ac688fd9, S_MOO_KethericRoomPoly_d16ef571-5545-4ae4-9c3f-2aae0daea6ea);
DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(S_MOO_NecroRoomDoor_003_99432bb0-3ca4-4d42-ae2d-648cbb63edff, S_MOO_BalthazarRoomRegion_24ad78c8-a74d-4d49-9d72-f791ae87b6b8);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_DeadDruidBookSCL", bab10af4-7322-48d2-9cdc-a8ada0d28e2a);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_AasimarJournal", 4e1a0cbd-7c9b-421b-bc50-d56d59cbc370);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_ThormFamilyFates", 8381d24b-c688-41fe-bf72-582fca830af4);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_KethericShameRedemptionTrigger", db723f67-7c80-4a68-8bc6-5dae7e9177d8);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_TruthOfNightsongDiscovered", db956845-3371-41ff-8b0d-2e1f0c7bd57d);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_CursedTownSharranPuzzleSolved", 21631ab4-2d06-494f-80ef-d6db32740d70);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_SharranRitualPerformed", 7fdc9a91-335d-4272-bad2-7f4e52acc3ef);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_RatSoleSurvivorJusticiar", 58031aff-84e9-4aff-80b6-f95ff24cbaca);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_SharTempleEntrancePuzzle", 1fb7a68a-f7c7-414b-b812-22dc849caabf);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_MolWonLanceboard", 5f9e2612-6e3c-4827-9b2e-0cb9533a40d4);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_AwokenArt", f9927828-8103-42a7-af71-4525487da91f);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_GainedAccessToNecromancerLab", 07095a13-3f6e-44b5-977c-756eec4c69af);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_GainedAccessToNecromancerLabFlawlessly", 7463656b-5c16-4964-8db7-3bf5bf0a7c39);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_FoundSurgeonResearchNotes", 3d67b4b8-43ac-477c-8f44-dcd313aaed11);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_SourceOfMeatSoundDiscovered", 2c2794a5-51a2-44e5-bb01-85cfda2a0877);
DB_GLO_Backgrounds_Goal(SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act2_Sage_ColonyMindPuzzleCompleted", e1900740-52b0-4882-9a60-053635752597);
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Acolyte_AaasimarJournal", "Act2_Sage_AasimarJournal");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Entertainer_CurseTownSqaurePuzzleOpen", "Act2_Sage_CursedTownSharranPuzzleSolved");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Acolyte_SoleDarkJusticiarSurvivor", "Act2_Sage_RatSoleSurvivorJusticiar");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_CentralSquare_Event_GotBlessing_7eca37b0-d706-45e9-b1da-e0100a17f4eb, "Act2_Sage_SharranRitualPerformed");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_WallTentacle_Tentacle_EnteredVoid_49d4bd06-580e-1a06-8b7b-a96e17193deb, "Act2_Sage_SourceOfMeatSoundDiscovered");
DB_GLO_Backgrounds_ChainAfterBookClosed(S_TWN_Hospital_SurgeonResearch_4933e2e7-01b3-4055-99ae-1a9cd81f11c6, "Act2_Sage_FoundSurgeonResearchNotes");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_MolsDeal_Lanceboard_ThreeWay_3fc20a5a-83a6-e4a9-d9c2-536b0558ec2c, HAV_MolsDeal_State_WonGame_cd117dc3-5e6e-4100-edc2-369c63479302, "Act2_Sage_MolWonLanceboard");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_AncientFist_State_HasWokenUpFist_45cddb53-edf5-4a9e-9943-898f55b29af3, "Act2_Sage_AwokenArt");
DB_GLO_Backgrounds_ChainAfterBookClosed(S_SCL_DeadDruid_Journal_25ef83c5-9f8c-4f9b-a775-eda8116d291d, "Act2_Sage_DeadDruidBookSCL");
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_ThormFamilyMembersKilled", e978fdfc-5788-4015-b881-cad8b090b8b2);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_SheathedSword", 9960705b-2dd1-45f6-9681-458ecbda4bd0);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_IsobelSeluneBlessing", 1463ec88-438c-42f7-b098-f5388fcafa41);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_MirrorSharTrialComplete", 98983c9e-4ee2-41b9-9ab9-c4c352853dab);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_OutdrankBrewer", b9a21732-4af4-456e-a011-f3b98baef85b);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_Act2BossKilled", 4a791d40-3171-4da8-8598-e8839dcd9bd3);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_OrthonKilled", 31c76766-dbdf-429e-8596-b1b7dc5619af);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_LastLightDestroyed", 82d94486-056f-41d2-9e0b-0887434a2a4a);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_MoonriseDestroyed", 87541b6c-8d47-47b5-8f4a-95cd573a0da7);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_MoonriseSkeletonAssault", ca2090dd-08d7-42ce-9d64-3f72b164f194);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_ShowedOffToBugbear", a6c6abe3-d63d-4402-9ba3-b669b9256642);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_LiedToArabella", 52a82755-12a2-42e4-88a5-8f2860ef52a7);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_ToldArabellaTruth", 7e467c11-ddfa-4048-960e-86dba0fa083c);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_HarperDriderAmbushCompleted", 5a2c22bb-fcbc-4cb8-a0c0-c522826d1fc6);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_NightsongReleased", 10cbf4de-efaa-4d4e-a08c-7a0b6c08ae64);
DB_GLO_Backgrounds_Goal(SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act2_Soldier_NightsongDelivered", 98a007ff-7e82-46be-a9e7-f0801495e82a);
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Distillery_State_PeacefulResolution_ef40ccf6-a7d7-4fde-8fcf-82b947c29a44, "Act2_Soldier_OutdrankBrewer");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Distillery_State_PeacefulResolution_ef40ccf6-a7d7-4fde-8fcf-82b947c29a44, "Act2_Soldier_SheathedSword");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Hospital_State_PeacefulResolution_3830c1aa-6271-4af8-ba6c-0537bad1c624, "Act2_Soldier_SheathedSword");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Tollhouse_State_PeacefulResolution_2eb42178-c700-4742-9325-8fef38ed46ca, "Act2_Soldier_SheathedSword");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_FolkHero_FreedNightsong", "Act2_Soldier_NightsongReleased");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SHA_NightsongPrison_NecroAndNightsong_500474d5-3855-9b12-29d1-b6e7645d7385, SHA_NightsongPrison_Event_NightsongSentToMoonrise_685b9761-43b6-9004-8655-073096c62731, "Act2_Soldier_NightsongDelivered");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(MOO_BugBearVendor_State_EarnedRespect_f364408c-b1a0-469b-bf89-975cb8a197c7, "Act2_Soldier_ShowedOffToBugbear");
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_MolWonLanceboard", 0641488b-adee-455a-8125-ef947170355f);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_OrthonSparedPlayer", 275a6490-8cad-480e-906a-294014553dfe);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_BalthazarKilledPostMeeting", 3be091d0-0096-4b48-82af-241c8c4a9ba0);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_NightsongFreed", 3293cec0-c4f7-4ad5-8f78-cc0a7a3bdafa);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_WulbrenEscapedMoonrise", 0bfa87f8-0e41-422d-9ae5-6ecfddfbddfd);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_EscapedOubliette", eeda115d-8a91-4a26-96c3-32145d1d9fc0);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_PlayedBothGamesOliver", ce27b13d-533b-4fb2-8844-c05d1d0c69ca);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_RefusedSpikedWineJaheira", 55abd33d-cfa8-4b13-8a97-bc8d383fd941);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_MintharaRescued", d2daf623-07fe-44a2-b48f-8122afd74efb);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_ExecutionGoblinsSpared", e9b571a6-bb59-4670-81c7-897e5c05e4fd);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_ZrellMindMeldBlocked", 9d245815-a45b-407c-b4e3-c1de5ec14018);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_MetAllAct2Cats", 2376bd84-3195-4b80-b460-5e5a4c0ebe5c);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_MoonriseGnollsFreed", 3a9555b4-28f9-4a32-9a22-62b969f9d132);
DB_GLO_Backgrounds_Goal(URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act2_Urchin_MolRescuedFromColony", 9b74678c-88df-497a-99e9-28c243aeb4dd);
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(HAV_MolsDeal_Lanceboard_ThreeWay_3fc20a5a-83a6-e4a9-d9c2-536b0558ec2c, HAV_MolsDeal_State_WonGame_cd117dc3-5e6e-4100-edc2-369c63479302, "Act2_Urchin_MolWonLanceboard");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Charlatan_JaheiraTruthSerum", "Act2_Urchin_RefusedSpikedWineJaheira");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SHA_Orthon_TrespassLair_68842a58-e440-fb14-4f64-21c1783469de, SHA_Orthon_Event_SearchPersuasionSuccess_115ec894-0132-c67e-9eb6-baa4d44afbcc, "Act2_Urchin_OrthonSparedPlayer");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag(SHA_NightsongPrison_NecroAndNightsong_500474d5-3855-9b12-29d1-b6e7645d7385, SHA_NightsongPrison_State_PlayerBetrayedNecro_ed6e37a5-ea65-cf0b-f70b-8e9e2a7e4ed2, "Act2_Urchin_BalthazarKilledPostMeeting");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_FolkHero_FreedNightsong", "Act2_Urchin_NightsongFreed");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "BoatEscapeHavWulbren", "Act2_Urchin_WulbrenEscapedMoonrise");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_GnomeRescue", "RoadEscapeHavWulbren", "Act2_Urchin_WulbrenEscapedMoonrise");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_MintharaFate", "MintharaEscapedToCamp", "Act2_Urchin_MintharaRescued");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_MintharaFate", "MintharaEscapedDisappear", "Act2_Urchin_MintharaRescued");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_ReleasedGoblins_3cddb715-d7cc-d6ce-e166-bce7f242a240, "Act2_Urchin_ExecutionGoblinsSpared");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Urchin_BlockedZrellMindMeld_876318a6-435b-7d50-af92-4e0f23c3e951, "Act2_Urchin_ZrellMindMeldBlocked");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_Urchin_BreakFreeGnolls_380b9013-10fc-d268-fd0c-c21d73684cb1, "Act2_Urchin_MoonriseGnollsFreed");
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_BalthazarKilled", 70b199ec-8adf-431d-acb2-924ba6b70aaa);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_KethericKilled", 40b30829-9b9e-4504-b4dc-70f8e8171864);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_IsobelKilled", 656ee551-ec7d-4df5-9196-b6c47a311522);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_NightsongKilled", b0e5714f-1270-49c1-a96b-0301f128e887);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_JaheiraKilled", 183d21ee-7b32-4ee4-a8d9-0f982ef32ca7);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_MoonriseGnollsFreed", 9ca01e3e-f3f3-4bea-b4e0-ce1fe6cdc15b);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_MirrorSharTrialCompleted", dce5178f-68d8-4734-a7d4-b11c985eaae6);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_OrthonContractLoophole", 08dccd1c-e2d9-48b8-abfa-e51c82033eb4);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_BrewerOverdrinking", cea69cc5-5c15-4916-b74b-db85c80eac87);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_SurgeonKilledByNurses", 2ab29095-ec5c-46c1-86ef-305818cedad8);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_ExecutionKilledGoblins", 9a501e5b-7e6b-43fd-9a77-ba1aae92f87d);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_PixieKilled", 44e5b404-e3a1-4c19-9a60-8075efd18037);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_GoblinFetchedBone", bb91826c-65cb-491a-93e8-626b481aff05);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_ZhentTruthRevealed", 308a6523-0515-43cd-ab4b-729f0699a720);
DB_GLO_Backgrounds_Goal(HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act2_HauntedOne_MintharaTortured", 9e90090e-0781-4302-8ed4-0bf5358cbcc4);
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Soldier_OutdrankBrewer", "Act2_HauntedOne_BrewerOverdrinking");
DB_GLO_Backgrounds_ChainAfterGoal("Act2_Soldier_MirrorSharTrialComplete", "Act2_HauntedOne_MirrorSharTrialCompleted");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(TWN_Hospital_State_NursesKilledSurgeon_dc371af2-0788-43f9-990f-aaaf2192f8ca, "Act2_HauntedOne_SurgeonKilledByNurses");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SHA_OrthonLair_Event_OrthonKillsSelf_5779d2a2-1676-463d-905b-699e9c7b1bc7, "Act2_HauntedOne_OrthonContractLoophole");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SHA_NightsongPrison_State_ShadowheartKilledNightsong_3cac3cd6-4c16-44a6-8246-a91922821169, "Act2_HauntedOne_NightsongKilled");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_Pixie_State_Dead_379ba580-46dc-db81-dae1-581117e54e03, "Act2_HauntedOne_PixieKilled");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(SCL_EntryPoint_Event_GoblinDiesInShadowcurse_e5c11971-1b58-0fd9-044c-cb81fa8b2018, "Act2_HauntedOne_GoblinFetchedBone");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Background_HauntedOne_BreakControl_ae98dace-99d5-83ca-ff2e-360587d59e23, "Act2_HauntedOne_MoonriseGnollsFreed");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_GoblinsKillThemselves_26ffc4b9-58d5-02b2-1e9a-ea32d8935d11, "Act2_HauntedOne_ExecutionKilledGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_GoblinsSuffocate_bd978044-c6dd-8ef2-4bec-3e7da40defc1, "Act2_HauntedOne_ExecutionKilledGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Execution_Event_FightGoblins_b72d7ea2-16fb-f427-7317-4a7b1afad20b, "Act2_HauntedOne_ExecutionKilledGoblins");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(MOO_Docks_Event_GuardJumped_c44a224f-3917-4438-91a8-20335d34fcdf, "Act2_HauntedOne_ZhentTruthRevealed");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("MOO_MintharaFate", "MintharaPacified", "Act2_HauntedOne_MintharaTortured");
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(MAG_Illithid_MindOverload_Weapon_Longsword_000_e03d245e-63e0-49bd-b3ea-db221156a9ce);
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(S_COL_Vault_MemoryJar_193f87db-6a26-4f00-a289-63e247740176);
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(S_COL_Morgue_SUB_884ab063-7c18-4887-a725-e8b9c6b0100c);
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(S_COL_NecroLab_SUB_d4ed37da-ab88-415d-8131-917f954e4926);
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(S_COL_TadpolingCentre_SUB_89b29154-b146-456f-8be9-3e10bf466844);
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(S_COL_Barracks_SUB_2e97382e-959c-4f45-9f69-56952bda7851);
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(S_COL_KethericShowdown_ChosenThree_Box_1581a588-b69f-41c9-a591-5959751f3cdf);

KBSECTION
IF
FlagSet(TWN_CentralSquare_State_AllStatuePlaquesActivated_649ffcc7-2627-4815-91e2-05aba69dcd53, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Acolyte_CursedTownSharTests");

IF
FlagSet(SHA_Trials_State_AllTrialsPassed_1e2b44c1-b11d-4aca-8cc5-627bf7a32c65, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Acolyte_SharTempleTrials");

IF
DialogEnded(SHA_LastJusticiar_JusticiarAppears_a91cb7a5-6d80-7c81-b227-25d461dd0a2f, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Acolyte_SoleDarkJusticiarSurvivor");

IF
DialogEnded(COL_KethericShowdown_ChosenThree_94ef9fa6-729b-d34a-623a-74a8c3ba187f, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Acolyte_KethericMyrkulAllegiance");

IF
QuestUpdateUnlocked((CHARACTER)_Var1, "SCL_ServantOfTheRaven", "ShadarKaiPermadefeatedOrLeft", (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_QuestIsAccepted("SCL_ServantOfTheRaven", _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Acolyte_HeWhoWasQuestDenied");

IF
FlagSet(TWN_Distillery_State_PassedDrinkingCheck_4cb1dafc-ee34-4200-a984-ea91798f3e49, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetFlag(TWN_Distillery_State_TriedFakingDrinking_760bf00d-7a38-45e3-9445-ee8f6db8928f, _Var1, 1, _Var1, _Var1)
THEN
SetFlag(TWN_Distillery_State_FakedDrinking_71c9f8e5-27ae-4578-afbe-6c311848ebfc, _Var1, _Var2);
ClearFlag(TWN_Distillery_State_TriedFakingDrinking_760bf00d-7a38-45e3-9445-ee8f6db8928f, _Var1, _Var2);

IF
StatusApplied(S_TWN_Tollhouse_TollhouseMaster_3b460226-8ca2-4bbc-9bd7-8bb947aa2c06, "TWN_TOLLHOUSE_TECHNICAL_NOHELMET", _, _, _)
AND
GetClosestPlayer(S_TWN_Tollhouse_TollhouseMaster_3b460226-8ca2-4bbc-9bd7-8bb947aa2c06, _Var3, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Charlatan_TollTakerGoldRemoval");

IF
DialogEnded(HAV_Jaheira_a8318e4c-7e39-4f4f-1610-a9d3e7a1c1c8, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_GlobalFlag(Hav_Jaheira_JaheiraDrinksWine_cea22ff5-58e5-01fb-8d46-78b68152e817, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
GetFlag(HAV_Jaheira_State_DrankWine_f11d315b-78e7-7ef7-c20b-05f9e40acdbc, _Var2, 0, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Charlatan_JaheiraTruthSerum");

IF
DialogEnded(HAV_EnteringHaven_TadpoleCheckpoint_e51408cc-4f7a-5a5f-52e8-caf1359c1d6c, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_GlobalFlag(HAV_EnteringHaven_State_FlamingSpyVouch_f3850740-f19b-44c0-a018-00fa00e87b31, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(GLO_HAV_EnteringHaven_TadpoleCheckpoint_RevealedMarcus_b6d58e9d-ae50-95c5-0776-60d68fd8c71b, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Charlatan_MarcusLastLightCheckpointSolidarity");

IF
FlagSet(SHA_NightsongPrison_State_NightsongFreed_24f27b06-6665-79ed-d7bf-e4bf356ca2fa, _, _, _, _)
AND
DB_GlobalFlag(MOO_Isobel_State_AtMoonrise_a95b7f8f-1454-433f-a496-71c9306683ce, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Charlatan_AllegianceMoonriseLastLightSwitch");

IF
FlagSet(MOO_Necromancer_State_AtMoonrise_f64507bf-aa53-6de9-0b59-c19d649bb0a5, _, _, _, _)
AND NOT
DB_GlobalFlag(MOO_Isobel_State_AtMoonrise_a95b7f8f-1454-433f-a496-71c9306683ce, _, _, _, _)
AND
DB_GlobalFlag(HAV_TakingIsobel_State_DefendedIsobel_0d0255e4-dd08-47d7-9b40-cce21ec4a5bd, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Charlatan_AllegianceMoonriseLastLightSwitch");

PROC
PROC_MOO_KitchenFight_GnollsFrenzy()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Charlatan_MoonriseFreedGnolls");

PROC
PROC_CharacterRegisterCrime_Success((GUIDSTRING)_Var1, "MOO_Jailbreak_SpokeWithPrisoner", _, _, _, (INTEGER)_Var5, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_MOO_Backgrounds_CharlatanPrisonSpeakerCompleted(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var1, _Var5);

IF
OnCrimeRemoved((INTEGER)_Var1, _, _, _, _, _, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var7, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_CharlatanPrisonSpeakerCompleted(_Var7, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CharlatanPrisonSpeakerCompleted(_Var7);
PROC_GLO_Backgrounds_CompleteGoal(_Var7, "Act2_Charlatan_MoonrisePrisonersCrime");

IF
OnCrimeResolved((INTEGER)_Var1, _, (GUIDSTRING)_Var3, _, _, _, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_MOO_Backgrounds_CanGetMoonrisePrisonersCrime(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var3, _Var1);
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Charlatan_MoonrisePrisonersCrime");

IF
OnCrimeResolved((INTEGER)_Var1, _, (CHARACTER)_Var3, _, _, _, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_MOO_Backgrounds_CanGetMoonrisePrisonersCrime(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CharlatanPrisonSpeaker(_Var3, _Var1);

QRY
QRY_MOO_Backgrounds_CanGetMoonrisePrisonersCrime((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetFlag(IsInPrison_c9b75b21-6eba-065e-7680-fc9a0c5838e4, _Var1, 0, _Var1, _Var1)
AND
GetFaction(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetRelation(ACT2_MOO_Jailers_81d21487-9f41-4280-8e21-44495cdc762e, _Var2, _Var3, _Var1, _Var1)
AND
_Var3 > 0
THEN
DB_NOOP(1);

IF
TemplateRemovedFrom((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TWN_Hospital_NurseWeaponsTemplates(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var3, ACT2_TWN_HOSPITAL_NURSE_04e1eeed-7fad-46b5-8555-cbdea2214b6d, 1, _Var1, _Var1)
AND NOT
DB_TWN_Hospital_LootedNurseWeapons(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TWN_Hospital_LootedNurseWeapons(_Var1);
PROC_TWN_Hospital_CheckUnlockNurseWeaponsBackgroundGoal();

PROC
PROC_TWN_Hospital_CheckUnlockNurseWeaponsBackgroundGoal()
AND
SysCount("DB_TWN_Hospital_LootedNurseWeapons", 1, 4, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_SurgeonNurseTools");

IF
TemplatesCombined(_, _, _, _, _, (CHARACTER)_Var6, (ITEM)_Var7, _, _, _)
AND
GetTemplate(_Var7, UNI_Poison_Brewer_6db9ed3d-2d72-43ad-a2b8-02365728f29f, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var6, "Act2_Criminal_BrewerPoisonRecipe");

IF
AddedTo(S_TWN_CentralSquare_RitualDagger_2b07d6f1-d698-47e2-9531-500cbffd9853, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_TakeSharDagger");

IF
TemplateRemovedFrom(_, _, S_TWN_Tollhouse_Tolls_2b1ace93-a0ea-49a3-9328-b62117a62753, _, _)
AND
GetClosestPlayer(S_TWN_Tollhouse_Tolls_2b1ace93-a0ea-49a3-9328-b62117a62753, _Var3, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Criminal_TollTakerLoot");

IF
AddedTo(DEC_Dungeon_Skeleton_Crawling_B_000_e88228ab-683a-472f-bb7a-877c1158c6c7, (ITEM)_Var1, _, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(_Var1);

IF
AddedTo((ITEM)_Var1, (CHARACTER)_Var2, _, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var4, "Act2_Criminal_MindflayerColonyVault");

IF
AddedTo((ITEM)_Var1, (CHARACTER)_Var2, _, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_GLO_Backgrounds_MindflayerColonyVault_LootItems(_Var1);

IF
FlagSet(SHA_Misc_State_HasOrthonGem_81dd03ea-b817-4dca-8be1-6019f012b462, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(SHA_Orthon_State_DefeatedOnce_8dd589d6-90fc-4a3b-b369-10440bd56520, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(SHA_Orthon_State_ContractEnded_26c35edd-3617-82b3-b4d7-1b7bb6410485, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_OrthonSharGem");

IF
FlagSet(HAV_TakingIsobel_State_IsobelTakenAway_b1c15a65-8060-4b9e-a73f-bde4cc143f7d, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Criminal_DeliverIsobel");

IF
DialogEnded(MOO_Executioner_1e888683-64d6-47f1-3cde-f1d9f430e3e6, _, _, _, _)
AND
GetRelation(ACT2_MOO_Executioner_19bbd2e1-3976-4104-9cd8-0000f061c3c3, Hero_a1542c81-6895-929e-4522-10ce218bb360, _Var2, _, _)
AND
_Var2 > -20
AND
DB_GlobalFlag(MOO_Executioner_Event_AskedToKidnapIsobel_59a781cf-4a28-fbc7-b032-05c051c0c9f4, _, _, _, _)
AND NOT
DB_GlobalFlag(MOO_Audience_State_GrantedPermission_ef5c0ad1-8aae-48b8-a438-5989b1778f9a, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Criminal_AcceptMarcusProposition");

IF
FlagSet(SCL_Drider_State_HasDriderMoonlantern_a48372d0-609f-48a4-9774-956f6f614c3c, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
GetFlag(HAV_TakingIsobel_State_IsobelGaveMoonlantern_2e9ac13e-9e09-c8b6-87e2-3f3998f5a6a7, NULL_00000000-0000-0000-0000-000000000000, 0, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_DriderMoonlantern");

IF
EnteredTrigger((CHARACTER)_Var1, S_MOO_KethericRoomPoly_d16ef571-5545-4ae4-9c3f-2aae0daea6ea, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_CriminalKethericRoom(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CriminalKethericRoom(1);
PROC_MOO_Backgrounds_CriminalCheckEnteredRooms(_Var1);

IF
EnteredTrigger((CHARACTER)_Var1, S_MOO_IsobelRoomBox_25ef805a-d619-406a-8c60-2eec53e8183c, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_CriminalIsobelRoom(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_CriminalIsobelRoom(1);
PROC_MOO_Backgrounds_CriminalCheckEnteredRooms(_Var1);

PROC
PROC_MOO_Backgrounds_CriminalCheckEnteredRooms((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_State_IsBeforeState(S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6, "MOO", "MOO_State_Assault", _Var1, _Var1)
AND
DB_MOO_Backgrounds_CriminalKethericRoom(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_MOO_Backgrounds_CriminalIsobelRoom(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_KethericIsobelMoonriseRooms");

PROC
PROC_GLO_Backgrounds_GuildArtisan_Trading((CHARACTER)_Var1, S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, _Var1, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel("SCL_Main_A", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Criminal_MoonriseRoahTrader");

IF
FlagSet(MOO_Jailbreak_State_GnomesHaveTools_740c0cea-1876-d336-7601-2418455692b1, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Criminal_GiveWulbrenTools");

PROC
PROC_TWN_CentralSquare_SlideWallDown()
AND
GetClosestPlayer(S_TWN_CentralSquare_Door_00e95616-f09c-446e-aa97-8d241fc68189, _Var1, _, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Entertainer_CurseTownSqaurePuzzleOpen");

IF
DialogStarted(TWN_Hospital_Surgeon_10b263cd-b704-9eb2-71f9-2c7f6eb4739b, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
DB_TWN_FateLearned("Surgeon");

IF
DialogStarted(TWN_Distillery_Brewer_c41d8459-3237-248f-c1bc-51e66892a65f, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
DB_TWN_FateLearned("Brewer");

IF
DialogStarted(TWN_Tollhouse_TollhouseMaster_1fc993a8-c338-7cd6-aef2-add52d540d28, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
DB_TWN_FateLearned("TollhouseCollector");

IF
DB_TWN_FateLearned("TollhouseCollector", _, _, _, _)
AND
DB_TWN_FateLearned("Brewer", _, _, _, _)
AND
DB_TWN_FateLearned("Surgeon", _, _, _, _)
AND
DB_TWN_FateLearned("Mason", _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Entertainer_TownLeadersFate");

IF
FlagSet(TWN_Distillery_State_GotToThirdDrink_54370fb9-4d55-4577-ae8b-916361c8c1df, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetFlag(TWN_Distillery_State_FailedPerformanceCheck_ed6c33b0-483c-4a4d-95c7-218fd21ca0ce, _Var1, 0, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Entertainer_BrewerTallTalePerformance");

IF
FlagSet(HAV_General_HarperScout_001_HasMet_1678422b-35f5-4823-8ab8-d8894eebb14c, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Entertainer_HarperFuneralMeygan");

IF
FlagSet(GLO_LiftingTheCurse_State_BreathHasBeenRestored_2113b54e-a140-4aa0-97ac-219fa7b7d038, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Entertainer_ArtHalsinThaumielQuestCompleted");

IF
TimerFinished("SCL_Drider_AppearsAfterUsingLyre", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Entertainer_DriderSummoningHarp");

IF
FlagSet(SCL_LiftingTheCurse_State_NightdomeDestroyed_ea76f9be-6d12-441d-8c63-de999d5b3e0c, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Entertainer_ShadowCurseSource");

IF
DB_PermaDefeated(S_TWN_Tollhouse_TollhouseMaster_3b460226-8ca2-4bbc-9bd7-8bb947aa2c06, _, _, _, _)
AND NOT
DB_GlobalFlag(TWN_Tollhouse_State_PeacefulResolution_2eb42178-c700-4742-9325-8fef38ed46ca, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TWN_Hospital_TollhouseMasterKilledNoWeakening(1);
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_TownBossKilledNoAdvantage");

IF
DB_PermaDefeated(S_TWN_Distillery_Brewer_4d9e3db3-9a78-4f4b-8101-1dd73c0f3be5, _, _, _, _)
AND NOT
DB_GlobalFlag(TWN_Distillery_State_PeacefulResolution_ef40ccf6-a7d7-4fde-8fcf-82b947c29a44, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TWN_Hospital_BrewerKilledNoWeakening(1);
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_TownBossKilledNoAdvantage");

IF
DB_PermaDefeated(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, _, _, _, _)
AND NOT
DB_GlobalFlag(TWN_Hospital_State_PeacefulResolution_3830c1aa-6271-4af8-ba6c-0537bad1c624, _, _, _, _)
AND NOT
DB_GlobalFlag(TWN_Hospital_Event_MakeNursesKillEachOther_eeaccd5b-792a-4aa2-8503-17e0075422c7, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TWN_Hospital_SurgeonKilledNoWeakening(1);
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_TownBossKilledNoAdvantage");

IF
DB_TWN_Hospital_TollhouseMasterKilledNoWeakening(1, _, _, _, _)
AND
DB_TWN_Hospital_BrewerKilledNoWeakening(1, _, _, _, _)
AND
DB_TWN_Hospital_SurgeonKilledNoWeakening(1, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_AllTownBossKilledNoAdvantage");

IF
DialogEnded(HAV_AlfiraTale_Bard_741330b4-77ee-f113-3974-4d4d61763d29, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
GetFlag(HAV_AlfiraTale_HasMet_Upset_6886508a-d28b-273f-e91b-3c671d1d3029, _Var2, 0, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_FolkHero_LastLightAlfiraReunion");

IF
DialogEnded(HAV_TakingIsobel_SpyCapture_1b698557-76c0-1166-6415-91fadb358985, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_FolkHero_PickSideIsobelMarcusConfrontation");

PROC
PROC_SCL_Drider_HarpersWin_SidedWithHarpers()
AND NOT
QRY_GLO_Backgrounds_AnyDriderHarpersPermadefeated()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_NoDeathsHarperShadowAmbush");

QRY
QRY_GLO_Backgrounds_AnyDriderHarpersPermadefeated()
AND
DB_SCL_Drider_HarpersGroup(_Var1, _, _, _Var1, _Var1)
AND NOT
QRY_State_IsBeforeState(_Var1, "SCL_DriderHarpers", "MovingToAmbush", _Var1, _Var1)
AND
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
FlagSet(SCL_Prodigy_State_SavedFromShadows_ad212abc-6ab6-9923-6c3f-ebae3d7ba8a7, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_FolkHero_SavingRolan");

IF
DB_MOO_Jailbreak_Prisoner(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_FolkHeroFailedMoonriseJailbreak(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_FolkHeroFailedMoonriseJailbreak(1);

PROC
PROC_MOO_Jailbreak_End()
AND NOT
DB_MOO_Backgrounds_FolkHeroFailedMoonriseJailbreak(1, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_FolkHero_MoonrisePrisonBreak");

IF
UseFinished((GUIDSTRING)_Var1, S_TWN_MasonsGuild_Plaque_fc0b2ed9-d912-4717-9b93-132ccda2f9e1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_GuildArtisan_FateOfMason");
DB_TWN_FateLearned("Mason");

IF
CastedSpell(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, (STRING)_Var1, _, _, _)
AND
DB_TWN_Hospital_SurgeonSpells(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var6, "Act2_GuildArtisan_SurgeonOperationWitness");

IF
TemplateRemovedFrom(MAG_Fire_HeatOnTakingFireDamage_Amulet_ad278f33-7c10-4779-88fc-d1448f25ae72, _, S_TWN_Tollhouse_ConfiscatedItems_9bb4a600-0da0-4e75-acb7-d1aa8ecde3d5, _, _)
AND
GetClosestPlayer(S_TWN_Tollhouse_Tolls_2b1ace93-a0ea-49a3-9328-b62117a62753, _Var2, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_GuildArtisan_TollTakerLootRareItem");

IF
FlagSet(SHA_Trials_Event_UnlockNightsongChamber_8e857d0c-990b-4029-aa28-f5b935fb8c0f, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_GuildArtisan_SharTempleGemPuzzle");

IF
FlagSet(MOO_Jailbreak_State_GnomesHaveTools_740c0cea-1876-d336-7601-2418455692b1, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_GuildArtisan_WulbrenToolsReturned");

IF
FlagSet(GEN_TransferNPCPayment_41179aa7-bc85-02b5-1399-71a651d9dc85, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(TWN_Tollhouse_TollhouseMaster_1fc993a8-c338-7cd6-aef2-add52d540d28, _Var2, _Var1, _Var1, _Var1)
THEN
DB_TWN_Tollhouse_GaveGold(1);

IF
DB_PermaDefeated(S_TWN_Tollhouse_TollhouseMaster_3b460226-8ca2-4bbc-9bd7-8bb947aa2c06, _, _, _, _)
AND NOT
DB_TWN_Tollhouse_GaveGold(1, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Noble_NoGoldGivenTollTaker");

IF
CastedSpell((CHARACTER)_Var1, "Shout_SHA_GolemBell_Summon", _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SHA_Necromancer_CanSummonFleshGolem(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_SHA_Necromancer_SummonGolemToCombat(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Noble_BalthazarBellObtained");

IF
DialogEnded(MOO_Audience_Ketheric_26cf4f1f-7f17-e59c-245c-6ed6e767d28f, _, _, _, _)
AND NOT
DB_GlobalFlag(GLO_Ketheric_State_AngryAtPlayer_10450626-d84e-4771-b6fe-7b46754cbbe9, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Noble_KethericStoryLearned");

IF
DialogEnded(COL_KethericShowdown_KethericIntro_f36e8087-cc97-0ddd-3f2f-846f18b93e9d, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Noble_KethericStoryLearned");

IF
DialogStarted(HAV_Cat_f0f605ba-c88e-10ee-22a4-f46464c43e17, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
IsTagged(_Var2, PETPAL_dc860a81-f3c2-4c1a-ab90-e7583324845c, 1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Noble_MetLordlyCat");

IF
DB_GlobalFlag(GLO_Origin_PartOfTheTeam_Halsin_77382f4f-8302-4642-b6ba-6f0bc8acf5c3, _, _, _, _)
AND
DB_GlobalFlag(GLO_LiftingTheCurse_State_HalsinRecruitable_2c8b6be0-558d-485c-b4f2-93ec1926a2fa, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Noble_RecruitHalsin");

PROC
PROC_State_Changed(S_SCL_Drider_aa59ce01-3d2e-42e8-a539-c07e0ea292ab, "SCL_TheDrider", "ReachedMoonriseTower", _, _)
AND
DB_GlobalFlag(SCL_Drider_State_SidedWithCaravan_57a698da-0149-48d1-91fa-9a84a5dcc293, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Noble_DriderEscortComplete");

IF
DB_PartOfTheTeam(S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Noble_RecruitMinthara");

IF
DialogStarted(MOO_Audience_Ketheric_26cf4f1f-7f17-e59c-245c-6ed6e767d28f, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Noble_MeetingKetheric");

IF
DialogStarted(MOO_Audience_RoofTransgression_72643ac1-4dcc-b11c-0410-815254c03095, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Noble_MeetingKetheric");

IF
DB_InRegion(_Var1, S_HAV_Haven_SUB_6ac001f4-9c56-4a1b-963d-a509e158ffab, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(GLO_Haven_EverEnteredBefore_f1176fa0-ec29-410e-bffa-24623b19c8e4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(GLO_Haven_EverEnteredBefore_f1176fa0-ec29-410e-bffa-24623b19c8e4);

IF
DB_GlobalFlag(SHA_NightsongPrison_State_PlayerEnteredPrison_f2cbe7cf-5223-4522-a649-879d08638282, _, _, _, _)
AND NOT
DB_GlobalFlag(GLO_MoonriseTower_EverEnteredBefore_26aeabb0-7644-4897-9bbd-7a95e3e8930f, _, _, _, _)
AND NOT
DB_GlobalFlag(GLO_Haven_EverEnteredBefore_f1176fa0-ec29-410e-bffa-24623b19c8e4, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_CompleteSharNoLastLightMoonrise");

IF
DB_InRegion(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GLO_Backgrounds_ExploreColonyFully_Visited(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_ExploreColonyFully_Visited(_Var1, _Var2);

IF
DB_GLO_Backgrounds_ExploreColonyFully_Visited(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
QRY_GLO_Backgrounds_ExploreColonyFully_AnyRegionNotVisited(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_ExploreColonyFully");

QRY
QRY_GLO_Backgrounds_ExploreColonyFully_AnyRegionNotVisited((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_Backgrounds_ExploreColonyFully_Subregions(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GLO_Backgrounds_ExploreColonyFully_Visited(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
FlagSet(SCL_OliversDiary_FoundAgain_6596035e-4583-764f-52fb-c995ec9737bf, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Outlander_WonOliverHideNSeek");

IF
FlagSet(HAV_LiftingTheCurse_State_ChannelingComplete_1afd47bc-e8d5-464d-823a-7dba82fcf5c3, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Outlander_ProtectedHalsinPortal");

IF
StatusApplied((GUIDSTRING)_Var1, "SCL_MOONSHIELD", _, _, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_ExploreShadowlands_BlockGoal(1);

IF
StatusApplied((GUIDSTRING)_Var1, "GLO_PIXIESHIELD", _, _, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_ExploreShadowlands_BlockGoal(1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GLO_Backgrounds_ExploreShadowlands_RegionTriggers(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_ExploreShadowlands_Visited(_Var1, _Var3);

IF
DB_GLO_Backgrounds_ExploreShadowlands_Visited(_Var1, "MOO_Moonrise", _Var1, _Var1, _Var1)
AND
DB_GLO_Backgrounds_ExploreShadowlands_Visited(_Var1, "HAV_LastLight", _Var1, _Var1, _Var1)
AND NOT
DB_GLO_Backgrounds_ExploreShadowlands_BlockGoal(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_ExplorationWithoutMoonlantern");

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_ExploringTheShadowlands(_Var1, _Var2);

PROC
PROC_GLO_Backgrounds_ExploringTheShadowlands((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreasExplored(_Var1, _Var2);

PROC
PROC_GLO_Backgrounds_ExploringTheShadowlands((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
QRY_GLO_Backgrounds_ExploreShadowlands_AnyAreaNotVisited(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_SCLFullyExplored");

QRY
QRY_GLO_Backgrounds_ExploreShadowlands_AnyAreaNotVisited((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreas(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GLO_Backgrounds_ExploreShadowlands_KeyAreasExplored(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
StatusApplied((CHARACTER)_Var1, "SCL_SHADOW_CURSE_3", _, _, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_SurviveShadowCurseStage2");

PROC
PROC_LongRest_Player((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ActiveCamp("SCLMAIN", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_LongRestSCL");

IF
StatusApplied((GUIDSTRING)_Var1, "SCL_SHADOW_CURSE", _, _, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Backgrounds_AffectedByShadowcurse(_Var1);

IF
LeftTrigger((GUIDSTRING)_Var1, S_SHA_NightsongPrison_SUB_0a302268-dd92-4462-99e5-ca7491815ec0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_GLO_Backgrounds_AffectedByShadowcurse(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_NeverAffectedShadowCurse");

IF
FlagSet((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_Backgrounds_ShadowlandsEncounters(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_IncreaseCounter("Act2_Backgrounds_EncountersBeaten");

PROC
PROC_CounterIncreased("Act2_Backgrounds_EncountersBeaten", 3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_ThreeCombatEncountersSCL");

IF
TemplateAddedTo(MAG_Orthon_Hellfire_HandCrossbow_f5b3b579-3569-4f6d-835c-9c19245152d6, _, (GUIDSTRING)_Var2, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Outlander_ObtainOrhtonCrossbow");

IF
DB_InRegion(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(_Var3, _Var2);

IF
UseFinished((CHARACTER)_Var1, (ITEM)_Var2, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_MOO_Backgrounds_OutlanderMoonriseOutsideEntranceDoors(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
IsOpening(_Var2, 1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_ExploreMoonriseExteriorPath");

IF
EnteredTrigger((GUIDSTRING)_Var1, S_MOO_Oubliette_SUB_c6f54de0-1c8f-4cf8-bcf9-b13c8f53b05b, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Outlander_ExploreOubliette");

IF
DB_InteractiveDialogSpeaker(_Var1, S_MOO_Ketheric_e9918f3e-5b87-40a3-a9bd-61545151573f, _Var1, _Var1, _Var1)
THEN
DB_TWN_FateLearned("Ketheric");

IF
DB_TWN_FateLearned("TollhouseCollector", _, _, _, _)
AND
DB_TWN_FateLearned("Brewer", _, _, _, _)
AND
DB_TWN_FateLearned("Surgeon", _, _, _, _)
AND
DB_TWN_FateLearned("Mason", _, _, _, _)
AND
DB_TWN_FateLearned("Ketheric", _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Sage_ThormFamilyFates");

IF
FlagSet(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Sage_ColonyMindPuzzleCompleted");

IF
FlagSet(SHA_NightsongPrison_Knows_NightsongIsPerson_8ff6e057-ff4b-a033-870c-8d33a1c444d0, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Sage_TruthOfNightsongDiscovered");

IF
FlagSet(MOO_BalthazarsSecrets_State_BookcaseOpened_f24ceb4a-5095-4509-8daa-406dbf8f8685, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Sage_GainedAccessToNecromancerLab");

IF
UseFinished((CHARACTER)_Var1, (ITEM)_Var2, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_MOO_BalthazarsSecrets_TrapBooks(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var2 != S_MOO_TrapBook_001_bb48a971-aad4-4c10-8907-addb6d32ba94
THEN
DB_MOO_Backgrounds_FailedGainedAccessToNecromancerLabFlawlessly(1);

IF
FlagSet(MOO_BalthazarsSecrets_State_BookcaseOpened_f24ceb4a-5095-4509-8daa-406dbf8f8685, _, _, _, _)
AND NOT
DB_MOO_Backgrounds_FailedGainedAccessToNecromancerLabFlawlessly(1, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Sage_GainedAccessToNecromancerLabFlawlessly");

IF
FlagSet(TWN_ArabellasPowers_State_ToldParentsDead_cc1a3765-9334-cb88-602f-49ca052de39c, NULL_00000000-0000-0000-0000-000000000000, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("Background_Goal_Act2_Soldier_Arabella", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Soldier_ToldArabellaTruth");

IF
FlagSet(TWN_ArabellaPowers_State_HandledNews_Jergal_80a6a1bd-051a-b2d4-3c36-3dedeaf8d02b, NULL_00000000-0000-0000-0000-000000000000, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("Background_Goal_Act2_Soldier_Arabella", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Soldier_LiedToArabella");
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Charlatan_ArabellaParentsFate");

IF
DB_PermaDefeated(S_MOO_Ketheric_e9918f3e-5b87-40a3-a9bd-61545151573f, _, _, _, _)
AND
DB_PermaDefeated(S_TWN_Tollhouse_TollhouseMaster_3b460226-8ca2-4bbc-9bd7-8bb947aa2c06, _, _, _, _)
AND
DB_PermaDefeated(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, _, _, _, _)
AND
DB_PermaDefeated(S_TWN_Distillery_Brewer_4d9e3db3-9a78-4f4b-8101-1dd73c0f3be5, _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_ThormFamilyMembersKilled");

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OnlyOnce("SCL_BossKilledInOneRound", _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(CURRENTREGION_SCL_Main_A_f76b85b5-b557-4409-98fd-cc7b22f8292b, _Var1, _Var1, _Var1, _Var1)
AND
DB_Was_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_CMB_RoundCounter(_Var2, 2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Was_InCombat(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_TWN_CheckUnlockOneRoundBossKillGoal(_Var3, _Var1);

PROC
PROC_TWN_CheckUnlockOneRoundBossKillGoal((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
IsTagged(_Var1, SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, 1, _Var1, _Var1)
AND
IsBoss(_Var2, 1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("SCL_BossKilledInOneRound", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_Act2BossKilled");

IF
CastedSpell(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, (STRING)_Var1, _, _, _)
AND
DB_TWN_Hospital_SurgeonSpells(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_TWN_Hospital_SurgeonPerformedOperation(1);

IF
DB_PermaDefeated(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, _, _, _, _)
AND NOT
DB_TWN_Hospital_SurgeonPerformedOperation(1, _, _, _, _)
AND
GetClosestPlayer(S_TWN_Hospital_Surgeon_e58b8b34-038b-4858-b817-c2a8096a9381, _Var1, _, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_NoInsurance");

IF
StatusApplied((GUIDSTRING)_Var1, "HAV_SELUNEOINTMENT", _, _, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_IsobelSeluneBlessing");

IF
FlagSet(HAV_Siege_State_NoProtection_2da0dbf1-88ca-4cab-9c8f-ee8921822958, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Soldier_LastLightDestroyed");

IF
FlagSet(SHA_Trials_Event_PlayersWinCombat_dea864a4-3c94-4315-8b02-c2f813cd57d2, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Soldier_MirrorSharTrialComplete");

IF
FlagSet(SHA_Orthon_State_DefeatedOnce_8dd589d6-90fc-4a3b-b369-10440bd56520, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Soldier_OrthonKilled");

PROC
PROC_SCL_Drider_CheckWinner()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_HarperDriderAmbushCompleted");

PROC
PROC_MOO_Assault_Over()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_MoonriseDestroyed");

PROC
PROC_MOO_Assault_Over()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_MOO_Prison_SUB_b262cbea-f40c-47da-9f34-ba8ce5bf782b, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Soldier_MoonriseDestroyed");

IF
FlagSet(MOO_Assault_State_RooftopDefeated_9cdb5021-a664-4172-8f6b-3eb46e99cac5, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
AND
DB_InRegion(_Var3, S_MOO_Prison_SUB_b262cbea-f40c-47da-9f34-ba8ce5bf782b, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_Soldier_MoonriseSkeletonAssault");

IF
EnteredTrigger((GUIDSTRING)_Var1, S_MOO_Oubliette_SUB_c6f54de0-1c8f-4cf8-bcf9-b13c8f53b05b, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_MOO_Backgrounds_UrchinEnteredOubliette(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_MOO_Backgrounds_UrchinEnteredOubliette(1);

IF
LeftTrigger((GUIDSTRING)_Var1, S_MOO_Oubliette_SUB_c6f54de0-1c8f-4cf8-bcf9-b13c8f53b05b, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_MOO_Backgrounds_UrchinEnteredOubliette(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Urchin_EscapedOubliette");

PROC
PROC_MOO_KitchenFight_GnollsFrenzy()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Urchin_MoonriseGnollsFreed");

IF
FlagSet(HAV_Cat_HasMet_dd1b4f56-3dd1-6a4d-e83f-042302cb9ab7, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetFlag(MOO_CatBusiness_HasMet_SwA_bc0cc772-4c2c-426a-b9f9-934181fe60b5, _Var1, 1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Urchin_MetAllAct2Cats");

IF
FlagSet(MOO_CatBusiness_HasMet_SwA_bc0cc772-4c2c-426a-b9f9-934181fe60b5, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetFlag(HAV_Cat_HasMet_dd1b4f56-3dd1-6a4d-e83f-042302cb9ab7, _Var1, 1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_Urchin_MetAllAct2Cats");

IF
DialogStarted(SCL_OliversDiary_OliverShadow_7924b3e2-0329-7e1d-616c-6d2df0c43b68, _, _, _, _)
AND
DB_GlobalFlag(SCL_OliversDiary_State_SecondRound_b361382e-f0a8-f6eb-902a-da4d5044f90e, _, _, _, _)
AND
DB_Players(_Var2, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var2, "Act2_Urchin_PlayedBothGamesOliver");

IF
FlagSet(HAV_Isobel_State_IsDead_af8b23d8-d04d-4e42-8a56-be909226e706, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_HauntedOne_IsobelKilled");

IF
FlagSet(GLO_Jaheira_State_PermaDefeated_932fb5a1-00ba-4621-b7ae-877d40d7ddcd, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_HauntedOne_JaheiraKilled");

IF
FlagSet(SHA_Necromancer_State_PermaDefeated_c8fc43c5-f6bb-4c15-9869-8ceefc288ef2, _, _, _, _)
AND
DB_Players(_Var3, _, _, _, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var3, "Act2_HauntedOne_BalthazarKilled");

PROC
PROC_COL_KethericShowdown_AfterDefeat()
AND
DB_ORI_DarkUrge(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_HauntedOne_KethericKilled");

PROC
PROC_MOO_KitchenFight_GnollsFrenzy()
AND
DB_ORI_DarkUrge(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_MOO_MoonriseTower_SUB_14187ad9-cf83-44f9-81bf-bb46cb4cd8e6, _Var1, _Var1, _Var1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Var1, "Act2_HauntedOne_MoonriseGnollsFreed");


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act2"
