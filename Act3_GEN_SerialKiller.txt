Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_BookFlags(S_LOW_SerialKiller_NoteFromOrin_9c029a99-2636-4c19-9ff3-c7564a91cd35, LOW_SerialKiller_State_KnowWordOfPassageFromDolor_a874a4ce-4c61-416b-b77a-4cf20fc323e0);
DB_BookFlags(S_LOW_SerialKiller_NoteFromOrin_FigarosBody_fd96ca11-3ad0-4eeb-b550-d5e800e92592, LOW_SerialKiller_State_KnowWordOfPassageFromDeadFigaro_54a20484-0968-48ab-ada1-c2df099caf97);
DB_SerialKiller_NoteFromOrinBooks(S_LOW_SerialKiller_NoteFromOrin_9c029a99-2636-4c19-9ff3-c7564a91cd35);
DB_SerialKiller_NoteFromOrinBooks(S_LOW_SerialKiller_NoteFromOrin_MainDoppelganger_681870ee-8d72-4365-8378-cfd56373ee49);
DB_SerialKiller_NoteFromOrinBooks(S_LOW_SerialKiller_NoteFromOrin_FigarosBody_fd96ca11-3ad0-4eeb-b550-d5e800e92592);
DB_SerialKiller_NoteFromOrinBooks(S_GLO_OrinsMessages_GortashKilled_fe2a63d0-3ed2-4c34-b234-377e34b06959);
DB_BookTemplateFlags(UNI_BOOK_LOW_SerialKiller_DoppelgangerReports_Figaros_e16e94f6-be06-4bdf-a7b9-691661b9ef8c, LOW_SerialKiller_Knows_DolorRisingStar_e04c9952-d096-51bd-824d-a9f438103cf7);
DB_BookTemplateFlags(UNI_BOOK_LOW_SerialKiller_DoppelgangerReports_WineFestival_3e085a90-cf0a-4b8c-add6-b1625558ce1a, LOW_SerialKiller_Knows_DolorRisingStar_e04c9952-d096-51bd-824d-a9f438103cf7);
DB_BookTemplateFlags(UNI_LOW_TargetList_4ece815c-aff2-45c3-8b07-dd3a04454243, LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671);
DB_BookFlags(S_WYR_OpenHand_DraftReport_0d967e3f-a266-4907-952c-f2886c741b54, LOW_SerialKiller_Knows_DolorRisingStar_e04c9952-d096-51bd-824d-a9f438103cf7);
DB_BookTemplateFlags(BOOK_UNI_LC_MurderTableauNote02_0a5f7f38-1d03-43f3-a531-4fc0001d1d87, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_BookTemplateFlags(BOOK_UNI_LC_MurderTableauNote03_e663acb5-4336-4d46-8d56-95ecbec91077, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_BookTemplateFlags(BOOK_UNI_LC_MurderTableauNote04_57164bd6-6549-4fba-b6f8-1a8caf56d759, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_BookTemplateFlags(BOOK_UNI_LC_MurderTableauNote05_779bf83a-4335-4891-8414-d1dd59ce8176, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_BookTemplateFlags(BOOK_UNI_LC_MurderTableauNote06_de35359e-7c45-45f7-a9ce-6266eafb1c1f, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_BookTemplateFlags(BOOK_UNI_WYR_MurderTableauNote01_0a061583-2dae-41db-82e1-54e0ddc02726, LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e);
DB_Dialogs(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, LOW_SerialKiller_DoppelgangerGiveQuest_34a08264-8fb0-e8a6-dd6a-a34c811fae87);
DB_Dialogs(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, LOW_SerialKiller_DoppelgangerGiveQuest_Backup_a5adee84-12c2-4a4a-6479-9789e31d0d67);
DB_LOW_SerialKiller_FlagsThatTriggersWineFiestival(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671);
DB_LOW_SerialKiller_FlagsThatTriggersWineFiestival(WYR_SerialKiller_State_ValeriaSendToDevella_65f1a97d-1656-da36-6417-be1e44a87663);
DB_DeadEvent(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, LOW_SerialKiller_State_ValeriaIsDead_35e90fa8-bff8-4fae-87ac-f0f6f23b6a28);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "OffStage", 0);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "WineFestival", 10);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "Figaro", 20);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", 100);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal_Assault", 101);
DB_State_Priority(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "PermaDefeated", 200);
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "OffStage");
DB_KnowledgeCheckTemplate_AD("LOW_DiscoverPoisonedWine", CONS_Drink_KarabasansGift_ac9e04d9-c43c-45f2-9922-a17675ef98b5, "Investigation", Act3_Medium_77cee1c4-384a-4217-b670-67db3c7add57, LOW_SerialKiller_PAD_PoisonCheck_b09c0a6d-250a-f8eb-0985-0e959cf007c0, LOW_SerialKiller_Know_PlayersKnowAboutPoison_6f7fc46a-2ffa-407e-ad2e-c6f8e13d9567);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_MurderTribunal_DukeStelmane_f4856724-d8a9-4fa4-88c4-d8bd0dfc2d91, S_LOW_SerialKiller_Hand_Stelmane_1fea7849-9915-49e0-a0a3-54628cb1cffd, LOW_SerialKiller_State_HandHasItem_Stelmane_4e1f1e27-c740-4f38-a59c-9b6336e7f204, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, S_LOW_SerialKiller_Hand_Cora_e8b086d8-1b22-47ac-adf8-7e165fdf99ab, LOW_SerialKiller_State_HandHasItem_Cora_14b2403a-7a5b-44ab-ab99-903686f357cc, UNI_LOW_CoraHighberry_NoHandTemplate_2b9ac81b-7f12-4684-a509-f45f6dd85b9a);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_Figaro_3ff2b7ea-3de2-4bdc-a600-c973f290bc09, S_LOW_SerialKiller_Hand_Figaro_f494ba51-9973-4328-b3fd-04b116281448, LOW_SerialKiller_State_HandHasItem_Figaro_5959e085-1d83-4b43-95e5-dcde5722a298, UNI_LOW_Figaro_NoHandTemplate_208a13ad-c2e4-467d-8ecb-22fd2e3b466c);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_WYR_OpenHand_Lorgan_75fd6462-4d79-4d36-8fdc-fbdd124f5722, S_LOW_SerialKiller_Hand_FatherLorghan_07407a2b-3b33-4f7c-aab1-452eaf012dff, LOW_SerialKiller_State_HandHasItem_FatherLorghan_376d6cac-71ee-48f1-9ea2-2ddd1b2b8234, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_SerialKiller_AlexanderRainforest_18fe60a8-7235-4450-ac5b-fcbf15bdae88, S_LOW_SerialKiller_Hand_Alexander_ed1a4ea7-f783-4313-bfc5-cde084392ada, LOW_SerialKiller_State_HandHasItem_Alexander_5f1a269a-28e0-43ab-a0e0-d99927ed0c7d, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56, S_LOW_SerialKiller_Hand_Franc_b24e36b9-a47b-4c85-9176-75d3e9f7962c, LOW_SerialKiller_State_HandHasItem_Franc_62c46efe-2c56-4c00-b1d2-9ce62947a2ac, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_VO_Dummy_Circus_RealClown_615c8f06-730b-49ff-bda7-0041313f3cd3, S_WYR_Circus_DribblesBodyPart_Hand_dedf021f-478c-4a06-9150-f442e1cd2ecd, LOW_SerialKiller_State_HandHasItem_Dribbles_aadb54de-d086-4004-b4fd-1e5fd658d661, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, S_LOW_SerialKiller_Hand_BlushingMermaidPatron08_d83087b0-1a0f-4b57-a277-c083aa9f6560, LOW_SerialKiller_State_HandHasItem_Patron08_edf70175-ae20-4319-aedc-1d7887e6874c, UNI_LOW_BlushingMermaid_Patron_08_NoHandTemplate_b1ddd3fe-c55d-454f-ba70-c625344e1f80);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_Elfsong_Reevor_3e5b30c3-ae3a-48b6-9394-11adde54ad57, S_LOW_SerialKiller_Hand_Reevor_505e07c2-4cdc-4071-9b93-58cd2b68dc48, LOW_SerialKiller_State_HandHasItem_Reevor_040910d8-b5fb-496d-8d58-f4f3747c8562, UNI_LOW_Elfsong_Reevor_NoHandTemplate_411c9b77-375a-4483-a670-24a4ffc7b348);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_GLO_Gortash_b878a854-f790-4999-95c4-3f20f00f65ac, S_GLO_GortashsHand_25d5cee5-79d2-4d73-917c-34184b3641c8, LOW_SerialKiller_State_HandHasItem_Gortash_fb65d0bb-54c9-46c5-9f18-89b506aa1303, UNI_GLO_Gortash_NoHandTemplate_3bbf4a0c-2eea-459e-942a-85beaa6ae59a);
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_MurderTribunal_GaleDummy_3ac52eb2-25de-4338-a28e-48e3006729ed, UNI_LOOT_Darkurge_Gale_Severed_Hand_e6459d09-a90f-8bb7-801e-97ee82ba732e, LOW_SerialKiller_State_HandHasItem_Gale_581b209d-c188-477b-a064-0364174a848e, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PlayerVictims(S_LOW_MurderTribunal_GaleDummy_3ac52eb2-25de-4338-a28e-48e3006729ed);
DB_LOW_Serialkiller_HandsFlagInDolorBag(LOW_SerialKiller_State_HandHasItem_Stelmane_4e1f1e27-c740-4f38-a59c-9b6336e7f204);
DB_LOW_Serialkiller_HandsFlagInDolorBag(LOW_SerialKiller_State_HandHasItem_FatherLorghan_376d6cac-71ee-48f1-9ea2-2ddd1b2b8234);
DB_LOW_Serialkiller_HandsFlagInDolorBag(LOW_SerialKiller_State_HandHasItem_Alexander_5f1a269a-28e0-43ab-a0e0-d99927ed0c7d);
DB_LOW_Serialkiller_HandsFlagInDolorBag(LOW_SerialKiller_State_HandHasItem_Franc_62c46efe-2c56-4c00-b1d2-9ce62947a2ac);
DB_LOW_Serialkiller_HandsFlagInDolorBag(LOW_SerialKiller_State_HandHasItem_Dribbles_aadb54de-d086-4004-b4fd-1e5fd658d661);
DB_LOW_SerialKiller_TargetList(S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, S_LOW_SerialKiller_Hand_Cora_e8b086d8-1b22-47ac-adf8-7e165fdf99ab);
DB_LOW_SerialKiller_TargetList(S_LOW_Figaro_3ff2b7ea-3de2-4bdc-a600-c973f290bc09, S_LOW_SerialKiller_Hand_Figaro_f494ba51-9973-4328-b3fd-04b116281448);
DB_LOW_SerialKiller_TargetList(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, S_LOW_SerialKiller_Hand_BlushingMermaidPatron08_d83087b0-1a0f-4b57-a277-c083aa9f6560);
DB_LOW_SerialKiller_TargetList(S_LOW_Elfsong_Reevor_3e5b30c3-ae3a-48b6-9394-11adde54ad57, S_LOW_SerialKiller_Hand_Reevor_505e07c2-4cdc-4071-9b93-58cd2b68dc48);
DB_LOW_SerialKiller_TargetList(S_LOW_Devella_Fountainhead_048defbd-d386-4272-a5b7-40c1a9e75b81, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_SerialKiller_TargetList(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, NULL_00000000-0000-0000-0000-000000000000);
PROC_TriggerRegisterForPlayers(S_LOW_SerialKiller_AlexanderHouse_SawBody_89c03b92-8b39-42c4-ba1b-0ff8583fbfe2);
SetOnStage(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, 0);
DB_GiveItemToEventWithClear(S_LOW_SerialKiller_DoppelgangerBackup_TargetList_e1f236a0-6b80-4035-bca4-f8fe84e26c3d, LOW_SerialKiller_Event_DoppelgangerGiveTargetList_6d3e0be4-9dfa-473a-be7a-5b9c19a35582);
DB_GiveItemToEventWithClear(S_LOW_SerialKiller_NoteFromOrin_MainDoppelganger_681870ee-8d72-4365-8378-cfd56373ee49, LOW_SerialKiller_Event_DoppelgangerGiveNoteFromOrin_b5218bd2-1f4b-4390-b97e-dcab9619519d);
DB_GiveItemToEventWithClear(S_LOW_MurderTribunal_TombstoneShopKey_QuestGivers_548c87fb-821d-4555-b39d-429c30db4c0b, LOW_SerialKiller_Event_DoppelgangerGiveNoteFromOrin_b5218bd2-1f4b-4390-b97e-dcab9619519d);
DB_LOW_SerialKiller_DoppelgangerTryingDialog(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, LOW_SerialKiller_DoppelgangerGiveQuest_Backup_a5adee84-12c2-4a4a-6479-9789e31d0d67);
DB_LOW_SerialKiller_DoppelgangerTryingDialog(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, LOW_SerialKiller_DoppelgangerGiveQuest_34a08264-8fb0-e8a6-dd6a-a34c811fae87);
DB_LOW_SerialKiller_DoppelgangerPauseRegions(S_WYR_SerialKiller_OpenHandTemple_NoGiverZone_6b3a7936-39ca-45e6-ae27-7c541672d0d6);
DB_LOW_SerialKiller_DoppelgangerPauseRegions(S_WYR_SerialKiller_SharessCaress_NoGiverZone_1fb4faa6-7b47-4bba-a6c3-d4098f1f4571);
DB_LOW_SerialKiller_DoppelgangerPauseRegions(S_WYR_SerialKiller_Fortress_NoGiverZone_c10898e0-1971-466c-9111-a4d8a69547ec);
DB_LOW_SerialKiller_DoppelgangerPauseRegions(S_WYR_SerialKiller_Prison_NoGiverZone_ab40c85c-fb2e-4438-a4cc-1d45d84669f5);
DB_QuestDef_State_ConditionalFlag(LOW_Elfsong_Knows_DevellaBhaalExpert_4f7063f0-2361-a399-be46-a2ceb3881659, "LOW_FindBhaalTemple", "FindBhaalTemple_StartPoint_Devella_Clueless", 0, LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671);
DB_QuestDef_State(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, "LOW_FindBhaalTemple", "BecomeOrFollowMurders");
DB_QuestDef_State(LOW_SerialKiller_State_GortashTalkAboutOrin_0cf0d3b3-b46b-c707-0070-3f222e0d5ce9, "LOW_FindBhaalTemple", "FindBhaalTemple_StartPoint_Gortash_Ceremony");
DB_QuestDef_State(LOW_BhaalTemple_Knows_TempleIsBhaalTemple_b1525a1c-829e-4c05-bc39-c161e30ac235, "LOW_FindBhaalTemple", "StartPoint_NoTargetList_FindBhaalTempleDoor");
DB_QuestDef_State(LOW_SerialKiller_State_ReadTableauxNote_bb2abe19-22dd-4773-9c1c-d916645fc24e, "LOW_FindBhaalTemple", "FindBhaalTemple_TableauxOfMurder");
DB_QuestDef_State(LOW_SerialKiller_State_KnowWordOfPassageFromOrin_fff04b2b-f123-482f-8a45-f639f3052dee, "LOW_FindBhaalTemple", "StartPoint_NoTargetList_OrinNote");
DB_QuestDef_ChainedState("LOW_FindBhaalTemple", "UnholyAssassin_SecondKill", "MurderTribunal_KillTwoVictims");
DB_QuestDef_State(LOW_MurderTribunal_Sarevok_State_Dead_e9d30711-af25-4ba9-813e-cc7c131b17b6, "LOW_FindBhaalTemple", "MurderTribunal_KilledSarevok");
DB_QuestDef_State_ConditionalFlag(LOW_MurderTribunal_Knows_BhaalTempleLocation_0a45cd29-8ae1-43bb-9ef6-b95af1dc6e55, "LOW_FindBhaalTemple", "MurderTribunal_GotMap", 1, LOW_MurderTribunal_Knows_BhaalTempleLocationByMap_2fe05720-c4f4-4f03-8495-f489baaabb1b);
DB_QuestDef_State_ConditionalFlag(LOW_BhaalTemple_State_HasBhaalAmulet_66796361-3cf6-476a-8c09-a076dfa6a172, "LOW_FindBhaalTemple", "MurderTribunal_GotAmulet", 0, LOW_MurderTribunal_State_BecameUnholyAssassin_75ba9b20-e08b-f48e-6f70-5c93586ec729);
DB_QuestDef_ChainedState("LOW_FindBhaalTemple", "MurderTribunal_FollowMurders_Completion", "MurderTribunal_GoToTempleValeria");
DB_QuestDef_State_ConditionalFlag(LOW_BhaalTemple_Event_OpenedMainDoor_6f6497c1-6254-46ad-a3e9-46fcd0909b83, "LOW_FindBhaalTemple", "MurderTribunal_BhaalTempleEntering_DU", 1, LOW_BhaalTemple_MainDoor_UserShortcut_a5498cc9-43eb-4b1f-b88c-16a593a7b75d);
DB_QuestDef_State_ConditionalFlag(LOW_BhaalTemple_Event_OpenedMainDoor_6f6497c1-6254-46ad-a3e9-46fcd0909b83, "LOW_FindBhaalTemple", "MurderTribunal_BhaalTempleEntering", 0, LOW_BhaalTemple_MainDoor_UserShortcut_a5498cc9-43eb-4b1f-b88c-16a593a7b75d);
DB_QuestDef_State_ConditionalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, "LOW_FindBhaalTemple", "UnholyAssasin_Start", 0, LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);
DB_QuestDef_State(GLO_OrinsMessages_Event_Read_GortashKilled_c450a024-9683-4c3f-a7f1-a958555f2afb, "LOW_FindBhaalTemple", "UnholyAssassin_GortashSortcut");
DB_QuestDef_State(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, "LOW_FindBhaalTemple", "UnholyAssassin_SecondKill");
DB_QuestDef_State(LOW_SerialKiller_State_KnowWordOfPassageFromOrin_fff04b2b-f123-482f-8a45-f639f3052dee, "LOW_FindBhaalTemple", "UnholyAssassin_GortashSortcut");
DB_QuestDef_State(LOW_MurderTribunal_Event_TombstoneShop_OpenDoor_88043f62-c9c5-3aa1-4995-02346a6b45b7, "LOW_FindBhaalTemple", "UnholyAssassin_Candlehollows");
DB_QuestDef_State(LOW_MurderTribunal_State_OfferedMinscSacrifice_5bda0a8c-eea3-8403-2965-82d9e8b24bfe, "LOW_FindBhaalTemple", "UnholyAssassin_KillMinsc");
DB_QuestDef_State(LOW_MurderTribunal_State_OfferedJaheiraSacrifice_4d34ecc5-705a-2081-2826-a62076e705d9, "LOW_FindBhaalTemple", "UnholyAssassin_KillJaheira");
DB_QuestDef_State(LOW_MurderTribunal_State_OfferedJaheiraMinscSacrifice_d391d86e-d30f-e4db-6650-a97a2e38a79f, "LOW_FindBhaalTemple", "UnholyAssassin_KillMinscAndJaheira");
DB_QuestDef_State(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, "LOW_FindBhaalTemple", "UnholyAssassin_MurderTrial");
DB_QuestDef_State(LOW_MurderTribunal_State_PerformedBaptism_3e61965d-3413-13fc-efab-46adb1a20060, "LOW_FindBhaalTemple", "UnholyAssassin_BloodBath");
DB_QuestDef_State(LOW_BhaalTemple_MainDoor_UserShortcut_a5498cc9-43eb-4b1f-b88c-16a593a7b75d, "LOW_FindBhaalTemple", "UnholyAssassin_SkipQuestAfterStartedDU");
DB_QuestDef_State_ConditionalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, "LOW_FindBhaalTemple", "StopMurders_ValeriaTargetList", 1, WYR_OpenHand_State_YannisAskedToInvestigate_394409f9-a450-4f9e-b396-7e861da8287f);
DB_QuestDef_State(WYR_SerialKiller_State_ValeriaSendToDevella_65f1a97d-1656-da36-6417-be1e44a87663, "LOW_FindBhaalTemple", "StopMurders_ValeriaSendUsToDevella");
DB_QuestDef_State_ConditionalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, "LOW_FindBhaalTemple", "StopMurders_GetTargetListAfterTalkingToDevella", 1, LOW_Elfsong_Devella_Event_StelmaneMurdered_6f9a5052-b6f0-8452-2149-5f0781d192d4);
DB_QuestDef_State(LOW_Elfsong_Devella_Knows_MurdersSolved_cf5a99a0-1112-18cb-d0c3-71498843319d, "LOW_FindBhaalTemple", "StopMurders_DevellaTargetList");
DB_QuestDef_State(LOW_SerialKiller_Knows_AlexanderKilledByRedDwarf_849c4a94-35cf-8813-dab5-3ac1b4437aa3, "LOW_FindBhaalTemple", "Stopmurders_SwDAlexander");
DB_QuestDef_State(LOW_Elfsong_Reevor_WarnedAboutKiller_e5ddc10a-dd2e-155a-909b-e4989c2d82fe, "LOW_FindBhaalTemple", "Stopmurders_WarnReevor");
DB_QuestDef_State(LOW_BlushingMermaid_Patron_08_WarnedAboutSerialKiller_bc503ffb-577e-d70a-e8b6-252e882bed8a, "LOW_FindBhaalTemple", "Stopmurders_WarnNesha");
DB_QuestDef_State(LOW_Figaro_SellingThings_State_FigaroKnowsTargetList_cd785159-9139-4b7f-28d7-9bd6993c3569, "LOW_FindBhaalTemple", "Stopmurders_WarnFigaro");
DB_QuestDef_State(LOW_SerialKiller_State_DolorKillsCoraWineFestival_0fce13c6-8d48-4391-a890-f1397add7af4, "LOW_FindBhaalTemple", "DolorOutWineFestival_KilledCora");
DB_QuestDef_State(LOW_SerialKiller_State_DolorIsDefeated_fa48e3fe-dc3c-b5c5-09f1-039a5b6974cf, "LOW_FindBhaalTemple", "Dolor_IsDead");
DB_QuestDef_State(LOW_SerialKiller_State_FigaroAlreadyDeadSetup_ed3aa8f2-b822-4073-b1dc-aacc13aa28f5, "LOW_FindBhaalTemple", "InvestigateFigaroDeadPlace");
DB_QuestDef_State(LOW_SerialKiller_State_KnowWordOfPassageFromDeadFigaro_54a20484-0968-48ab-ada1-c2df099caf97, "LOW_FindBhaalTemple", "Figaro_CrimeScene");
DB_QuestDef_State(LOW_SerialKiller_State_KnowWordOfPassageFromDolor_a874a4ce-4c61-416b-b77a-4cf20fc323e0, "LOW_FindBhaalTemple", "MurderTribunal_FindSicariusNote");
DB_QuestDef_State(LOW_MurderTribunal_Event_TombstoneShop_OpenDoor_88043f62-c9c5-3aa1-4995-02346a6b45b7, "LOW_FindBhaalTemple", "FollowingMurders_EnterCandlehollows");
DB_QuestDef_State(LOW_MurderTribunal_Knows_ValeriaToldBhaalTempleLocation_34265520-1ba8-007c-560d-7926f5de38ea, "LOW_FindBhaalTemple", "MurderTribunal_FollowMurders_Completion");
DB_QuestDef_ChainedState("LOW_FindBhaalTemple", "UnholyAssassin_BloodBath", "MurderTribunal_KillValeria");
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(S_LOW_SerialKiller_AlexanderRainforest_18fe60a8-7235-4450-ac5b-fcbf15bdae88, "LOW_SerialKiller_Character_Rainforest", "Stopmurders_FailAlexander");
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56, "LOW_SerialKiller_Character_Peartree", "Stopmurders_FailFranc");
DB_LOW_SerialKiller_Victim_Marker(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, "LOW_SerialKiller_Character_Nesha");
DB_LOW_SerialKiller_Victim_Marker(S_LOW_Elfsong_Reevor_3e5b30c3-ae3a-48b6-9394-11adde54ad57, "LOW_SerialKiller_Character_Reevor");
DB_LOW_SerialKiller_Victim_Marker(S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, "LOW_SerialKiller_Character_Cora");
DB_LOW_SerialKiller_Victim_Marker(S_LOW_Figaro_3ff2b7ea-3de2-4bdc-a600-c973f290bc09, "LOW_SerialKiller_Character_Figaro");
DB_LOW_SerialKiller_Victim_QuestState(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, "Stopmurders_FailNesha");
DB_LOW_SerialKiller_Victim_QuestState(S_LOW_Elfsong_Reevor_3e5b30c3-ae3a-48b6-9394-11adde54ad57, "Stopmurders_FailReevor");
DB_LOW_SerialKiller_Victim_QuestState(S_LOW_Figaro_3ff2b7ea-3de2-4bdc-a600-c973f290bc09, "Stopmurders_FailFigaro");
DB_SerialKiller_MarkersNeeded(LOW_SerialKiller_UnholyAssassin_MarkersNotNeeded_6574acf2-cf62-4592-abf7-cf04256bf5dd);
DB_SerialKiller_MarkersNeeded(LOW_SerialKiller_FollowMurders_MarkersNotNeeded_5dde758a-401a-4903-b599-0a95e3f38036);
DB_QuestDef_State(LOW_SerialKiller_State_ToldDevellaKilledSarevok_771ad07f-13ee-6589-a8d6-32aaacd36b3f, "HIDDEN_CTY_Boosters", "LOW_SerialKiller_DevellaReward");
DB_GEN_SerialKiller_Tableux_Initialized(1);
DB_GEN_SerialKiller_Tableux_DisableForCharacters(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);
DB_GEN_SerialKiller_Tableux_DisableForCharacters(S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b);

KBSECTION
IF
DB_SerialKiller_NoteFromOrinBooks(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_BookFlags(_Var1, LOW_MurderTribunal_Knows_WordOfPassage_839150e6-d168-4c89-a980-68b9e9f60556);
DB_BookFlags(_Var1, LOW_MurderTribunal_Knows_UnholyAssassin_8a939a44-bb4a-d32f-0584-388d248f565c);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_MurderTribunal_PossibleMurderVictims(_, _, _Var1, _, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(LOW_SerialKiller_State_HandHasItem_AnyHAnd_b2bbc248-3018-452c-8a9d-07fcd30c38d5, _Var2, 0, _Var1, _Var1)
THEN
SetFlag(LOW_SerialKiller_State_HandHasItem_AnyHAnd_b2bbc248-3018-452c-8a9d-07fcd30c38d5, _Var2);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_MurderTribunal_PossibleMurderVictims(_Var4, _, _Var1, _Var6, _Var1)
AND
_Var6 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_GLO_HeadRemoval_CanRemoveHeadInventory(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
GetDisplayName(_Var4, _Var7, _Var1, _Var1, _Var1)
AND
Concatenate("LOW_SerialKiller_TransformWithoutHand_", _Var7, _Var8, _Var1, _Var1)
AND
QRY_OnlyOnce(_Var8, _Var1, _Var1, _Var1, _Var1)
THEN
Transform(_Var4, _Var6, DeathCorpse_ac4a5946-00cb-464f-9389-e3ac9e8b7e26);

IF
FlagCleared((FLAG)_Var1, (CHARACTER)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_MurderTribunal_PossibleMurderVictims(_, _, _Var1, _, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_HasAnyHand(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(LOW_SerialKiller_State_HandHasItem_AnyHAnd_b2bbc248-3018-452c-8a9d-07fcd30c38d5, _Var2);

QRY
QRY_LOW_SerialKiller_HasAnyHand((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_MurderTribunal_PossibleMurderVictims(_, _, _Var4, _, _Var1)
AND
GetFlag(_Var4, _Var1, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_PermaDefeated(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, _, _, _, _)
THEN
PROC_State_Progress(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "PermaDefeated");

IF
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629, _, _, _, _)
AND NOT
DB_PermaDefeated(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, _, _, _, _)
AND NOT
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "WineFestival", _, _)
AND NOT
QRY_SerialKiller_PlayerInFigaros()
THEN
PROC_State_Progress(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal");

QRY
QRY_SerialKiller_PlayerInFigaros()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_LOW_SerialKiller_Figaro_SUB_13409b18-250a-4259-826f-e30733e12783, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_GlobalFlag(LOW_MurderTribunal_State_TrialResolved_f3fe8b2d-50ea-3b9c-91ea-13f18f60d617, _, _, _, _)
AND NOT
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "Figaro", _, _)
AND NOT
DB_PermaDefeated(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, _, _, _, _)
THEN
PROC_State_Progress(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal");

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", _, _)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd, _, _, _, _)
THEN
SetFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd);
SetStoryDisplayName(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "SerialKiller_Dolor_Name");

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal_Assault", _, _)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd, _, _, _, _)
THEN
SetFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd);

IF
DB_GlobalFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd, _, _, _, _)
AND NOT
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", _, _)
AND NOT
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal_Assault", _, _)
AND NOT
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "PermaDefeated", _, _)
THEN
ClearFlag(LOW_MurderTribunal_State_DolorAtTribunal_922e7877-16c1-46b3-aecd-55a1619632dd);

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", _, _)
THEN
PROC_RemoveDialog(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134);

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", _, _)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_TrialResolved_f3fe8b2d-50ea-3b9c-91ea-13f18f60d617, _, _, _, _)
AND NOT
DB_InRegion(_, S_LOW_MurderTribunal_SUB_c1739d1e-2f74-400d-8895-7c6cb42cda45, _, _, _)
THEN
PROC_LOW_MurderTribunal_DoDolorConfrontation(0);

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "MurderTribunal", _, _)
AND
DB_GlobalFlag(LOW_MurderTribunal_State_TrialResolved_f3fe8b2d-50ea-3b9c-91ea-13f18f60d617, _, _, _, _)
THEN
PROC_LOW_MurderTribunal_DoDolorConfrontation(1);

PROC
PROC_LOW_MurderTribunal_DoDolorConfrontation(0, _, _, _, _)
THEN
TeleportTo(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, S_LOW_MurderTribunal_Dolor_Point_a5eeade8-cf66-45b0-a1b2-b41f934ea89f, "", 0, 0, 0, 1, 1);
SetOnStage(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, 1);

PROC
PROC_LOW_MurderTribunal_DoDolorConfrontation(1, _, _, _, _)
THEN
PROC_AppearOutOfSightTo(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, S_LOW_MurderTribunal_Dolor_Point_a5eeade8-cf66-45b0-a1b2-b41f934ea89f, TeleportTrigger_MurderTribunal_Entrance_09d5165c-dcc9-4891-a177-6915482d3426, "");

PROC
PROC_LOW_MurderTribunal_DoDolorConfrontation(_, (INTEGER)_, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
DB_SpotPlayers(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_MurderTribunal_DeathKnight", NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);

PROC
PROC_LOW_MurderTribunal_DoDolorConfrontation(0, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_SpotPlayers(_Var1, "LOW_MurderTribunal_DeathKnight", _, _, _Var1)
THEN
PROC_SpotPlayers_RestartSpotting(_Var1, "LOW_MurderTribunal_DeathKnight");

IF
DB_LOW_MurderTribunal_PossibleMurderVictims(_, _Var2, _Var3, _, _)
THEN
DB_HasItemEvent(_Var2, _Var3);

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, _, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_MurderTribunal_PlayerVictims(_Var1);

IF
KilledBy(S_GLO_Gortash_b878a854-f790-4999-95c4-3f20f00f65ac, (CHARACTER)_Var1, _, _, (CHARACTER)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_MurderTribunal_PlayerVictims(S_GLO_Gortash_b878a854-f790-4999-95c4-3f20f00f65ac);

IF
StatusApplied((CHARACTER)_Var1, "KNOCKED_OUT", _, _, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
_Var4 != NULL_00000000-0000-0000-0000-000000000000
THEN
DB_DoNotRemoveKnockedOutCharacterOnLongRest(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != S_GLO_Gortash_b878a854-f790-4999-95c4-3f20f00f65ac
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_MurderTribunal_PlayerVictims(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var2, 1);
ToInventory(_Var2, _Var1, 1, 0, 1);

IF
TextEvent("MT_GaleHand", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
CreateAtObject(UNI_LOOT_Darkurge_Gale_Severed_Hand_c8fa7c2f-d34a-4b42-a4fa-c2476fab6c92, _Var1, 0, 1, "", 0, _Var2, _Var1, _Var1, _Var1)
THEN
ToInventory(_Var2, _Var1, 1, 1, 1);
DB_ORI_DarkUrge_GaleHand(_Var2);

IF
DB_ActiveLevel(_, _, _, _, _)
AND
DB_ORI_DarkUrge_GaleHand(_Var2, _, _, _, _)
AND
QRY_OnlyOnce("LOW_MurderTribunal_AddedGaleHand", _, _, _, _)
THEN
DB_LOW_MurderTribunal_PossibleMurderVictims(S_LOW_MurderTribunal_GaleDummy_3ac52eb2-25de-4338-a28e-48e3006729ed, _Var2, LOW_SerialKiller_State_HandHasItem_Gale_581b209d-c188-477b-a064-0364174a848e, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_MurderTribunal_PlayerVictims(S_LOW_MurderTribunal_GaleDummy_3ac52eb2-25de-4338-a28e-48e3006729ed);

IF
AddedTo(S_WYR_CrownController_Gortash_383be300-d328-4152-86df-4927482d1fd7, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GLO_SerialKiller_GortashHandSended(1, _Var1, _Var1, _Var1, _Var1)
THEN
ToInventory(S_GLO_GortashsHand_25d5cee5-79d2-4d73-917c-34184b3641c8, _Var1, 1, 1, 1);
DB_GLO_SerialKiller_GortashHandSended(1);

IF
DB_LOW_SerialKiller_DoppelgangerPauseRegions(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var1);

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var2, "LOW_SerialKiller_DoppelgangerFirstKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var2, _Var2, "LOW_SerialKiller_DoppelgangerFirstKill");

IF
EntityEvent(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, "LOW_SerialKiller_DoppelgangerFirstKill", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerFirstKill", _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveToAndTalk(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, LOW_SerialKiller_DoppelgangerGiveQuest_34a08264-8fb0-e8a6-dd6a-a34c811fae87, "LOW_SerialKiller_KillingTargetList", "Run", 30);
SetFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerFirstKill");

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 == NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_Var2, S_LOW_MurderTribunal_SUB_c1739d1e-2f74-400d-8895-7c6cb42cda45, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var2, "LOW_SerialKiller_DoppelgangerFirstKill_Investigators");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var2, _Var2, "LOW_SerialKiller_DoppelgangerFirstKill_Investigators");

IF
EntityEvent(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, "LOW_SerialKiller_DoppelgangerFirstKill_Investigators", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerFirstKill_Investigators", _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveToAndTalk(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, LOW_SerialKiller_DoppelgangerGiveQuest_34a08264-8fb0-e8a6-dd6a-a34c811fae87, "LOW_SerialKiller_KillingTargetList", "Run", 30);
SetFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25);
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerFirstKill_Investigators");

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCannotApproach(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_CantTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7);
SetFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 == NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCannotApproach(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_Var2, S_LOW_MurderTribunal_SUB_c1739d1e-2f74-400d-8895-7c6cb42cda45, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_CantTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7);
SetFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25);

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_Event_InvestigatorsKilledDoppel_63da33b6-5058-4f87-9043-1e433c30fa25, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var2, "LOW_SerialKiller_Doppelganer_SecondKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var2, _Var2, "LOW_SerialKiller_Doppelganer_SecondKill");

IF
EntityEvent(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, "LOW_SerialKiller_Doppelganer_SecondKill", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_Doppelganer_SecondKill", _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_Doppelganer_SecondKill");
PROC_CharacterMoveToAndTalk(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, LOW_SerialKiller_DoppelgangerGiveQuest_34a08264-8fb0-e8a6-dd6a-a34c811fae87, "LOW_SerialKiller_KillingTargetList", "Run", 30);
SetFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629);
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_Doppelganer_SecondKill");

IF
KilledBy((CHARACTER)_Var1, (CHARACTER)_Var2, _, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_TargetList(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_LOW_SerialKiller_DoppelgangerCannotApproach(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_CantTalk(_Var2, S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7);
SetFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629);

IF
TeleportToWaypoint((CHARACTER)_Var1, (TRIGGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var1, S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill");

IF
EntityEvent(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, "LOW_SerialKiller_DoppelgangerBackup_FirstKill", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill", _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveToAndTalk(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, LOW_SerialKiller_DoppelgangerGiveQuest_Backup_a5adee84-12c2-4a4a-6479-9789e31d0d67, "LOW_SerialKiller_KillingTargetList", "Run", 30);
SetFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill");

IF
TeleportToWaypoint((CHARACTER)_Var1, (TRIGGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_DoppelgangerOutOfSight_ef7b36d9-45dc-f586-82f4-abd550dfb7dd, _Var1, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var1, S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill");

IF
EntityEvent(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, "LOW_SerialKiller_DoppelgangerBackup_SecondKill", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill", _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveToAndTalk(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, LOW_SerialKiller_DoppelgangerGiveQuest_Backup_a5adee84-12c2-4a4a-6479-9789e31d0d67, "LOW_SerialKiller_KillingTargetList", "Run", 30);
SetFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629);
NOT DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill");

IF
TeleportToFromCamp((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var1, S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerBackup_FirstKill");

IF
TeleportToFromCamp((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_PlayersKillSecondTargetList_68c5736d-8b62-4e30-bc9c-0f3bcae40629, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Event_DoppelgangerOutOfSight_ef7b36d9-45dc-f586-82f4-abd550dfb7dd, _Var1, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var1, S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_MurderTribunal_State_StartedBaptism_9231a565-3cf9-4754-a9c4-db02e7f0eeb8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill");
PROC_AppearOutOfSightTo(S_LOW_SerialKiller_Doppelganger_Backup_a24f8f6f-c65e-4aec-883e-f950c1f4179a, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerBackup_SecondKill");

IF
CharacterMoveToAndTalkFailed((CHARACTER)_Var1, (CHARACTER)_Var2, "LOW_SerialKiller_KillingTargetList", _, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_SerialKiller_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_CantTalk(_Var2, _Var1);

IF
DB_LOW_SerialKiller_CantTalk(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsInCombat(_Var1, 0, _Var1, _Var1, _Var1)
AND
IsInCombat(_Var2, 0, _Var1, _Var1, _Var1)
AND
IsOnStage(_Var2, 1, _Var1, _Var1, _Var1)
AND NOT
DB_HiddenCharacters(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_DoppelgangerTryingDialog(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_CantTalk(_Var1, _Var2);
PROC_CharacterMoveToAndTalk(_Var2, _Var1, _Var4, "LOW_SerialKiller_KillingTargetList", "Run", 30);

IF
DB_LOW_SerialKiller_CantTalk(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsOnStage(_Var2, 0, _Var1, _Var1, _Var1)
AND NOT
DB_HiddenCharacters(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_DoppelgangerTryingDialog(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_CantTalk(_Var1, _Var2);
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt", _Var4);
PROC_AppearOutOfSightTo(_Var2, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt");

IF
LeftTrigger((CHARACTER)_Var1, (TRIGGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_CantTalk(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_DoppelgangerPauseRegions(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_DoppelgangerTryingDialog(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_CantTalk(_Var1, _Var3);
DB_LOW_SerialKiller_KillerPlayer(_Var1, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt", _Var4);
PROC_AppearOutOfSightTo(_Var3, _Var1, _Var1, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt");

IF
EntityEvent((CHARACTER)_Var1, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_KillerPlayer(_Var2, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt", _Var3, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_KillerPlayer(_Var2, "LOW_SerialKiller_DoppelgangerCantTalk_SecondAttempt", _Var3);
PROC_CharacterMoveToAndTalk(_Var1, _Var2, _Var3, "LOW_SerialKiller_KillingTargetList", "Run", 30);

IF
DialogEnded((DIALOGRESOURCE)_Var1, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_LOW_SerialKiller_DoppelgangerTryingDialog(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_Event_DoppelgangerOutOfSight_ef7b36d9-45dc-f586-82f4-abd550dfb7dd, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(LOW_SerialKiller_Event_DoppelgangerOutOfSight_ef7b36d9-45dc-f586-82f4-abd550dfb7dd, NULL_00000000-0000-0000-0000-000000000000);
PROC_DisappearOutOfSight(_Var3, "Run", 1, "");

IF
Deactivated((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_DoppelgangerTryingDialog(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 0);

QRY
QRY_LOW_SerialKiller_DoppelgangerCanTalk((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_HiddenCharacters(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_SerialKiller_CantTalk(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_LOW_SerialKiller_CharacterInProtectedRegion((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_DoppelgangerPauseRegions(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_LOW_SerialKiller_DoppelgangerCannotApproach((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_LOW_SerialKiller_DoppelgangerCanTalk(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_LOW_SerialKiller_DoppelgangerCannotApproach((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_LOW_SerialKiller_CharacterInProtectedRegion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
TemplateAddedTo(UNI_LOW_TargetList_4ece815c-aff2-45c3-8b07-dd3a04454243, (GUIDSTRING)_Var1, (CHARACTER)_Var2, _, (GUIDSTRING)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_Var2, S_LOW_Elfsong_LeavingPrivateRoom_3e205a46-fae6-4f3e-acc6-da287935ddc6, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_SerialKiller_PAD_PickTargetList_1042a1f8-daf3-4287-5d67-a0fd17fcab21, _Var2);

IF
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_FlagsThatTriggersWineFiestival(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_WineFestival_a83198eb-b080-4001-bd00-d8368f1334a5, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_MissionTriggered_003250e5-2cca-4612-9b74-a9802e8fec12, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_SerialKiller_State_MissionTriggered_003250e5-2cca-4612-9b74-a9802e8fec12);

IF
DB_GlobalFlag(LOW_SerialKiller_State_WineFestival_a83198eb-b080-4001-bd00-d8368f1334a5, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_FlagsThatTriggersWineFiestival(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_FlagsThatTriggersWineFiestival(_Var1);

IF
StatusApplied((CHARACTER)_Var1, "LOW_SERIALKILLER_PARALYZED", _, _, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_WineFestival_a83198eb-b080-4001-bd00-d8368f1334a5, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_HighberrysRitualPerformed_00c1e2ab-8752-47f1-b847-51aedc0fb189, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_SerialKiller_Event_DolorRevealHimself_b9cb8e1a-5ade-1834-7d6d-992f6a232063);

IF
DB_CurrentLevel("BGO_Main_A", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate("LOW_FindBhaalTemple", "EnteredCity");

IF
DB_CurrentLevel("CTY_Main_A", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate("LOW_FindBhaalTemple", "EnteredCity");

IF
FlagSet(LOW_MurderTribunal_Event_GiveBhaalAmulet_51ae9508-df79-2849-21a0-9f9aae78d727, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_GoToTempleSarevok");

IF
FlagSet(LOW_BhaalTemple_State_HasBhaalAmulet_66796361-3cf6-476a-8c09-a076dfa6a172, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GlobalFlag(LOW_MurderTribunal_Knows_BhaalTempleLocation_0a45cd29-8ae1-43bb-9ef6-b95af1dc6e55, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_GotMapAndAmuletNoSarevok");

IF
DB_GlobalFlag(LOW_BhaalTemple_Event_OpenedMainDoor_6f6497c1-6254-46ad-a3e9-46fcd0909b83, _, _, _, _)
AND NOT
QRY_LOW_DarkUrgeInParty()
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_BhaalTempleEntering");

IF
DB_GlobalFlag(LOW_BhaalTemple_Event_OpenedMainDoor_6f6497c1-6254-46ad-a3e9-46fcd0909b83, _, _, _, _)
AND
QRY_LOW_DarkUrgeInParty()
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_BhaalTempleEntering_DU");

QRY
QRY_LOW_DarkUrgeInParty()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, REALLY_DARK_URGE_cd611d7d-b67d-42b4-a75c-a0c6091ef8a2, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _, _, _, _)
AND NOT
DB_QuestIsAccepted("LOW_FindBhaalTemple_UnholyAssassin", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "StartPoint_TargetList_AfterKillingOneVictim");

IF
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _, _, _, _)
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", "StartPoint_TargetList_AfterKillingOneVictim", _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_FirstKill");

IF
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_FirstTarget_728e4d89-c3b8-44ba-d535-ea3f658e1d32, _, _, _, _)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple_UnholyAssassin", "StartPoint_TargetList_AfterKillingOneVictim", _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_FirstKill");

IF
DB_GlobalFlag(LOW_MurderTribunal_State_OfferedMinscSacrifice_5bda0a8c-eea3-8403-2965-82d9e8b24bfe, _, _, _, _)
AND
DB_PermaDefeated(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_MinscMurdered");

IF
DB_GlobalFlag(LOW_MurderTribunal_State_OfferedJaheiraSacrifice_4d34ecc5-705a-2081-2826-a62076e705d9, _, _, _, _)
AND
DB_PermaDefeated(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_JaheiraMurdered");

IF
DB_GlobalFlag(LOW_MurderTribunal_State_OfferedJaheiraSacrifice_4d34ecc5-705a-2081-2826-a62076e705d9, _, _, _, _)
AND
DB_PermaDefeated(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
AND
DB_PermaDefeated(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_JaheiraAndMinscMurdered");

IF
DB_PermaDefeated(S_LOW_MurderTribunal_Sarevok_ae9f784a-ea64-4297-95a7-8377e85231b6, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_KillSarevok");

IF
DB_GlobalFlag(WYR_KillDirectorGortash_FollowBodiesHint_cb235602-eced-44db-dbeb-fb14e31473d1, _, _, _, _)
AND
DB_QuestIsAccepted("WYR_OpenHandMurder", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "FollowMurders_StartFromGortash");

IF
CustomBookUIClosed((CHARACTER)_Var1, "LOW_Gazette_Issue86", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QuestIsAccepted("WYR_OpenHandMurder", _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", "FollowMurders_StartFromGazette");

IF
KilledBy(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, _, _, _, _)
AND
DB_CurrentLevel("BGO_Main_A", _, _, _, _)
THEN
SetFlag(LOW_SerialKiller_State_ValeriaKilledInWyrm_dad10c35-a5d6-47ab-a4ab-62468b4887f5);

IF
FlagSet(LOW_SerialKiller_AllowHelpDevella_Map_48a73e3a-7001-7065-c78c-c0eb117d17fa, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "FollowMurders_TableauxHint");
NOT DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56, "LOW_SerialKiller_Character_Peartree", "Stopmurders_FailFranc");

IF
TemplateAddedTo(BOOK_LOW_SerialKiller_Map_Tableaux_0abb9873-a07e-486b-bf50-60ccd5f8a0a3, _, (CHARACTER)_Var2, _, _)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", "FollowMurders_TableauxHint", _, _, _)
THEN
QuestUpdate(_Var2, "LOW_FindBhaalTemple", "FollowMurders_TableauxHint_MapNotDevella");
NOT DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56, "LOW_SerialKiller_Character_Peartree", "Stopmurders_FailFranc");

IF
GameBookInterfaceClosed((ITEM)_Var1, (CHARACTER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
GetBookID(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var3 == "LOW_SerialKiller_Map_Tableaux"
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", "FollowMurders_TableauxHint", _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var2, "LOW_FindBhaalTemple", "FollowMurders_TableauxHint_MapNotDevella");
NOT DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56, "LOW_SerialKiller_Character_Peartree", "Stopmurders_FailFranc");

IF
DB_GlobalFlag(LOW_Elfsong_Devella_Knows_MurdersSolved_cf5a99a0-1112-18cb-d0c3-71498843319d, _, _, _, _)
AND NOT
QRY_LOW_SerialKiller_AnyTableauxState()
THEN
DB_QuestDef_SawDeadState("LOW_FindBhaalTemple", "Stopmurders_FailFranc", S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56);
DB_QuestDef_State(LOW_SerialKiller_Knows_FrancKilledByRedDwarf_4b68a5c7-c2c1-ad55-2c63-eefe0fc8b8ca, "LOW_FindBhaalTemple", "Stopmurders_SwDFranc");
SetFlag(LOW_SerialKiller_State_SawDolorVictim_8ae5dc4c-4728-4f42-884a-791095955c92);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_SerialKiller_AlexanderHouse_SawBody_89c03b92-8b39-42c4-ba1b-0ff8583fbfe2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "Stopmurders_FailAlexander");
PROC_TriggerUnregisterForPlayers(S_LOW_SerialKiller_AlexanderHouse_SawBody_89c03b92-8b39-42c4-ba1b-0ff8583fbfe2);
SetFlag(LOW_SerialKiller_State_SawDolorVictim_8ae5dc4c-4728-4f42-884a-791095955c92);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_SerialKiller_AlexanderHouse_SawBody_89c03b92-8b39-42c4-ba1b-0ff8583fbfe2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_SawAlexanderDead(_Var1);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_SawAlexanderDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_SawAlexanderDead(_Var1);
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "Stopmurders_FailAlexander");
PROC_TriggerUnregisterForPlayers(S_LOW_SerialKiller_AlexanderHouse_SawBody_89c03b92-8b39-42c4-ba1b-0ff8583fbfe2);

IF
DB_GlobalFlag(LOW_Elfsong_Devella_Knows_MurdersSolved_cf5a99a0-1112-18cb-d0c3-71498843319d, _, _, _, _)
AND
QRY_LOW_SerialKiller_AnyTableauxState()
AND NOT
DB_GlobalFlag(LOW_SerialKiller_Knows_FrancKilledByRedDwarf_4b68a5c7-c2c1-ad55-2c63-eefe0fc8b8ca, _, _, _, _)
AND
QRY_OnlyOnce("LOW_QuestUpdate_TableauxAfterFranc", _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "Stopmurders_FailFranc");
DB_QuestDef_State(LOW_SerialKiller_Knows_FrancKilledByRedDwarf_4b68a5c7-c2c1-ad55-2c63-eefe0fc8b8ca, "LOW_FindBhaalTemple", "Stopmurders_SwDFranc");

IF
DB_GlobalFlag(LOW_Elfsong_Devella_Knows_MurdersSolved_cf5a99a0-1112-18cb-d0c3-71498843319d, _, _, _, _)
AND
QRY_LOW_SerialKiller_AnyTableauxState()
AND
DB_GlobalFlag(LOW_SerialKiller_Knows_FrancKilledByRedDwarf_4b68a5c7-c2c1-ad55-2c63-eefe0fc8b8ca, _, _, _, _)
AND
QRY_OnlyOnce("LOW_QuestUpdate_TableauxAfterFranc", _, _, _, _)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "Stopmurders_FailFranc");
QuestUpdate(_Var1, "LOW_FindBhaalTemple", "Stopmurders_SwDFranc");

QRY
QRY_LOW_SerialKiller_AnyTableauxState()
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", "FollowMurders_TableauxHint", _, _, _)
THEN
DB_NOOP(1);

QRY
QRY_LOW_SerialKiller_AnyTableauxState()
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", "FollowMurders_TableauxHint_MapNotDevella", _, _, _)
THEN
DB_NOOP(1);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _, _, _, _)
AND NOT
DB_GlobalFlag(WYR_OpenHand_State_YannisAskedToInvestigate_394409f9-a450-4f9e-b396-7e861da8287f, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_Elfsong_Devella_Event_StelmaneMurdered_6f9a5052-b6f0-8452-2149-5f0781d192d4, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "StopMurders_DevellaStartingPoint");

IF
DB_Dead(S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, _Var1, _Var1, _Var1, _Var1)
AND
DB_Sees(_Var1, S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_SerialKiller_State_HighberrysRitualPerformed_00c1e2ab-8752-47f1-b847-51aedc0fb189, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", "StopMurders_CoraRitual");

IF
AddedTo(S_LOW_SerialKiller_NoteFromOrin_9c029a99-2636-4c19-9ff3-c7564a91cd35, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_FindSicariusNote");
SetFlag(LOW_MurderTribunal_Knows_WordOfPassage_839150e6-d168-4c89-a980-68b9e9f60556);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Serialkiller_HandsFlagInDolorBag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_SerialKiller_PlayersHaveHandsFromDolor(_Var1);

IF
FlagCleared((FLAG)_Var1, (CHARACTER)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_Serialkiller_HandsFlagInDolorBag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_SerialKiller_PlayersHaveHandsFromDolor(_Var1);

IF
DB_LOW_SerialKiller_PlayersHaveHandsFromDolor(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
SysCount("DB_LOW_SerialKiller_PlayersHaveHandsFromDolor", 1, _Var2, _Var1, _Var1)
AND
_Var2 > 1
THEN
QuestUpdate("LOW_FindBhaalTemple", "UnholyAssassin_FakeIt");

IF
KilledBy((CHARACTER)_Var1, (GUIDSTRING)_Var2, _, _, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_Victim_QuestState(_Var1, _Var5, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_FindBhaalTemple", _Var5);
NOT DB_LOW_SerialKiller_Victim_QuestState(_Var1, _Var5);

IF
DB_GlobalFlag(LOW_SerialKiller_State_HighberrysRitualPerformed_00c1e2ab-8752-47f1-b847-51aedc0fb189, _, _, _, _)
THEN
DB_QuestDef_SawDeadState("LOW_FindBhaalTemple", "StopMurders_CoraRitual", S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679);

IF
DB_State_Current(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, "LOW_Dolor", "Figaro", _, _)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_DolorKillsCoraWineFestival_0fce13c6-8d48-4391-a890-f1397add7af4, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "DolorOutWineFestival");

IF
DB_PermaDefeated(S_LOW_MurderTribunal_Sarevok_ae9f784a-ea64-4297-95a7-8377e85231b6, _, _, _, _)
AND NOT
DB_PermaDefeated(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_SaveSacrifice");

IF
DB_PermaDefeated(S_LOW_MurderTribunal_Sarevok_ae9f784a-ea64-4297-95a7-8377e85231b6, _, _, _, _)
AND
DB_Dead(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_State_ValeriaKilledInWyrm_dad10c35-a5d6-47ab-a4ab-62468b4887f5, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_FollowMurders_Completion_SarevokValeriaDead");

IF
DB_PermaDefeated(S_LOW_MurderTribunal_Sarevok_ae9f784a-ea64-4297-95a7-8377e85231b6, _, _, _, _)
AND
DB_GlobalFlag(LOW_SerialKiller_State_ValeriaKilledInWyrm_dad10c35-a5d6-47ab-a4ab-62468b4887f5, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_KillSarevok_ValeriaAlreadyDead");

IF
DB_GlobalFlag(LOW_BhaalTemple_Event_OpenedMainDoor_6f6497c1-6254-46ad-a3e9-46fcd0909b83, _, _, _, _)
AND NOT
DB_PermaDefeated(S_GLO_HollyphantDetective_acf70307-3bb9-4b91-b894-fa2120916f58, _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "MurderTribunal_FollowMurders_Completion_SarevokNoValeria");

IF
DialogEnded(LOW_BlushingMermaid_Patron_08_f3833dae-d3d3-7500-213e-933f03f28185, _, _, _, _)
AND
DB_GlobalFlag(LOW_BlushingMermaid_Patron_08_WarnedAboutSerialKiller_bc503ffb-577e-d70a-e8b6-252e882bed8a, _, _, _, _)
AND
DB_LOW_SerialKiller_Victim_Marker(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, _Var2, _, _, _)
THEN
PROC_DisappearOutOfSight(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, "Sprint", 1, "");
PROC_HideMarker(S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d, _Var2);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _, _, _, _)
AND
DB_CurrentLevel("CTY_Main_A", _, _, _, _)
AND
DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_MarkersNeeded()
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QuestIsClosed("LOW_FindBhaalTemple", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ShowMarker(_Var1, _Var2);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _, _, _, _)
AND NOT
DB_CurrentLevel("CTY_Main_A", _, _, _, _)
AND
DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_MarkersNeeded()
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QuestIsClosed("LOW_FindBhaalTemple", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_HideMarker(_Var1, _Var2);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_MarkersNeeded()
AND
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_HideMarker(_Var1, _Var2);
NOT DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _, _, _, _)
AND
DB_CurrentLevel("CTY_Main_A", _, _, _, _)
AND
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_MarkersNeeded()
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_FindBhaalTemple", _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_SerialKiller_AssassinMeetsPlayer_SecondTarget_fe5366dd-df38-4370-7fef-26360c4c3ce8, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QuestIsClosed("LOW_FindBhaalTemple", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ShowMarker(_Var1, _Var2);

IF
DB_GlobalFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671, _, _, _, _)
AND NOT
DB_CurrentLevel("CTY_Main_A", _, _, _, _)
AND
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
QRY_LOW_SerialKiller_MarkersNeeded()
THEN
PROC_HideMarker(_Var1, _Var2);

IF
QuestUpdateUnlocked((CHARACTER)_Var1, "LOW_FindBhaalTemple", (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var3, _Var4, _Var2, _Var1, _Var1)
THEN
PROC_HideMarker(_Var3, _Var4);
NOT DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var3, _Var4, _Var2);

IF
DB_GlobalFlag(LOW_MurderTribunal_Knows_WordOfPassage_839150e6-d168-4c89-a980-68b9e9f60556, _, _, _, _)
THEN
SetFlag(LOW_SerialKiller_UnholyAssassin_MarkersNotNeeded_6574acf2-cf62-4592-abf7-cf04256bf5dd);
SetFlag(LOW_SerialKiller_FollowMurders_MarkersNotNeeded_5dde758a-401a-4903-b599-0a95e3f38036);

IF
DB_Dead(S_LOW_Dolor_55837c0f-0171-4020-a4a3-dd6de7ffc134, _, _, _, _)
THEN
SetFlag(LOW_SerialKiller_FollowMurders_MarkersNotNeeded_5dde758a-401a-4903-b599-0a95e3f38036);

IF
DB_GlobalFlag(LOW_MurderTribunal_Sarevok_State_Dead_e9d30711-af25-4ba9-813e-cc7c131b17b6, _, _, _, _)
THEN
SetFlag(LOW_SerialKiller_UnholyAssassin_MarkersNotNeeded_6574acf2-cf62-4592-abf7-cf04256bf5dd);
SetFlag(LOW_SerialKiller_FollowMurders_MarkersNotNeeded_5dde758a-401a-4903-b599-0a95e3f38036);

IF
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_SerialKiller_MarkersNeeded(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SerialKiller_Internal_MarkerFlagSet(_Var1);

IF
DB_SerialKiller_Internal_MarkerFlagSet(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
SysCount("DB_SerialKiller_Internal_MarkerFlagSet", 1, _Var2, _Var1, _Var1)
AND
SysCount("DB_SerialKiller_MarkersNeeded", 1, _Var3, _Var1, _Var1)
AND
_Var2 == _Var3
THEN
PROC_SerialKiller_DisableMarkers();

PROC
PROC_SerialKiller_DisableMarkers()
AND
DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_HideMarker(_Var1, _Var2);
NOT DB_LOW_SerialKiller_Victim_Marker_AlreadyDead(_Var1, _Var2, _Var3);

PROC
PROC_SerialKiller_DisableMarkers()
AND
DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_HideMarker(_Var1, _Var2);
NOT DB_LOW_SerialKiller_Victim_Marker(_Var1, _Var2);

QRY
QRY_LOW_SerialKiller_MarkersNeeded()
AND
DB_SerialKiller_MarkersNeeded(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
TextEvent("LOW_ToPeartree", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_SerialKiller_Franc_Peartree_1556e29c-a876-4853-9ea7-283a48703a56);

IF
TextEvent("LOW_ToAlexander", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_SerialKiller_AlexanderRainforest_18fe60a8-7235-4450-ac5b-fcbf15bdae88);

IF
TextEvent("LOW_ToCora", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679);

IF
TextEvent("LOW_ToFigaro", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_Figaro_3ff2b7ea-3de2-4bdc-a600-c973f290bc09);

IF
TextEvent("LOW_ToNesha", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_BlushingMermaid_Patron_08_40dcda0b-7891-414f-8aeb-f742d842207d);

IF
TextEvent("LOW_ToReevor", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(_Var1, S_LOW_Elfsong_Reevor_3e5b30c3-ae3a-48b6-9394-11adde54ad57);

IF
DB_GlobalFlag(DEBUG_LOW_SerialKiller_KillCoraAndFirstMessenger_4507aaad-6233-483e-93c2-fb2fb9f3c2f6, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
Die(S_LOW_CoraHighberry_8a520cf7-c5da-419f-bdd4-792b27c5c679, 0, _Var1, 1, 0, 1);
Die(S_LOW_SerialKiller_DoppelgangerGiveQuest_30e834cb-f029-424b-b787-12f10fe474d7, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 0, 1);
SetFlag(LOW_SerialKiller_State_PlayersKillFirstTargetList_26d1c8ac-c5a6-4069-bc97-db2c1f7b2b05);

IF
TextEvent("LOW_SerialKiller_KillCoraAndMessenger", _, _, _, _)
THEN
SetFlag(DEBUG_LOW_SerialKiller_KillCoraAndFirstMessenger_4507aaad-6233-483e-93c2-fb2fb9f3c2f6);

IF
TextEvent("LOW_SKBegin", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate("LOW_FindBhaalTemple", "EnteredCity");
SetFlag(LOW_SerialKiller_Knows_TargetList_262314d1-43bf-4ea5-ae23-4a77bfab2671);

IF
TextEvent("MAIN_StartOrinQuest", _, _, _, _)
THEN
QuestUpdate("LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate("LOW_FindBhaalTemple", "EnteredCity");

IF
DB_GEN_SerialKiller_Tableux_Initialized(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GEN_SerialKiller_TableuxPADs(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var4);

IF
DB_InRegion(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GEN_SerialKiller_Tableux_DisableForCharacters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GEN_SerialKiller_TableuxPADs(_Var3, _Var4, _Var5, _Var2, _Var1)
AND
QRY_OncePerUserAndNearbyPlayers(_Var1, _Var5, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var4, _Var1);
PROC_TryStartAD(GLO_PAD_MurderTableaux_42338d0d-ee00-2b11-d63b-b0384de35af2, _Var1);

IF
TemplateUseStarted((CHARACTER)_Var1, DEC_GEN_Blackboard_Flaming_Fists_A_InvestigationAD_80061337-21ef-4d4e-8b39-5fca340b12df, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_FlamingFists_AD_Sign_bb8fea3e-9725-cbc2-3ddc-8aabb7dea77c, _Var2);


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act3_GEN"
