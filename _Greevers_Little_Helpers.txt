Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_Singleton("InitData", 0);
DB_DialogStatusSetter(GLO_SetKnockdown_01f59f7d-7cea-4822-81e5-2802cd58f4b6, GLO_ClearKnockdown_7dcd4aac-a388-4124-963e-d85fec572d44, "KNOCKED_DOWN");
DB_DialogStatusSetter(GLO_SetKnockdown2_cb977481-185d-4848-9999-c3f52b26dbfb, GLO_ClearKnockdown2_1edfd5fb-955e-4091-bd16-72a0ff14b26e, "KNOCKED_DOWN");
NOT DB_GlobalFlagReactionAfterDialog(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
DB_SpeedString(0, "Walk");
DB_SpeedString(1, "Run");
DB_GLO_WeaponSlots("Melee Main Weapon");
DB_GLO_WeaponSlots("Melee Offhand Weapon");
DB_GLO_WeaponSlots("Ranged Main Weapon");
DB_GLO_WeaponSlots("Ranged Offhand Weapon");
DB_FactionHostilityBlacklist(Item_Neutral_376e33c4-dd15-4c46-a586-87d8b421a0c7);
DB_FactionHostilityBlacklist(Neutral_a66b2d45-1b6c-082d-8a01-c6d975ead314);
DB_FactionHostilityBlacklist(NeutralNPC_cfb709b3-220f-9682-bcfb-6f0d8837462e);
DB_FactionHostilityBlacklist(Hero_a1542c81-6895-929e-4522-10ce218bb360);
DB_FactionHostilityBlacklist(AnimalBase_a863d0cc-60b9-b450-f90d-8a4dc192ecb9);
DB_FactionHostilityBlacklist(Animal_Bear_92bf36f9-e9ab-ab01-bfea-4890dd6e24b0);
DB_FactionHostilityBlacklist(Animal_Beetle_862cddf3-9918-b539-70a2-f947b8a29a46);
DB_FactionHostilityBlacklist(Animal_Boar_b0a95db6-f0be-85c1-d327-5ea230115471);
DB_FactionHostilityBlacklist(Animal_Bull_4d888270-b18b-5a6c-45fa-96ab6124dd20);
DB_FactionHostilityBlacklist(Animal_Cat_7c6404dc-5241-a019-f48f-d92c9da80494);
DB_FactionHostilityBlacklist(Animal_Chicken_3e083656-3021-8a37-6d6f-fc40ebe36928);
DB_FactionHostilityBlacklist(Animal_Condor_26d25594-0cd6-eaf5-7281-ee9cb6d104c2);
DB_FactionHostilityBlacklist(Animal_Crab_bef56903-2989-ff87-e5e5-1609d163df38);
DB_FactionHostilityBlacklist(Animal_Deer_65b34013-222d-c9e1-5221-75766a9850eb);
DB_FactionHostilityBlacklist(Animal_Dog_53767d10-d78d-aeb2-fb53-a98cf0c538b3);
DB_FactionHostilityBlacklist(Animal_Frog_75b1890d-e482-4813-7a7f-086ce01bc550);
DB_FactionHostilityBlacklist(Animal_Owl_ac2a672b-3fde-cca9-6fb5-69a6b971089c);
DB_FactionHostilityBlacklist(Animal_Phoenix_60190c3d-b8d7-e6a8-8215-779e4a9e6389);
DB_FactionHostilityBlacklist(Animal_Pig_d117b2ab-a48e-abbc-5d05-79d40b1a82a6);
DB_FactionHostilityBlacklist(Animal_Rabbit_7b692b08-b2d3-022e-cb59-d51adac81ba3);
DB_FactionHostilityBlacklist(Animal_Rat_3a2161c9-e490-6c32-d78e-c3b44832206e);
DB_FactionHostilityBlacklist(Animal_Salamander_7c5da2e9-12b4-7c4d-51b9-10a24b2bd1b8);
DB_FactionHostilityBlacklist(Animal_Sheep_3d5ae1a1-9aa4-a688-2385-c452d5434dcd);
DB_FactionHostilityBlacklist(Animal_Squirrel_f68ae56f-975d-9e42-b123-242f707f9f68);
DB_FactionHostilityBlacklist(Animal_Tiger_5dce625d-8e52-4f5a-bc2c-0b9b656c3c6e);
DB_FactionHostilityBlacklist(Animal_Turtle_28341024-858a-3896-03b8-f49deeba8b1e);
DB_FactionHostilityBlacklist(Good_b37bfd4c-baed-08f4-9866-290f8bb39e62);
DB_FactionHostilityBlacklist(Owlbear_d52f4ac8-1cd7-8c54-2a27-6132bb7cc600);
NOT DB_InRegionFlag(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CharacterInRegionFlag(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_ItemInRegionFlag(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_GLO_ExclusiveFlag("", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Dialog_AddAllNearbyPlayersAtStart(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Dialog_AddAllNearbyVisiblePlayersAtStart(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Dialog_AddAllNearbyVisiblePlayersAtStart(NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_Singleton_GUID("", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_BookFlags(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_BookTemplateFlags(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_AddCharactersInTriggerToDialog(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_AddCharactersInTriggerToDialog(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0, 0);
NOT DB_AddCharactersInTriggerToDialog(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0, 0, 0);
NOT DB_AddCharactersInTriggerToDialog(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0, 0, 0, 0);
NOT DB_AddCharactersInTriggerToDialog_IgnoreHidden(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CorpseCleanup_Area(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CorpseCleanup_Ignore(NULL_00000000-0000-0000-0000-000000000000);
DB_DBDebug_ReturnDBs(1, "DB_DBDebug_1Param_GUID");
DB_DBDebug_ReturnDBs(1, "DB_DBDebug_1Param_INT");
DB_DBDebug_ReturnDBs(1, "DB_DBDebug_1Param_STRING");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_GUID_GUID");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_GUID_INT");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_GUID_STRING");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_INT_GUID");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_INT_INT");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_INT_STRING");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_STRING_GUID");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_STRING_INT");
DB_DBDebug_ReturnDBs(2, "DB_DBDebug_2Param_STRING_STRING");
DB_DBDebug_ReturnDBs(3, "DB_DBDebug_3Param_INT_GUID_INT");
NOT DB_LevelUnreachable("_LevelName");
NOT DB_LevelUnreachable_TrackEntity(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_LevelUnreachable_LevelBlocksLevel("_CurrentLevel", "_BlockedLevel");
DB_StatusGroups_UnconsciousOrEquivalent("SG_Incapacitated");
DB_StatusGroups_UnconsciousOrEquivalent("SG_Unconscious");
DB_StatusGroups_UnconsciousOrEquivalent("SG_Stunned");

KBSECTION
IF
TextEvent("FrameCounter", _, _, _, _)
THEN
DB_DebugFrameCounter(1);
TimerLaunch("DebugFrameCounter", 0);

IF
TimerFinished("DebugFrameCounter", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DebugFrameCounter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var1, 1, _Var2, _Var1, _Var1)
THEN
NOT DB_DebugFrameCounter(_Var1);
DB_DebugFrameCounter(_Var2);
TimerLaunch("DebugFrameCounter", 0);

PROC
PROC_GetRandom((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var3, (STRING)_Var1, (STRING)_Var1)
AND
SysCount(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
_Var4 > 0
AND
Random(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var5, 1, _Var6, _Var1, _Var1)
AND
SysFactAtIndex(_Var1, _Var2, _Var6, _Var3, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_GetRandom((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var3, (STRING)_Var1, (STRING)_Var1)
AND
SysCount(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
_Var4 > 0
AND
Random(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var5, 1, _Var6, _Var1, _Var1)
AND
SysFactAtIndex(_Var1, _Var2, _Var6, _Var3, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_Stack_AddLast((STRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_Stack(_Var1, _Var2);

PROC
PROC_Stack_AddFirst((STRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_Stack(_Var1, _Var2);
PROC_Stack_RestackOldValues(_Var1, _Var2);

PROC
PROC_Stack_RestackOldValues((STRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_Stack(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var3 != _Var2
THEN
NOT DB_Stack(_Var1, _Var3);
DB_Stack(_Var1, _Var3);

QRY
QRY_Stack_ExtractLast((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
QRY_Stack_Internal_ClearExtractLast()
AND
DB_Stack(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_Stack_ExtractLast(_Var2);

QRY
QRY_Stack_ExtractLast((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_QRYRTN_Stack_ExtractLast(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Stack(_Var1, _Var2);

QRY
QRY_Stack_Internal_ClearExtractLast()
THEN
PROC_Stack_Internal_ClearExtractLast();

PROC
PROC_Stack_Internal_ClearExtractLast()
AND
DB_QRYRTN_Stack_ExtractLast(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_Stack_ExtractLast(_Var1);

IF
DB_QRYRTN_Stack_ExtractLast(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_Stack_ExtractLast(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != _Var2
THEN
NOT DB_QRYRTN_Stack_ExtractLast(_Var2);

QRY
QRY_Stack_ExtractFirst((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
QRY_Stack_Internal_ClearExtractFirst()
AND
QRY_OnlyOnce_Reset("Stack_ExtractFirst", _Var1, _Var1, _Var1, _Var1)
AND
DB_Stack(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("Stack_ExtractFirst", _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_Stack_ExtractFirst(_Var2);

QRY
QRY_Stack_ExtractFirst((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_QRYRTN_Stack_ExtractFirst(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Stack(_Var1, _Var2);

QRY
QRY_Stack_Internal_ClearExtractFirst()
THEN
PROC_Stack_Internal_ClearExtractFirst();

PROC
PROC_Stack_Internal_ClearExtractFirst()
AND
DB_QRYRTN_Stack_ExtractFirst(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_Stack_ExtractFirst(_Var1);

PROC
PROC_UnpackDB((STRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var5)
AND
SysCount(_Var1, 1, _Var6, _Var1, _Var1)
THEN
PROC_DeclareCounter("GLO_UnpackIndex");
PROC_IncreaseCounter("GLO_UnpackIndex");
SysClear("DB_UnpackedIndexed", 2);
PROC_UnpackDB_Init(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6);

PROC
PROC_UnpackDB_Init((STRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var5, (INTEGER)_Var6, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
_Var4 > 6
THEN
DebugBreak("PROC_UnpackDB only supports callbacks with up to six elements");

PROC
PROC_UnpackDB_Init((STRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var5, (INTEGER)_Var6, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
_Var4 <= 6
THEN
PROC_UnpackDB_Recursive(_Var1, _Var4, _Var5, _Var6);
PROC_UnpackDB_PerformCallback(_Var2, _Var3, _Var4);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 1, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 2, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(2, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 3, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(2, _Var4, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(3, _Var5, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3, _Var4, _Var5);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 4, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(2, _Var4, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(3, _Var5, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(4, _Var6, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5, (GUIDSTRING)_Var6, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 5, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(2, _Var4, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(3, _Var5, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(4, _Var6, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(5, _Var7, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5, (GUIDSTRING)_Var6, (GUIDSTRING)_Var7, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_PerformCallback((STRING)_Var1, (GUIDSTRING)_Var2, 6, (STRING)_Var1, (STRING)_Var1)
AND
DB_UnpackedIndexed(1, _Var3, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(2, _Var4, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(3, _Var5, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(4, _Var6, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(5, _Var7, _Var1, _Var1, _Var1)
AND
DB_UnpackedIndexed(6, _Var8, _Var1, _Var1, _Var1)
THEN
PROC_UnpackDB_Callback(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var8);

PROC
PROC_UnpackDB_Callback((STRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5, (GUIDSTRING)_Var6, (GUIDSTRING)_Var7, (GUIDSTRING)_Var8, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_UnpackDB_Recursive((STRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (STRING)_Var1)
AND
DB_GlobalCounter("GLO_UnpackIndex", _Var5, _Var1, _Var1, _Var1)
AND
_Var5 <= _Var2
AND
_Var5 <= _Var4
AND
SysFactAtIndex(_Var1, 1, _Var5, "DB_UnpackTemp", _Var1)
AND
DB_UnpackTemp(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_UnpackTemp(_Var6);
DB_UnpackedIndexed(_Var5, _Var6);
PROC_IncreaseCounter("GLO_UnpackIndex");
PROC_UnpackDB_Recursive(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_UnpackDB_Recursive((STRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (STRING)_Var1)
AND
DB_GlobalCounter("GLO_UnpackIndex", _Var5, _Var1, _Var1, _Var1)
AND
_Var5 <= _Var2
AND
_Var5 > _Var4
THEN
DB_UnpackedIndexed(_Var5, _Var3);
PROC_IncreaseCounter("GLO_UnpackIndex");
PROC_UnpackDB_Recursive(_Var1, _Var2, _Var3, _Var4);

PROC
PlayAnimation((GUIDSTRING)_Var1, (ANIMATION)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PlayAnimation(_Var1, _Var2, "");

PROC
TeleportTo((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
TeleportTo(_Var1, _Var2, "", 1, 0, 1, 0, 1);

PROC
TeleportToPosition((GUIDSTRING)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (GUIDSTRING)_Var1)
THEN
TeleportToPosition(_Var1, _Var2, _Var3, _Var4, "", 1, 0, 1, 0, 1);

PROC
TeleportTo((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
TeleportTo(_Var1, _Var2, _Var3, 1, 0, 1, 0, 1);

PROC
TeleportTo((GUIDSTRING)_Var1, (TRIGGER)_Var2, (STRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
THEN
TeleportTo(_Var1, _Var2, _Var3, _Var4, 0, 1, 0, 1);

PROC
TeleportTo((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var3, (INTEGER)_Var4, (INTEGER)_Var5)
THEN
TeleportTo(_Var1, _Var2, _Var3, _Var4, _Var5, 1, 0, 1);

PROC
TeleportToPosition((GUIDSTRING)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (STRING)_Var5, (INTEGER)_Var6, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
TeleportToPosition(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, 0, 1, 0, 1);

PROC
TeleportTo((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var3, (INTEGER)_Var4, (INTEGER)_Var5, (INTEGER)_Var6, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
TeleportTo(_Var1, _Var2, _Var3, _Var4, _Var5, 1, _Var6, 1);

PROC
TeleportToPosition((GUIDSTRING)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (STRING)_Var5, (INTEGER)_Var6, (INTEGER)_Var7, (INTEGER)_Var8, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
TeleportToPosition(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, 1, _Var8, 1);

PROC
PROC_TeleportPartiesTo((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
TeleportPartiesWithMovie(_Var1, _Var2, "");

PROC
ApplyStatus((CHARACTER)_Var1, (STRING)_Var2, (REAL)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
ApplyStatus(_Var1, _Var2, _Var3, 0);

PROC
SetFlag((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
SetFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
SetFlag((FLAG)_Var1, (GUIDSTRING)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
SetFlag(_Var1, _Var2, 0);

PROC
SetFlag((FLAG)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
THEN
SetFlag(_Var1, _Var2, _Var3, 1);

PROC
ClearFlag((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
ClearFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
ClearFlag((FLAG)_Var1, (GUIDSTRING)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
ClearFlag(_Var1, _Var2, 0);

PROC
ClearFlag((FLAG)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
THEN
ClearFlag(_Var1, _Var2, _Var3, 1);

PROC
UseSpell((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
UseSpell(_Var1, _Var2, _Var3, NULL_00000000-0000-0000-0000-000000000000);

PROC
MakePlayer((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
MakePlayer(_Var1, NULL_00000000-0000-0000-0000-000000000000);

PROC
Die((CHARACTER)_Var1, (DEATHTYPE)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (INTEGER)_Var5)
THEN
Die(_Var1, _Var2, _Var3, _Var4, _Var5, 0);

PROC
ActivateTrade((CHARACTER)_Var1, (CHARACTER)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
ActivateTrade(_Var1, _Var2, _Var3, 0);

PROC
ActivateTrade((CHARACTER)_Var1, (CHARACTER)_Var2, (INTEGER)_Var3, (TRADEMODE)_Var4, (CHARACTER)_Var1)
THEN
ActivateTrade(_Var1, _Var2, _Var3, _Var4, NULL_00000000-0000-0000-0000-000000000000, "");

PROC
Pickup((GUIDSTRING)_Var1, (ITEM)_Var2, (STRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
Pickup(_Var1, _Var2, _Var3, 1);

IF
FlagSet((GUIDSTRING)_Var1, NULL_00000000-0000-0000-0000-000000000000, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_GlobalFlag(_Var1);

IF
FlagCleared((GUIDSTRING)_Var1, NULL_00000000-0000-0000-0000-000000000000, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_GlobalFlag(_Var1);

PROC
PROC_GlobalSetFlagAndCache((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
SetFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);
DB_GlobalFlag(_Var1);

PROC
PROC_GlobalClearFlagAndCache((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
ClearFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_GlobalFlag(_Var1);

PROC
PROC_Poof((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Poof(_Var1, EFFECTRESOURCEGUID_VFX_Script_Stub_Poof_01_f0cf792a-0f74-d17e-ad0d-6052a6131416);

PROC
PROC_Poof((GUIDSTRING)_Var1, (EFFECTRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetRegion(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
GetPosition(_Var1, _Var4, _Var5, _Var6, _Var1)
THEN
PlayEffectAtPosition(_Var2, _Var4, _Var5, _Var6);

PROC
PROC_Poof((GUIDSTRING)_Var1, (EFFECTRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_SetOnStage(_Var1, 0);

PROC
PROC_Foop((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Foop(_Var1, EFFECTRESOURCEGUID_VFX_Script_Stub_Poof_01_f0cf792a-0f74-d17e-ad0d-6052a6131416);

PROC
PROC_Foop((GUIDSTRING)_Var1, (EFFECTRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetRegion(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
GetPosition(_Var1, _Var4, _Var5, _Var6, _Var1)
THEN
PlayEffectAtPosition(_Var2, _Var4, _Var5, _Var6);

PROC
PROC_Foop((GUIDSTRING)_Var1, (EFFECTRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_SetOnStage(_Var1, 1);

IF
FlagSet(GLO_Event_Poof_32404a82-0cd9-e68e-4bd9-30257387e857, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Poof(_Var1);
ClearFlag(GLO_Event_Poof_32404a82-0cd9-e68e-4bd9-30257387e857, _Var1);

IF
EntityEvent((GUIDSTRING)_Var1, "GEN_GoOffStage", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
SetOnStage(_Var1, 0);

PROC
PROC_PoofOnce((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_OnlyOnce(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Poof(_Var1);
DB_OnlyOnce(_Var2);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "Poof", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Poof(_Var1);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "Foop", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Foop(_Var1);

PROC
PROC_SetOnStage((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
SetOnStage(_Var1, 1);
NOT DB_OffStage(_Var1);

PROC
PROC_SetOnStage((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
SetOnStage(_Var1, 0);
DB_OffStage(_Var1);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairRand_ReturnVal(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FairRand_ReturnVal(_Var3);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_FairRand_Available(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_SeedFairRand(_Var1, _Var2, _Var2);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_FairRandAmount(0);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
_Var2 > 1
AND
DB_FairRand_Last_Of_Previous_Seeding(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_FairRand_Available(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
_Var3 != _Var4
AND
DB_FairRandAmount(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var5, 1, _Var6, _Var1, _Var1)
THEN
DB_FairRand_Array(_Var5, _Var4);
NOT DB_FairRandAmount(_Var5);
DB_FairRandAmount(_Var6);
DB_FairAmount_ListFilled(1);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairRand_Last_Of_Previous_Seeding(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FairRand_Last_Of_Previous_Seeding(_Var3);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_FairAmount_ListFilled(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FairRand_Available(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_FairRandAmount(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var4, 1, _Var5, _Var1, _Var1)
THEN
DB_FairRand_Array(_Var4, _Var3);
NOT DB_FairRandAmount(_Var4);
DB_FairRandAmount(_Var5);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairAmount_ListFilled(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FairAmount_ListFilled(1);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairRandAmount(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 > 0
AND
Random(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
DB_FairRand_Array(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
NOT DB_FairRand_Available(_Var1, _Var2, _Var5);
DB_FairRand_ReturnVal(_Var5);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_FairRand_Available(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_FairRand_ReturnVal(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
DB_FairRand_Last_Of_Previous_Seeding(_Var4);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairRandAmount(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FairRandAmount(_Var3);

QRY
QRY_GetFairRand((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_FairRand_Array(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_FairRand_Array(_Var3, _Var4);

PROC
PROC_SeedFairRand((STRING)_Var1, (INTEGER)_Var2, (INTEGER)_Var3, (STRING)_Var1, (STRING)_Var1)
AND
_Var3 > 0
AND
IntegerSubtract(_Var3, 1, _Var4, _Var1, _Var1)
THEN
DB_FairRand_Available(_Var1, _Var2, _Var4);
PROC_SeedFairRand(_Var1, _Var2, _Var4);

QRY
QRY_Helper_GetAnyRandomPositionInArea((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Helper_GetAnyRandomPositionInArea_Result(_Var3, _Var4, _Var5, _Var1, _Var1)
THEN
NOT DB_Helper_GetAnyRandomPositionInArea_Result(_Var3, _Var4, _Var5);

QRY
QRY_Helper_GetAnyRandomPositionInArea((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetPosition(_Var1, _Var3, _Var4, _Var5, _Var1)
AND
GetPosition(_Var2, _Var6, _Var7, _Var8, _Var1)
AND
RealSubtract(_Var6, _Var3, _Var9, _Var1, _Var1)
AND
RealSubtract(_Var7, _Var4, _Var10, _Var1, _Var1)
AND
RealSubtract(_Var8, _Var5, _Var11, _Var1, _Var1)
AND
RealProduct(_Var9, 100, _Var12, _Var1, _Var1)
AND
RealProduct(_Var10, 100, _Var13, _Var1, _Var1)
AND
RealProduct(_Var11, 100, _Var14, _Var1, _Var1)
AND
RealToInteger(_Var12, _Var15, _Var1, _Var1, _Var1)
AND
RealToInteger(_Var13, _Var16, _Var1, _Var1, _Var1)
AND
RealToInteger(_Var14, _Var17, _Var1, _Var1, _Var1)
AND
Random(_Var15, _Var18, _Var1, _Var1, _Var1)
AND
Random(_Var16, _Var19, _Var1, _Var1, _Var1)
AND
Random(_Var17, _Var20, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var18, _Var21, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var19, _Var22, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var20, _Var23, _Var1, _Var1, _Var1)
AND
RealDivide(_Var21, 100, _Var24, _Var1, _Var1)
AND
RealDivide(_Var22, 100, _Var25, _Var1, _Var1)
AND
RealDivide(_Var23, 100, _Var26, _Var1, _Var1)
AND
RealSum(_Var3, _Var24, _Var27, _Var1, _Var1)
AND
RealSum(_Var4, _Var25, _Var28, _Var1, _Var1)
AND
RealSum(_Var5, _Var26, _Var29, _Var1, _Var1)
THEN
DB_Helper_GetAnyRandomPositionInArea_Result(_Var27, _Var28, _Var29);

IF
DB_Singleton(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Singleton(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var2 != _Var3
THEN
NOT DB_Singleton(_Var1, _Var3);

IF
DB_Singleton_GUID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Singleton_GUID(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var2 != _Var3
THEN
NOT DB_Singleton_GUID(_Var1, _Var3);

QRY
QRY_OnlyOnce((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_OnlyOnce(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_OnlyOnce(_Var1);

QRY
QRY_OnlyOnce_Reset((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
NOT DB_OnlyOnce(_Var1);

QRY
QRY_OnlyOncePerUser((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetReservedUserID(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
GetUserProfileID(_Var3, _Var4, _Var1, _Var1, _Var1)
AND NOT
DB_OnlyOnce_PerUser(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
DB_OnlyOnce_PerUser(_Var4, _Var2);

QRY
QRY_OnlyOncePerUser_Reset((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_OnlyOnce_PerUser(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_OnlyOnce_PerUser(_Var2, _Var1);

QRY
QRY_OncePerUserAndNearbyPlayers((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_OncePerUserAndNearbyPlayers(_Var1, _Var2, 10, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_OncePerUserAndNearbyPlayers((GUIDSTRING)_Var1, (STRING)_Var2, (REAL)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
QRY_OncePerUserAndNearbyPlayers_IsSet(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_OncePerUserAndNearbyPlayers_Set(_Var1, _Var2, _Var3);

PROC
PROC_OncePerUserAndNearbyPlayers_Set((GUIDSTRING)_Var1, (STRING)_Var2, (REAL)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(_Var1, _Var4, _Var3, _Var1, _Var1)
AND
GetReservedUserID(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
GetUserProfileID(_Var5, _Var6, _Var1, _Var1, _Var1)
THEN
DB_OnlyOnce_PerUser(_Var6, _Var2);

QRY
QRY_OncePerUserAndNearbyPlayers_IsSet((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_OncePerUserAndNearbyPlayers_IsSet(_Var1, _Var2, 10, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_OncePerUserAndNearbyPlayers_IsSet((GUIDSTRING)_Var1, (STRING)_Var2, (REAL)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(_Var1, _Var4, _Var3, _Var1, _Var1)
AND
GetReservedUserID(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
GetUserProfileID(_Var5, _Var6, _Var1, _Var1, _Var1)
AND
DB_OnlyOnce_PerUser(_Var6, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_OncePerUserAndNearbyPlayers_Reset((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_OnlyOnce_PerUser(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_OnlyOnce_PerUser(_Var2, _Var1);

QRY
QRY_OncePerUserAndNearbyPlayers_Reset((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

QRY
QRY_OnlyOnceForNearbyPlayers_Timeout((GUIDSTRING)_Var1, (STRING)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_OnlyOncePerPlayer(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
GetDistanceTo(_Var1, _Var4, _Var5, _Var1, _Var1)
AND
_Var5 < 10
THEN
DB_OnlyOncePerPlayer(_Var4, _Var2);
ObjectTimerLaunch(_Var4, _Var2, _Var3);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_OnlyOncePerPlayer(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_OnlyOncePerPlayer(_Var1, _Var2);

PROC
PROC_RemoveDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DialogRequestStop(_Var1);
PROC_RemoveAllDialogEntriesForSpeaker(_Var1);
SetHasDialog(_Var1, 0);

IF
FlagSet(GEN_EndTurn_78cd5286-9c0d-4dea-9033-1d6276be52e5, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
EndTurn(_Var1);
ClearFlag(GEN_EndTurn_78cd5286-9c0d-4dea-9033-1d6276be52e5, _Var1, 0);

IF
FlagSet(GEN_SkipToTurn_9418ba09-2d39-40bc-81ec-f9d7a05310ce, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_CharacterSkipTurn(_Var1);
ClearFlag(GEN_SkipToTurn_9418ba09-2d39-40bc-81ec-f9d7a05310ce, _Var1, 0);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CharacterSkipTurn(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
EndTurn(_Var1);

PROC
PROC_PurgeSkipTurnDB()
AND
DB_CharacterSkipTurn(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CharacterSkipTurn(_Var1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_SkipToCharactersTurn(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
_Var1 != _Var2
THEN
EndTurn(_Var1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_SkipToCharactersTurn(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_SkipToCharactersTurn(_Var1);

IF
FlagSet(GEN_DisappearOutOfSight_5dc33889-cbfb-c3d2-9e4e-8d826bf8566f, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Run", 0, "");
ClearFlag(GEN_DisappearOutOfSight_5dc33889-cbfb-c3d2-9e4e-8d826bf8566f, _Var1, 0);

IF
FlagSet(GEN_DisappearOutOfSightWhenAvailable_a5b0b401-a04d-6493-579b-d87cff1474cb, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
ClearFlag(GEN_DisappearOutOfSightWhenAvailable_a5b0b401-a04d-6493-579b-d87cff1474cb, _Var1, 0);
PROC_NotifyWhenReadyToMoveOn(_Var1, "GLO_DisappearOutOfSight");

PROC
PROC_ReadyToMoveOn((GUIDSTRING)_Var1, "GLO_DisappearOutOfSight", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Run", 0, "");

PROC
PROC_WaitAndEndTurn((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IntegerToReal(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
RealDivide(_Var3, 1000, _Var4, _Var1, _Var1)
THEN
SetEntityEventReal(_Var1, "GLO_CombatWait", _Var4);
RealtimeObjectTimerLaunch(_Var1, "GLO_EndTurn", _Var2);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "GLO_EndTurn", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
EndTurn(_Var1);

PROC
PROC_ItemLocalMove((ITEM)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (REAL)_Var5, (REAL)_Var6, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
GetPosition(_Var1, _Var7, _Var8, _Var9, _Var1)
AND
RealSum(_Var7, _Var2, _Var10, _Var1, _Var1)
AND
RealSum(_Var8, _Var3, _Var11, _Var1, _Var1)
AND
RealSum(_Var9, _Var4, _Var12, _Var1, _Var1)
THEN
ItemMoveToPosition(_Var1, _Var10, _Var11, _Var12, _Var5, _Var6);

IF
EntityEvent((GUIDSTRING)_Var1, "ForceStopDialog", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_ForceStopDialog(_Var1);

PROC
PROC_ForceStopDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
THEN
DialogRequestStop(_Var1);

PROC
PROC_ForceStopDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Inclusion_RemoveOrigin(_Var1);

PROC
PROC_TEMP_RequestStopDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_TryRequestStopDialog(_Var1, _Var3);

PROC
PROC_TEMP_RequestStopDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Inclusion_RemoveOrigin(_Var1);

PROC
PROC_TryRequestStopDialog((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DialogRequestStop(_Var1);

PROC
PROC_TryRequestStopDialog((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
SpeakerGetDialog(_Var1, 0, _Var2, _Var3, _Var1)
THEN
PROC_StopDialogIfStarted(_Var1, _Var2, _Var3);

PROC
PROC_StopDialogIfStarted((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_DialogName(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_StopDialogsWhenStarted(_Var1, _Var3);

PROC
PROC_StopDialogIfStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DialogRequestStop(_Var1);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_StopDialogsWhenStarted(_Var3, _Var2, _, _, _)
THEN
NOT DB_StopDialogsWhenStarted(_Var3, _Var2);

IF
DialogStarted(_, (INTEGER)_Var2, _, _, _)
AND
DB_StopDialogsWhenStarted(_Var3, _Var2, _, _, _)
THEN
DialogRequestStop(_Var3);

PROC
PROC_ForceStopSpecificDialog((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var3, _Var1, _, _Var1, _Var1)
THEN
PROC_ForceStopDialog(_Var1);

PROC
PROC_ForceStopSpecificDialog((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_DialogNPCs(_Var3, _Var1, _, _Var1, _Var1)
THEN
PROC_ForceStopDialog(_Var1);

PROC
PROC_ForceStopDefaultDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogNPCs(_Var2, _Var1, _, _Var1, _Var1)
AND
DB_DialogName(_Var4, _Var2, _Var1, _Var1, _Var1)
AND
QRY_IsDefaultDialogForObject(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ForceStopDialog(_Var1);

QRY
QRY_IsDefaultDialogForObject((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
QRY_SelectDBDialogs(_Var2, NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1, _Var1)
AND
QRY_FoundDefaultDialogForSpeakerAndClear(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_IsDefaultDialogForObject((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
QRY_SelectDefaultDialog(_Var2, NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1, _Var1)
AND
QRY_FoundDefaultDialogForSpeakerAndClear(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_FoundDefaultDialogForSpeakerAndClear((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_SelectedDialog(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_SelectedDialog(_Var1, _Var2);

QRY
QRY_FoundDefaultDialogForSpeakerAndClear((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_SelectedDialog(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_SelectedDialog(_Var1, _Var2, _Var3);

QRY
QRY_FoundDefaultDialogForSpeakerAndClear((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_SelectedDialog(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_SelectedDialog(_Var1, _Var2, _Var3, _Var4);

QRY
QRY_FoundDefaultDialogForSpeakerAndClear((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_SelectedDialog(_Var1, _Var2, _Var3, _Var4, _Var5)
THEN
NOT DB_SelectedDialog(_Var1, _Var2, _Var3, _Var4, _Var5);

IF
FlagSet(GLO_Event_SetSurprisedNextCombat_5b4d1d25-1b70-43b2-b336-2f259eea3fc3, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_MakeSurprised(_Var1);
ClearFlag(GLO_Event_SetSurprisedNextCombat_5b4d1d25-1b70-43b2-b336-2f259eea3fc3, _Var1, 0);

IF
FlagSet(CharacterDieAfterDialog_fb62f715-13c3-c967-13f4-91f9231f8243, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_CharacterDieAfterDialog(_Var1, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_CharacterDieAfterDialog(_Var3, _Var2, _, _, _)
THEN
Die(_Var3, 0, 1);
ClearFlag(CharacterDieAfterDialog_fb62f715-13c3-c967-13f4-91f9231f8243, _Var3, _Var2);
NOT DB_CharacterDieAfterDialog(_Var3, _Var2);

IF
FlagSet(FactionHostileToIndivPlayerAfterDialog_3a7747bd-004a-6e69-7ff5-4f4eb6c3c223, (CHARACTER)_Var1, (INTEGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_HostileToIndivPlayerAfterDialog(_Var1, _Var2);

IF
FlagSet(FactionHostileToIndivPlayerAfterDialog_3a7747bd-004a-6e69-7ff5-4f4eb6c3c223, (CHARACTER)_Var1, (INTEGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
ClearFlag(FactionHostileToIndivPlayerAfterDialog_3a7747bd-004a-6e69-7ff5-4f4eb6c3c223, _Var1, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_HostileToIndivPlayerAfterDialog(_Var3, _Var2, _, _, _)
AND
GetFaction(_Var3, _Var4, _, _, _)
AND NOT
QRY_FactionHostilityBlacklisted(_Var4, 1, _, _, _)
AND
DB_DialogPlayers(_Var2, _Var5, _, _, _)
THEN
PROC_SetHostileToIndivPlayerFaction(_Var4, _Var5);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_HostileToIndivPlayerAfterDialog(_Var3, _Var2, _, _, _)
THEN
NOT DB_HostileToIndivPlayerAfterDialog(_Var3, _Var2);

IF
FlagSet(FactionHostileToPlayerGroupAfterDialog_d73ce44b-1b9a-2e02-f29a-d8e9e68c7edc, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
ClearFlag(FactionHostileToPlayerGroupAfterDialog_d73ce44b-1b9a-2e02-f29a-d8e9e68c7edc, _Var1, _Var2);

IF
FlagSet(FactionHostileToPlayerGroupAfterDialog_d73ce44b-1b9a-2e02-f29a-d8e9e68c7edc, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_HostileToPlayerGroupAfterDialog(_Var1, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2, _, _, _)
AND
GetFaction(_Var3, _Var4, _, _, _)
AND NOT
QRY_FactionHostilityBlacklisted(_Var4, 1, _, _, _)
AND
DB_DialogPlayers(_Var2, _Var5, _, _, _)
AND
DB_HostileToPlayerGroupCancelFlag(_Var7, _Var4, _, _, _)
AND
DB_GlobalFlag(_Var7, _, _, _, _)
THEN
NOT DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2);
DB_TemporaryHostilityAfterDialog(_Var3, _Var2);
NOT DB_SetNeutralToPlayerGroupAfterDialog(_Var2, _Var5, _Var4);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2, _, _, _)
AND
GetFaction(_Var3, _Var4, _, _, _)
AND NOT
QRY_FactionHostilityBlacklisted(_Var4, 1, _, _, _)
AND
DB_DialogPlayers(_Var2, _Var5, _, _, _)
AND
GetFaction(_Var5, _Var7, _, _, _)
THEN
DB_HostileToPlayerGroup(_Var4, _Var5);
NOT DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2);
SetHostileAndEnterCombat(_Var4, _Var7, _Var3, _Var5);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2, _, _, _)
THEN
NOT DB_HostileToPlayerGroupAfterDialog(_Var3, _Var2);

IF
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_GEN_UpdateHostilePlayerGroup(_Var1, _Var2);

PROC
PROC_GEN_UpdateHostilePlayerGroup((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SysClear("DB_HostileToPlayerGroup_FactionHandled", 1);

PROC
PROC_GEN_UpdateHostilePlayerGroup((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_PartyMembers(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
GetFaction(_Var3, _Var4, _Var1, _Var1, _Var1)
AND NOT
DB_HostileToPlayerGroup_FactionHandled(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GEN_UpdateHostileToPlayerGroupForPartyMember(_Var1, _Var4, _Var2);
DB_HostileToPlayerGroup_FactionHandled(_Var4);

PROC
PROC_GEN_UpdateHostileToPlayerGroupForPartyMember((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_HostileToPlayerGroup(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GEN_UpdateHostilePlayerGroupForFaction(_Var1, _Var2, _Var3);

PROC
PROC_GEN_UpdateHostileToPlayerGroupForPartyMember((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_HostileToPlayerGroup(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroup(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
IsInPartyWith(_Var1, _Var4, 1, _Var1, _Var1)
THEN
DB_HostileToPlayerGroup(_Var2, _Var1);

PROC
PROC_GEN_UpdateHostilePlayerGroup((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetFaction(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroup(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_GEN_UpdateHostilePlayerGroupForFaction(_Var4, _Var3, _Var2);

PROC
PROC_GEN_UpdateHostilePlayerGroupForFaction((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_HostileToPlayerGroup(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
IsInPartyWith(_Var1, _Var4, 1, _Var1, _Var1)
THEN
DB_HostileToPlayerGroup(_Var2, _Var4);

IF
DB_HostileToPlayerGroup(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetFaction(_Var2, _Var3, _Var1, _Var1, _Var1)
AND NOT
QRY_FactionHostilityBlacklisted(_Var1, 1, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationMutual(_Var1, _Var3, 0);

IF
CharacterLeftParty((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PlayerSummons(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroup(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_HostileToPlayerGroup(_Var2, _Var1);

IF
CharacterLeftParty((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_PartyFollowers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroup(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_HostileToPlayerGroup(_Var2, _Var1);

IF
FlagSet((FLAG)_Var1, _, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_HostileToPlayerGroupCancelFlag(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroupAfterDialog(_Var5, _Var6, _Var1, _Var1, _Var1)
AND
_Var6 != _Var3
AND
DB_DialogPlayers(_Var6, _Var7, _, _Var1, _Var1)
AND
GetFaction(_Var5, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_HostileToPlayerGroupAfterDialog(_Var5, _Var6);
DB_TemporaryHostilityAfterDialog(_Var5, _Var6);

IF
FlagSet((GUIDSTRING)_Var1, _, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_HostileToPlayerGroupCancelFlag(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroupAfterDialog(_Var5, _Var3, _Var1, _Var1, _Var1)
AND
GetFaction(_Var5, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_HostileToPlayerGroupAfterDialog(_Var5, _Var3);

IF
DB_HostileToPlayerGroup(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroupCancelFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(_Var3, NULL_00000000-0000-0000-0000-000000000000, 1, _Var1, _Var1)
THEN
NOT DB_HostileToPlayerGroup(_Var1, _Var2);

IF
FlagSet((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_HostileToPlayerGroupCancelFlag(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_HostileToPlayerGroup(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
PROC_HostileToPlayerGroupCancelFlag_TryCancel(_Var5, _Var4);

PROC
PROC_HostileToPlayerGroupCancelFlag_TryCancel((GUIDSTRING)_Var1, (FACTION)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_HostileToPlayerGroup(_Var2, _Var1);
PROC_SetRelationToPlayers(_Var2, 50);

PROC
PROC_HostileToPlayerGroupCancelFlag_TryCancel((GUIDSTRING)_Var1, (FACTION)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
AND
GetFaction(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
ClearRelation(_Var2, _Var3);
ClearRelation(_Var3, _Var2);

PROC
PROC_HostileToPlayerGroupCancelFlag_TryCancel((CHARACTER)_Var1, (FACTION)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
IsSpeakerReserved(_Var1, 1, _Var1, _Var1, _Var1)
AND
SpeakerGetDialog(_Var1, 0, _, _Var4, _Var1)
AND NOT
QRY_HostileToPlayergroupAfterDialog_InHostileDialog(_Var1, _Var2, _Var4, _Var1, _Var1)
THEN
DB_SetNeutralToPlayerGroupAfterDialog(_Var4, _Var1, _Var2);

QRY
QRY_HostileToPlayergroupAfterDialog_InHostileDialog((CHARACTER)_Var1, (FACTION)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_HostileToPlayerGroupAfterDialog(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
GetFaction(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_SetNeutralToPlayerGroupAfterDialog(_Var2, _Var3, _Var4, _, _)
THEN
NOT DB_SetNeutralToPlayerGroupAfterDialog(_Var2, _Var3, _Var4);
PROC_HostileToPlayerGroupCancelFlag_TryCancel(_Var3, _Var4);

IF
FlagSet(TemporaryHostilityAfterDialog_ca0cbe39-d121-069e-b408-c02954b32cf7, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TemporaryHostilityAfterDialog(_Var1, _Var2);

IF
FlagSet(TemporaryHostilityAfterDialog_ca0cbe39-d121-069e-b408-c02954b32cf7, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
ClearFlag(TemporaryHostilityAfterDialog_ca0cbe39-d121-069e-b408-c02954b32cf7, _Var1, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_TemporaryHostilityAfterDialog(_Var3, _Var2, _, _, _)
AND NOT
QRY_ObjectFactionHostilityBlacklisted(_Var3, 1, _, _, _)
AND NOT
DB_Players(_Var3, _, _, _, _)
AND
DB_DialogPlayers(_Var2, _Var4, _, _, _)
THEN
PROC_MakeNPCHostile(_Var3, _Var4);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_TemporaryHostilityAfterDialog(_Var3, _Var2, _, _, _)
THEN
NOT DB_TemporaryHostilityAfterDialog(_Var3, _Var2);

QRY
QRY_ObjectFactionHostilityBlacklisted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetFaction(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
QRY_FactionHostilityBlacklisted(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_FactionHostilityBlacklisted((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FactionHostilityBlacklist(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_FactionHostilityBlacklisted((FACTION)_Var1, 1, (FACTION)_Var1, (FACTION)_Var1, (FACTION)_Var1)
AND
DB_FactionHostilityBlacklist(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
Concatenate("Trying to make faction hostile to players, but it should never be hostile to players: ", _Var2, _Var3, _Var1, _Var1)
THEN
DebugBreak(_Var3);

PROC
PROC_CharacterFullRestore((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
Resurrect(_Var1);
RemoveHarmfulStatuses(_Var1);
SetHitpointsPercentage(_Var1, 100);
ResetCooldowns(_Var1);

PROC
SetHitpointsPercentage((GUIDSTRING)_Var1, (REAL)_Var2, (STRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
SetHitpointsPercentage((GUIDSTRING)_Var1, (REAL)_Var2, (STRING)_Var3, 0, (GUIDSTRING)_Var1)
THEN
SetHitpointsPercentage(_Var1, _Var2, _Var3);

PROC
SetHitpointsPercentage((GUIDSTRING)_Var1, (REAL)_Var2, (STRING)_Var3, 1, (GUIDSTRING)_Var1)
AND
GetHitpointsPercentage(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
RealToInteger(_Var2, _Var5, _Var1, _Var1, _Var1)
AND
RealToInteger(_Var4, _Var6, _Var1, _Var1, _Var1)
AND
_Var5 != _Var6
THEN
SetHitpointsPercentage(_Var1, _Var2, _Var3);

PROC
PROC_SetHitpointsPercentageMinimum((GUIDSTRING)_Var1, (REAL)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetHitpointsPercentage(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var3 < _Var2
THEN
SetHitpointsPercentage(_Var1, _Var2);

PROC
PROC_ShakeCameraForTime((CHARACTER)_Var1, (INTEGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_ShakeCameraForTime(_Var1, _Var2, EFFECTRESOURCEGUID_VFX_Script_Stub_Loop_01_a7f1b570-0326-2a9c-8109-e1b81c8bd1fd, 0);

PROC
PROC_ShakeCameraForTime((GUIDSTRING)_Var1, (INTEGER)_Var2, (EFFECTRESOURCE)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_ShakeCameraForTime(_Var1, _Var2, _Var3, 0);

PROC
PROC_ShakeCameraForTime((GUIDSTRING)_Var1, (INTEGER)_Var2, (EFFECTRESOURCE)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
AND
GetUUID(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
Concatenate("CameraShake_", _Var5, _Var6, _Var1, _Var1)
THEN
PROC_LoopEffect(_Var3, _Var1, _Var6, "__ANY__", "");
PROC_ShakeCameraForTime_StartTimer(_Var1, _Var2, _Var4);

PROC
PROC_ShakeCameraForTime_StartTimer((GUIDSTRING)_Var1, (INTEGER)_Var2, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
ObjectTimerLaunch(_Var1, "Timer_LoopCameraShakeHelper", _Var2);

PROC
PROC_ShakeCameraForTime_StartTimer((GUIDSTRING)_Var1, (INTEGER)_Var2, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "Timer_LoopCameraShakeHelper", _Var2);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "Timer_LoopCameraShakeHelper", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetUUID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
Concatenate("CameraShake_", _Var2, _Var3, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, _Var3);

PROC
PROC_CameraShakeAroundObject((GUIDSTRING)_Var1, (INTEGER)_Var2, (REAL)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_CameraShakeAroundObject(_Var1, _Var2, _Var3, VFX_Script_Generic_Camera_Shake_01_492bfa46-eafa-fe77-d9db-c5ede8175a6f);

PROC
PROC_CameraShakeAroundObject((GUIDSTRING)_Var1, (INTEGER)_Var2, (REAL)_Var3, (EFFECTRESOURCE)_Var4, (GUIDSTRING)_Var1)
AND
DB_Players(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
GetDistanceTo(_Var5, _Var1, _Var6, _Var1, _Var1)
AND
_Var6 <= _Var3
THEN
PlayEffect(_Var5, _Var4);
ObjectTimerCancel(_Var5, "ShakeCameraOn_");
ObjectTimerLaunch(_Var5, "ShakeCameraOn_", 500);
DB_CameraShakeAroundObject(_Var1, _Var2, _Var3);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "ShakeCameraOn_", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CameraShakeAroundObject(_Var2, _Var3, _Var4, _Var1, _Var1)
AND
IntegerSubtract(_Var3, 500, _Var5, _Var1, _Var1)
AND
_Var5 >= 0
THEN
NOT DB_CameraShakeAroundObject(_Var2, _Var3, _Var4);
PROC_CameraShakeAroundObject(_Var2, _Var5, _Var4);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "ShakeCameraOn_", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CameraShakeAroundObject(_Var2, _Var3, _Var4, _Var1, _Var1)
AND
IntegerSubtract(_Var3, 200, _Var5, _Var1, _Var1)
AND
_Var5 < 0
THEN
NOT DB_CameraShakeAroundObject(_Var2, _Var3, _Var4);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_ORI_AvatarFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsCharacter(_Var2, 1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var1, _Var2, _Var3);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_ORI_AvatarFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsCharacter(_Var2, 1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetReservedUserID(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
GetReservedUserID(_Var5, _Var4, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var1, _Var5, _Var3);

IF
DB_ORI_ApprovalChangeFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_ORI_AvatarFlag(_Var1);

IF
FlagSet((FLAG)_Var1, (CHARACTER)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_ORI_ApprovalChangeFlag(_Var1, _Var4, _Var5, _Var1, _Var1)
AND
IsCharacter(_Var2, 1, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
ChangeApprovalRating(_Var4, _Var2, 0, _Var5, _)
THEN
DB_NOOP(1);

IF
EntityEvent((CHARACTER)_Var1, "GEN_PurgeQueue", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_ClearStoryMove(_Var1);

IF
EntityEvent((CHARACTER)_Var1, "GEN_FallAndGetUp", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PlayAnimation(_Var1, ANIMATION_STAT_KO_01_Start_789613f0-1c2a-4e63-9555-a964c6cabe98, "Play_Anim_knockdown_getup");

IF
EntityEvent((CHARACTER)_Var1, "Play_Anim_knockdown_getup", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PlayAnimation(_Var1, ANIMATION_STAT_KO_01_End_f53629c3-7632-4306-9102-a96624e5c084);

IF
EntityEvent((CHARACTER)_Var1, "GEN_FallAndLie", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PlayAnimation(_Var1, ANIMATION_STAT_KO_01_End_f53629c3-7632-4306-9102-a96624e5c084, "Play_Anim_knockdown_loop");

IF
EntityEvent((CHARACTER)_Var1, "Play_Anim_knockdown_loop", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_PlayLoopingAnimation(_Var1, NULL_00000000-0000-0000-0000-000000000000, ANIMATION_STAT_KO_01_Loop_22e5dd51-694a-42fd-a709-2b2dddfed049, NULL_00000000-0000-0000-0000-000000000000);

IF
EntityEvent((CHARACTER)_Var1, "Stop_Anim_knockdown_loop", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
StopAnimation(_Var1, 0);

QRY
QRY_IsAvailableTo((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_SpeakerIsAvailable(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
CanSee(_Var1, _Var2, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
TextEvent("LoopAnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_PlayLoopingAnimation(_Var1, NULL_00000000-0000-0000-0000-000000000000, _Var2, NULL_00000000-0000-0000-0000-000000000000);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(1, 0, _Var1, _Var1, _Var1)
THEN
PurgeOsirisQueue(_Var1);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(1, 0, _Var1, _Var1, _Var1)
AND
DB_AnimTestLoopingAnimation(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_AnimTestLoopingAnimation(_Var1, _Var2);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND NOT
GetTextEventParamInteger(2, _, _Var1, _Var1, _Var1)
THEN
PlayAnimation(_Var1, _Var2);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, 1, _Var1, _Var1, _Var1)
THEN
PlayAnimation(_Var1, _Var2);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, -1, _Var1, _Var1, _Var1)
THEN
PlayAnimation(_Var1, _Var2, "AnimTest_PlayLoopingAnim");
DB_AnimTestLoopingAnimation(_Var1, _Var2);

IF
EntityEvent((CHARACTER)_Var1, "AnimTest_PlayLoopingAnim", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_AnimTestLoopingAnimation(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PlayAnimation(_Var1, _Var2, "AnimTest_PlayLoopingAnim");

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, 0, _Var1, _Var1, _Var1)
THEN
PurgeOsirisQueue(_Var1);

IF
TextEvent("AnimTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, 0, _Var1, _Var1, _Var1)
AND
DB_AnimTestLoopingAnimation(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_AnimTestLoopingAnimation(_Var1, _Var2);

IF
TextEvent("movie", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
MoviePlay(_Var2, _Var1, 0);

IF
TextEvent("FxTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, 1, _Var1, _Var1, _Var1)
THEN
PlayEffect(_Var1, _Var2);

IF
TextEvent("FxTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, -1, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(_Var2, _Var1, "FxTest", "__ANY__", "Dummy_FX");

IF
TextEvent("FxTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamUUID(1, _Var2, _Var1, _Var1, _Var1)
AND
GetTextEventParamString(2, _Var3, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(3, -1, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(_Var2, _Var1, "FxTest", "__ANY__", _Var3);

IF
TextEvent("FxTest", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamString(1, "Stop", _Var1, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "FxTest");

IF
TextEvent("FxTestStop", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "FxTest");

IF
TextEvent("setplayerrelation", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
GetTextEventParamInteger(1, _Var1, _Var1, _Var1, _Var1)
AND
GetDebugCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetFaction(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationToPlayers(_Var3, _Var1);

QRY
QRY_HasAnyWeaponEquipped((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
HasMeleeWeaponEquipped(_Var1, "Any", _Var2, _Var1, _Var1)
AND
HasRangedWeaponEquipped(_Var1, "Any", _Var3, _Var1, _Var1)
AND
DB_LogicOr(_Var2, _Var3, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_DrawWeaponforXTime((CHARACTER)_Var1, (INTEGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetWeaponUnsheathed(_Var1, 1, 0);
ObjectTimerLaunch(_Var1, "GLO_DrawWeaponsForXTime", _Var2);

IF
ObjectTimerFinished((CHARACTER)_Var1, "GLO_DrawWeaponsForXTime", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
THEN
SetWeaponUnsheathed(_Var1, 0, 0);

PROC
PROC_SetConditionalObjectFlag((GUIDSTRING)_Var1, (FLAG)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var3 == 0
THEN
ClearFlag(_Var2, _Var1, 0);

PROC
PROC_SetConditionalObjectFlag((GUIDSTRING)_Var1, (FLAG)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var3 != 0
THEN
SetFlag(_Var2, _Var1, 0);

PROC
PROC_SetConditionalGlobalFlag((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
_Var2 == 0
THEN
ClearFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_SetConditionalGlobalFlag((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var2 != 0
THEN
SetFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_SetConditionalTag((CHARACTER)_Var1, (TAG)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var3 == 0
THEN
ClearTag(_Var1, _Var2);

PROC
PROC_SetConditionalTag((CHARACTER)_Var1, (TAG)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var3 != 0
THEN
SetTag(_Var1, _Var2);

QRY
QRY_SetConditionalObjectFlag((GUIDSTRING)_Var1, (FLAG)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var2 != NULL_00000000-0000-0000-0000-000000000000
THEN
PROC_SetConditionalObjectFlag(_Var1, _Var2, _Var3);

QRY
QRY_SetConditionalGlobalFlag((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
PROC_SetConditionalGlobalFlag(_Var1, _Var2);

QRY
QRY_IsEmptyDB((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
SysCount(_Var1, _Var2, 0, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_IsInRange((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (REAL)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetDistanceTo(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
_Var4 <= _Var3
THEN
DB_NOOP(1);

PROC
PROC_TeleportSmoke((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetPosition(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
DebugText(_Var1, "Calling PROC_TeleportSmoke but the FX is missing");
PlayEffectAtPosition(VFX_Script_Stub_Poof_01_f0cf792a-0f74-d17e-ad0d-6052a6131416, _Var2, _Var3, _Var4);

IF
DB_HideEquippedWeapon(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetEquippedItem(_Var1, "Weapon", _Var2, _Var1, _Var1)
THEN
Unequip(_Var1, _Var2);
DB_HiddenEquippedWeapon(_Var1, _Var2);

IF
DB_HideEquippedShield(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetEquippedItem(_Var1, "Shield", _Var2, _Var1, _Var1)
THEN
Unequip(_Var1, _Var2);
DB_HideEquippedShield(_Var1, _Var2);

PROC
PROC_EquipHiddenWeapon((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_HiddenEquippedWeapon(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
Equip(_Var1, _Var2);
NOT DB_HiddenEquippedWeapon(_Var1, _Var2);

PROC
PROC_EquipHiddenShield((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_HideEquippedShield(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
Equip(_Var1, _Var2);
NOT DB_HideEquippedShield(_Var1, _Var2);

PROC
PROC_GLO_UnequipAllWeapons((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_WeaponSlots(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetEquippedItem(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
Unequip(_Var1, _Var3);

PROC
PROC_GLO_DeleteAllWeapons((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GLO_WeaponSlots(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetEquippedItem(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
RequestDelete(_Var3);

IF
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, 0, 0, 0);

IF
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, 0, 0);

IF
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var5)
THEN
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var5, 0);

PROC
PROC_AddCharactersInTriggerToDialog_Clear((DIALOGRESOURCE)_Var1, (TRIGGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6);
NOT DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4, _Var5);
NOT DB_AddCharactersInTriggerToDialog(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_StartDialog_AddExtraSpeakers((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var1, _Var3, _Var4, _Var5, _Var6, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var8, _Var1, _Var1, _Var1, _Var1)
AND
IsInTrigger(_Var8, _Var3, 1, _Var1, _Var1)
AND NOT
QRY_ShouldNotAddCharacterInTriggerToDialog(_Var8, _Var1, _Var3, _Var1, _Var1)
AND NOT
QRY_AddCharactersInTriggerToDialog_CanAddAfterStart(_Var8, _Var4, _Var3, _Var1, _Var1)
THEN
PROC_TryAddSpeakingActorFromTriggerToDialog(_Var2, _Var8, _Var5, _Var6);

PROC
PROC_TryAddSpeakingActorFromTriggerToDialog((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, 0, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var3, 0, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, _Var2);

PROC
PROC_TryAddSpeakingActorFromTriggerToDialog((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, 1, (INTEGER)_Var1)
AND NOT
DB_Downed(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var3, 1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, _Var2);

PROC
PROC_TryAddSpeakingActorFromTriggerToDialog((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, 1, (INTEGER)_Var1)
AND
DB_Downed(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_DialogEnding(_, _Var1, _Var1, _Var1, _Var1)
AND
QRY_DownedSpeakerIsAvailable(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_DialogRequestCache_DialogInstance(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
QRY_PrepForInteractiveDialog_IfInteractive(_Var5, _Var1, _Var2, _Var1, _Var1)
THEN
DialogAddActorAtReservedSlot(_Var1, _Var2, 1, 0, 1);
PROC_DialogRequestCache_MakeSpeakerLists_Evaluate(_Var5, _Var1, _Var2);

QRY
QRY_DownedSpeakerIsAvailable((CHARACTER)_Var1, 1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DownedSpeakerIsAvailable((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DownedSpeakerIsAvailable((CHARACTER)_Var1, 0, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_ObjectIsDialogSoftLocked(_, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DownedSpeakerIsAvailable((CHARACTER)_Var1, 0, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DialogStarted_CheckPlayerForStopConditions_IgnoreDowned((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogRequestCache_DialogInstance(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var3, _, _, _, 1, _, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_DialogName(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_DialogEnding(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var1, _Var3, 1, _, _, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var7, _Var3, _Var1, _Var1, _Var1)
AND NOT
QRY_ShouldNotAddCharacterInTriggerToDialog(_Var7, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var2, _Var7);

QRY
QRY_AddCharactersInTriggerToDialog_CanAddAfterStart((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
_Var2 == 1
AND
DB_ActivePartyTriggers(_, _Var3, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, _, _Var6, _, _Var1, _Var1, _Var1, _Var1)
AND
QRY_ShouldIgnoreDownedStatus(_Var1, _Var6, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldIgnoreDownedStatus((CHARACTER)_Var1, 1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldIgnoreDownedStatus((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, _, _, 0, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, 0, 0, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, 1, 0, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((CHARACTER)_Var1, (DIALOGRESOURCE)_Var2, (TRIGGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, 0, 1, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_ShouldIgnoreDownedStatus(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((CHARACTER)_Var1, (DIALOGRESOURCE)_Var2, (TRIGGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, 1, 1, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_ShouldIgnoreDownedStatus(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_ShouldNotAddCharacterInTriggerToDialog((CHARACTER)_Var1, (DIALOGRESOURCE)_Var2, (TRIGGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_AddCharactersInTriggerToDialog(_Var2, _Var3, _, _, _, _, _Var1, _Var1, _Var1, _Var1)
AND
DB_AddCharactersInTriggerToDialog_IgnoreHidden(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_HiddenCharacters(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_OneTimeEventFlag((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_OneTimeEventFlag((GUIDSTRING)_Var1, (FLAG)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_OneTimeEventFlag((GUIDSTRING)_Var1, (FLAG)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
FlagSet((FLAG)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_OneTimeEventFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var1, _Var2);
PROC_OneTimeEventFlag(_Var1);
PROC_OneTimeEventFlag(_Var2, _Var1);
PROC_OneTimeEventFlag(_Var2, _Var1, _Var3);

IF
FlagSet((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
DB_FlagReactionAfterDialog(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
DB_FlagReactionAfterDialog_Prepare(_Var2, _Var1, _Var4, _Var3);

IF
FlagSet((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogName(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
DB_FlagReactionAfterDialog(_Var2, _Var1, _Var4, _Var1, _Var1)
THEN
DB_FlagReactionAfterDialog_Prepare(_Var2, _Var1, _Var4, _Var3);

IF
FlagCleared((FLAG)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_FlagReactionAfterDialog_Prepare(_Var2, _Var1, _Var4, _Var3, _Var1)
THEN
NOT DB_FlagReactionAfterDialog_Prepare(_Var2, _Var1, _Var4, _Var3);

IF
AutomatedDialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_FlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var5, _Var2, _)
THEN
NOT DB_FlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var5, _Var2);
PROC_FlagReactionAfterDialog(_Var3, _Var4, _Var5, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_FlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var5, _Var2, _)
THEN
NOT DB_FlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var5, _Var2);
PROC_FlagReactionAfterDialog(_Var3, _Var4, _Var5, _Var2);

PROC
PROC_FlagReactionAfterDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
THEN
PROC_FlagReactionAfterDialog(_Var1, _Var2, _Var3);

PROC
PROC_FlagReactionAfterDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_FlagReactionAfterDialog(_Var1, _Var2);

PROC
PROC_FlagReactionAfterDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
FlagSet((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GlobalFlagReactionAfterDialog(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_DialogName(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
DB_GlobalFlagReactionAfterDialog_Prepare(_Var1, _Var4, _Var5);

IF
AutomatedDialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_GlobalFlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var2, _, _)
THEN
NOT DB_GlobalFlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var2);
PROC_GlobalFlagReactionAfterDialog(_Var3, _Var4, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_GlobalFlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var2, _, _)
THEN
NOT DB_GlobalFlagReactionAfterDialog_Prepare(_Var3, _Var4, _Var2);
PROC_GlobalFlagReactionAfterDialog(_Var3, _Var4, _Var2);

PROC
PROC_GlobalFlagReactionAfterDialog((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GlobalFlagReactionAfterDialog(_Var1, _Var2);

PROC
PROC_GlobalFlagReactionAfterDialog((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GlobalFlagReactionAfterDialog(_Var1);

PROC
PROC_GlobalFlagReactionAfterDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_CreatePortalAndLeave((CHARACTER)_Var1, (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetPosition(_Var1, _Var3, _Var4, _Var5, _Var1)
AND
RealSum(_Var4, 1.25, _Var6, _Var1, _Var1)
AND
RealSum(_Var3, 2, _Var7, _Var1, _Var1)
AND
CreateAt(Helper_Invisible_A_835c266c-2619-41a6-9591-50fc937bf97d, _Var7, _Var6, _Var5, 0, 0, "", _Var8, _Var1, _Var1)
THEN
DB_GEN_CreatePortalAndLeave(_Var1, _Var8, _Var2);
LookAtEntity(_Var1, _Var8);
PlayAnimation(_Var1, ANIMATION_SPL_Arcane_01_Cast_70a28457-dba7-46f7-b03c-ceb3b9e12bad, "GEN_CreatePortalAndLeave_CreatePortal");
PROC_LoopEffect(EFFECTRESOURCEGUID_VFX_Script_Stub_Loop_01_a7f1b570-0326-2a9c-8109-e1b81c8bd1fd, _Var1, "GEN_CreatePortalAndLeave_Fx", "__ANY__", "Dummy_R_HandFX");
PROC_LoopEffect(EFFECTRESOURCEGUID_VFX_Script_Stub_Loop_01_a7f1b570-0326-2a9c-8109-e1b81c8bd1fd, _Var1, "GEN_CreatePortalAndLeave_Fx", "__ANY__", "");
ObjectTimerLaunch(_Var1, "GEN_CreatePortalAndLeave_CreatePortal_Timer", 1800);

IF
ObjectTimerFinished((CHARACTER)_Var1, "GEN_CreatePortalAndLeave_CreatePortal_Timer", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetRotation(_Var1, _, _Var3, _, _Var1)
AND
DB_GEN_CreatePortalAndLeave(_Var1, _Var5, _Var6, _Var1, _Var1)
THEN
ItemRotateYToAngle(_Var5, _Var3, 1000);
PROC_LoopEffect(EFFECTRESOURCEGUID_VFX_Script_Stub_Loop_01_a7f1b570-0326-2a9c-8109-e1b81c8bd1fd, _Var5, "GEN_CreatePortalAndLeave", "__ANY__", "");

IF
EntityEvent((CHARACTER)_Var1, "GEN_CreatePortalAndLeave_CreatePortal", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GEN_CreatePortalAndLeave(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "GEN_CreatePortalAndLeave_Fx");
ObjectTimerLaunch(_Var1, "GEN_CreatePortalAndLeave_MoveToDelay", 800);

IF
ObjectTimerFinished((CHARACTER)_Var1, "GEN_CreatePortalAndLeave_MoveToDelay", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GEN_CreatePortalAndLeave(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
CharacterMoveTo(_Var1, _Var2, "Walk", "GEN_CreatePortalAndLeave_Offstage");

IF
EntityEvent((CHARACTER)_Var1, "GEN_CreatePortalAndLeave_Offstage", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GEN_CreatePortalAndLeave(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
ObjectTimerLaunch(_Var2, "GEN_CreatePortalAndLeave_Offstage_PortalRemove", 3500);
PROC_StopLoopEffect(_Var2, "GEN_CreatePortalAndLeave");
SetEntityEvent(_Var1, _Var3);
NOT DB_GEN_CreatePortalAndLeave(_Var1, _Var2, _Var3);

IF
ObjectTimerFinished((ITEM)_Var1, "GEN_CreatePortalAndLeave_Offstage_PortalRemove", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
RequestDelete(_Var1);

IF
TextEvent("GEN_CreatePortalAndLeave_Offstage", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CreatePortalAndLeave(_Var1, "");

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var2, _Var4, 1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var3, _Var1, _Var2, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag(1);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var2, _Var4, 0, _Var1, _Var1)
AND
DB_Players(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var7, _Var4, 1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var7, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var3, _Var1, _Var7, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag(1);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var2, _Var5, 1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var3, _Var1, _Var2, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag(1);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var2, _Var5, 0, _Var1, _Var1)
AND
DB_Players(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var7, _Var5, 1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var7, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var3, _Var1, _Var7, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag(1);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(_Var3, _Var1, _Var2, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag(1);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRY_StartDialogWithVisibleTag_AddPlayers(_Var1, _Var2, _Var3);

QRY
QRY_StartDialog_WithVisibleTag((CHARACTER)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var3, (TAG)_Var4, (TAG)_Var5, (INTEGER)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_QRY_StartDialogWithVisibleTag(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRY_StartDialogWithVisibleTag(1);

PROC
PROC_StartDialog_AddExtraSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_QRY_StartDialogWithVisibleTag_AddPlayers(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
DB_Players(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
CanSee(_Var3, _Var5, 1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var2, _Var5);

PROC
PROC_StartDialog_AddExtraSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_QRY_StartDialogWithVisibleTag_AddPlayers(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_QRY_StartDialogWithVisibleTag_AddPlayers(_Var3, _Var4, _Var1);

PROC
PROC_Helper_SafeTeleportTo((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_Helper_SafeTeleportTo(_Var1, _Var2, "", 1);

PROC
PROC_Helper_SafeTeleportTo((GUIDSTRING)_Var1, (TRIGGER)_Var2, (STRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
THEN
TeleportTo(_Var1, _Var2, _Var3, _Var4);
FlushOsirisQueue(_Var1);
LeaveCombat(_Var1);
SetEntityEvent(_Var1, "ClearPeaceReturn", 1);
StopAnimation(_Var1, 0);

PROC
PROC_TeleportToSafePosition((CHARACTER)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (CHARACTER)_Var1)
THEN
PROC_TeleportToSafePosition(_Var1, _Var2, _Var3, _Var4, "", 1, 0, 1, 0, 1);

PROC
PROC_TeleportToSafePosition((GUIDSTRING)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (STRING)_Var5, (INTEGER)_Var6, (INTEGER)_Var7, (INTEGER)_Var8, (INTEGER)_Var9, (INTEGER)_Var10)
AND
FindValidPosition(_Var2, _Var3, _Var4, 10, _Var1, 1, _Var11, _Var12, _Var13, _Var1)
THEN
DB_TeleportToSafePosition("Succes!");
TeleportToPosition(_Var1, _Var11, _Var12, _Var13, _Var5, _Var6, _Var7, _Var8, _Var9, _Var10);

PROC
PROC_TeleportToSafePosition((CHARACTER)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (STRING)_Var5, (INTEGER)_Var6, (INTEGER)_Var7, (INTEGER)_Var8, (INTEGER)_Var9, (INTEGER)_Var10)
AND NOT
DB_TeleportToSafePosition("Succes!", _Var1, _Var1, _Var1, _Var1)
THEN
TeleportToPosition(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var8, _Var9, _Var10);

PROC
PROC_TeleportToSafePosition((GUIDSTRING)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (STRING)_Var5, (INTEGER)_Var6, (INTEGER)_Var7, (INTEGER)_Var8, (INTEGER)_Var9, (INTEGER)_Var10)
THEN
NOT DB_TeleportToSafePosition("Succes!");

IF
EntityEvent((CHARACTER)_Var1, "GEN_Teleport_In", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetOnStage(_Var1, 1);
PlayAnimation(_Var1, ANIMATION_SCPT_Teleport_In_01_00000000-0000-0000-0000-000000000000);

IF
EntityEvent((CHARACTER)_Var1, "GEN_Teleport_Out", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PlayAnimation(_Var1, ANIMATION_SCPT_Teleport_Out_01_00000000-0000-0000-0000-000000000000, "GEN_GoOffStage");

QRY
QRY_IntegerSign((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_IntegerSign(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_IntegerSign(_Var2);

QRY
QRY_IntegerSign((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 < 0
THEN
DB_IntegerSign(-1);

QRY
QRY_IntegerSign((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 == 0
THEN
DB_IntegerSign(0);

QRY
QRY_IntegerSign((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 > 0
THEN
DB_IntegerSign(0);

QRY
QRY_IntegerAbs(_, _, _, _, _)
AND
DB_QRYRTN_IntegerAbs(_Var2, _, _, _, _)
THEN
NOT DB_QRYRTN_IntegerAbs(_Var2);

QRY
QRY_IntegerAbs((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 >= 0
THEN
DB_QRYRTN_IntegerAbs(_Var1);

QRY
QRY_IntegerAbs((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 < 0
AND
IntegerProduct(_Var1, -1, _Var2, _Var1, _Var1)
THEN
DB_QRYRTN_IntegerAbs(_Var2);

QRY
QRY_NormaliseAngle((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_NormaliseAngle_Result(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_NormaliseAngle_Result(_Var2);

QRY
QRY_NormaliseAngle((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 < 0
AND
IntegerSum(_Var1, 360, _Var2, _Var1, _Var1)
THEN
DB_NormaliseAngle_Result(_Var2);

QRY
QRY_NormaliseAngle((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 >= 0
AND
IntegerModulo(_Var1, 360, _Var2, _Var1, _Var1)
THEN
DB_NormaliseAngle_Result(_Var2);

IF
CharacterJoinedParty((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_IsOrWasInParty(_Var1);

PROC
PROC_PurgeLevelPartyFlag((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_IsOrWasInParty(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
Exists(_Var2, 1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var1, _Var2, 0);

IF
FlagSet(GEN_RemoveFromDialog_f8be170a-8fec-b106-c6ab-204f0b917828, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DialogRemoveActorFromDialog(_Var2, _Var1, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_SetTagForCombat((CHARACTER)_Var1, (TAG)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetTag(_Var1, _Var2);
DB_ClearTagAfterCombat(_Var1, _Var2);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ClearTagAfterCombat(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
IsTagged(_Var2, _Var3, 1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var2, _, _Var1, _Var1, _Var1)
THEN
NOT DB_ClearTagAfterCombat(_Var2, _Var3);
ClearTag(_Var2, _Var3);

IF
TagCleared((CHARACTER)_Var1, (TAG)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_ClearTagAfterCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_ClearTagAfterCombat(_Var1, _Var2);

IF
DB_PartyProgress_Trigger(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyProgress_Trigger(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_PartyProgress_Trigger(_Var2, _Var3);
SetFlag(_Var3, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
LeveledUp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetLevel(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_PartyProgress_Level(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
_Var2 >= _Var3
AND NOT
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var4, NULL_00000000-0000-0000-0000-000000000000);

IF
Moved((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_HiddenRevealOnInteraction(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetEntityEvent(_Var2, "RevealFromStory");
NOT DB_HiddenRevealOnInteraction(_Var2, _Var1);

IF
AddedTo((ITEM)_Var1, (GUIDSTRING)_Var2, _, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_HiddenRevealOnInteraction(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
SetEntityEvent(_Var4, "RevealFromStory");
NOT DB_HiddenRevealOnInteraction(_Var4, _Var1);

IF
DestroyingBy((ITEM)_Var1, _, _, _, (ITEM)_Var1)
AND
DB_HiddenRevealOnInteraction(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
SetEntityEvent(_Var5, "RevealFromStory");
NOT DB_HiddenRevealOnInteraction(_Var5, _Var1);

IF
EntityEvent((GUIDSTRING)_Var1, "StoryReveal", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_HiddenRevealOnInteraction(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_HiddenRevealOnInteraction(_Var1, _Var2);

PROC
PROC_PlayPerceptionRevealEffect((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_PlayPerceptionRevealEffect(_Var1, _Var2, 3000);

PROC
PROC_PlayPerceptionRevealEffect((GUIDSTRING)_Var1, (STRING)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CurrentLevel(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_PlayPerceptionRevealEffect(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_PlayPerceptionRevealEffect((GUIDSTRING)_Var1, (STRING)_Var2, (INTEGER)_Var3, (STRING)_Var4, (GUIDSTRING)_Var1)
THEN
PROC_PlayPerceptionRevealEffect(_Var1, _Var2, _Var3, _Var4, "");

PROC
PROC_PlayPerceptionRevealEffect((GUIDSTRING)_Var1, (STRING)_Var2, (INTEGER)_Var3, (STRING)_Var4, (STRING)_Var5)
THEN
PROC_PlayPerceptionRevealEffect(_Var1, _Var2, _Var3, _Var4, "", 1);

PROC
PROC_PlayPerceptionRevealEffect((GUIDSTRING)_Var1, (STRING)_Var2, (INTEGER)_Var3, (STRING)_Var4, (STRING)_Var5, (REAL)_Var6, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_PlayingPerceptionRevealEffect(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(VFX_Script_Perception_Default_01_46bd169e-bbb5-a6fe-0fe7-97c64f620d5d, _Var1, _Var2, _Var4, _Var5, _Var6);
DB_PlayingPerceptionRevealEffect(_Var1, _Var2);
RealtimeObjectTimerLaunch(_Var1, _Var2, _Var3);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PlayingPerceptionRevealEffect(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_PlayingPerceptionRevealEffect(_Var1, _Var2);
PROC_StopLoopEffect(_Var1, _Var2);

IF
TextEvent("PlaySound", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamString(1, _Var2, _Var1, _Var1, _Var1)
THEN
PlaySound(_Var1, _Var2);

IF
FlagSet((FLAG)_Var1, (GUIDSTRING)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_DialogStatusSetter(_Var1, _, _Var5, _Var1, _Var1)
THEN
ApplyStatus(_Var2, _Var5, 1, 1, NULL_00000000-0000-0000-0000-000000000000);
ClearFlag(_Var1, _Var2);

IF
FlagSet((FLAG)_Var1, (GUIDSTRING)_Var2, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_DialogStatusSetter(_, _Var1, _Var5, _Var1, _Var1)
THEN
RemoveStatus(_Var2, _Var5);
ClearFlag(_Var1, _Var2);

QRY
QRY_DoNTimes((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_DoNTimes_Cleanup()
AND NOT
QRY_DoNTimes_IsNegative(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DoNTimes_SetUp(_Var1);

QRY
QRY_DoNTimes_Cleanup()
AND
DB_QRY_RTN_DoNTimes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRY_RTN_DoNTimes(_Var1);

QRY
QRY_DoNTimes_Cleanup()
AND
DB_QRY_RTN_DoNTimes_UpTo(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRY_RTN_DoNTimes_UpTo(_Var1);

QRY
QRY_DoNTimes_Cleanup()
THEN
DB_NOOP(1);

PROC
PROC_DoNTimes_SetUp((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 > 0
THEN
DB_QRY_RTN_DoNTimes_UpTo(_Var1);
DB_QRY_RTN_DoNTimes(1);

IF
DB_QRY_RTN_DoNTimes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRY_RTN_DoNTimes_UpTo(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 < _Var2
AND
IntegerSum(_Var1, 1, _Var3, _Var1, _Var1)
THEN
DB_QRY_RTN_DoNTimes(_Var3);

QRY
QRY_DoNTimes_IsNegative((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
_Var1 < 0
THEN
DebugBreak("Trying to call Do N Times query with negative number of times. Number needs to be at least 0.");

QRY
QRY_LoopCounter_Reset((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_Singleton(_Var1, _Var2);

QRY
QRY_LoopCounter_GetCount((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_Singleton(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var2, 1, _Var3, _Var1, _Var1)
THEN
DB_Singleton(_Var1, _Var3);

IF
OnThrown((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var3, _, _, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsItem(_Var1, 1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ItemThrownByPlayer(_Var3, _Var1);

PROC
PROC_ItemThrownByPlayer((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
FlagSet((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_CompoundFlag(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var4, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
FlagCleared((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_CompoundFlag(_Var1, _Var4, _Var1, _Var1, _Var1)
AND NOT
QRY_GLO_CompoundFlagValid(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var4, NULL_00000000-0000-0000-0000-000000000000, 0);

QRY
QRY_GLO_CompoundFlagValid((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_CompoundFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
FlagSet((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_ExclusiveFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GLO_ExclusiveFlag_ClearOtherFlags(_Var4, _Var1);

PROC
PROC_GLO_ExclusiveFlag_ClearOtherFlags((STRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_GLO_ExclusiveFlag(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
_Var3 != _Var2
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var3);

QRY
QRY_StartDialog_WithVariableSpeakers((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 1, _Var2, _Var1, _Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 2, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 2, _Var3, _Var1, _Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 3, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 3, _Var4, _Var1, _Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 4, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 4, _Var5, _Var1, _Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 5, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 5, _Var6, _Var1, _Var1)
AND
QRY_GetSpeakerForDialogWithVariableSpeakers(_Var1, 6, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, 6, _Var7, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_StartDialog_WithVariableSpeakers((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_DialogWithVariableSpeakers(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_DialogWithVariableSpeakers(_Var1, _Var2, _Var3);

QRY
QRY_StartDialog_WithVariableSpeakers((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, _Var2, _Var3);

QRY
QRY_GetSpeakerForDialogWithVariableSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_DialogWithVariableSpeakers(_Var1, _Var3, _Var2, _Var1, _Var1)
THEN
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, _Var2, _Var3);

QRY
QRY_GetSpeakerForDialogWithVariableSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND NOT
DB_DialogWithVariableSpeakers(_Var1, _, _Var2, _Var1, _Var1)
THEN
DB_QRYRTN_GetSpeakerForDialogWithVariableSpeakers(_Var1, _Var2, NULL_00000000-0000-0000-0000-000000000000);

IF
FlagSet(GLO_AddNearbyPlayersToDialog_775fb200-cfe9-0928-e7a2-73b73b2a3ab7, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Dialog_AddNearbyPlayers(_Var2, _Var1);
ClearFlag(GLO_AddNearbyPlayersToDialog_775fb200-cfe9-0928-e7a2-73b73b2a3ab7, _Var1, _Var2);

IF
FlagSet(GLO_Event_AddNearbyVisiblePlayersToDialog_163ab46a-4625-46fe-8ee6-37fb46d60e52, (GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_Dialog_AddNearbyVisiblePlayers(_Var2, _Var1, 0);
ClearFlag(GLO_Event_AddNearbyVisiblePlayersToDialog_163ab46a-4625-46fe-8ee6-37fb46d60e52, _Var1, _Var2);

PROC
PROC_StartDialog_AddExtraSpeakers((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Dialog_AddAllNearbyPlayersAtStart(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogRequestCache_SpeakerList_Players(_Var1, _Var2, _Var3, 1, _Var1)
THEN
PROC_Dialog_AddNearbyPlayers(_Var2, _Var3);

IF
DB_Dialog_AddAllNearbyVisiblePlayersAtStart(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Dialog_AddAllNearbyVisiblePlayersAtStart(NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_StartDialog_AddExtraSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_Dialog_AddAllNearbyVisiblePlayersAtStart(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_DialogRequestCache_SpeakerList_Players(_Var1, _Var2, _Var4, 1, _Var1)
THEN
PROC_Dialog_AddNearbyVisiblePlayers(_Var2, _Var4, _Var3);

PROC
PROC_Dialog_AddNearbyPlayers((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var1, _Var3);

PROC
PROC_Dialog_AddNearbyVisiblePlayers((INTEGER)_Var1, (GUIDSTRING)_Var2, 0, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_Var1, _Var3, _Var1, _Var1, _Var1)
AND NOT
QRY_CharacterIsHidden(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var1, _Var3);

PROC
PROC_Dialog_AddNearbyVisiblePlayers((INTEGER)_Var1, (GUIDSTRING)_Var2, 1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_Var1, _Var3, _Var1, _Var1, _Var1)
AND NOT
QRY_CharacterIsHidden(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, _Var3);

QRY
QRY_CreateIndexedPlayerDB((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
SysClear("DB_QRYRTN_CreateIndexedPlayerDB", 2);
PROC_DeclareCounter("QRY_CreateIndexedPlayerDB_Counter");
PROC_IncreaseCounter("QRY_CreateIndexedPlayerDB_Counter");

QRY
QRY_CreateIndexedPlayerDB((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_DoNTimes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRY_RTN_DoNTimes(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CreateIndexedPlayerDB(_Var2, NULL_00000000-0000-0000-0000-000000000000);

QRY
QRY_CreateIndexedPlayerDB((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalCounter("QRY_CreateIndexedPlayerDB_Counter", _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_CreateIndexedPlayerDB(_Var3, NULL_00000000-0000-0000-0000-000000000000);
DB_QRYRTN_CreateIndexedPlayerDB(_Var3, _Var2);
PROC_IncreaseCounter("QRY_CreateIndexedPlayerDB_Counter");

IF
DB_GlobalFlagInverter(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
DB_GlobalFlagInverter(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000, 0);

QRY
QRY_ObjectFilterOut((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_QRYRTN_ObjectFilterOut(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_ObjectFilterOut(_Var3);

QRY
QRY_ObjectFilterOut((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 == _Var2
THEN
DB_QRYRTN_ObjectFilterOut(NULL_00000000-0000-0000-0000-000000000000);

QRY
QRY_ObjectFilterOut((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 != _Var2
THEN
DB_QRYRTN_ObjectFilterOut(_Var1);

IF
FlagSet(GLO_Inspiration_Event_Add1_9f7abafd-ef49-47c7-a7e8-a2fb068dedf2, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
GiveInspirationPoints(_Var1, 1, "", "");
ClearFlag(GLO_Inspiration_Event_Add1_9f7abafd-ef49-47c7-a7e8-a2fb068dedf2, _Var1);

PROC
PROC_MakeSurprised((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_MakeSurprised(_Var1, 1, 0);

PROC
PROC_MakeSurprised((CHARACTER)_Var1, (INTEGER)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var2 != -1
AND NOT
QRY_HasLongerSurpriseThan(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerProduct(_Var2, 6, _Var4, _Var1, _Var1)
AND
IntegerToReal(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
ApplyStatus(_Var1, "SURPRISED", _Var5, _Var3);

QRY
QRY_HasLongerSurpriseThan((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetStatusTurns(_Var1, "SURPRISED", _Var3, _Var1, _Var1)
AND
_Var3 > _Var2
THEN
DB_NOOP(1);

QRY
QRY_HasLongerSurpriseThan((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetStatusTurns(_Var1, "SURPRISED", _Var3, _Var1, _Var1)
AND
_Var3 == -1
THEN
DB_NOOP(1);

PROC
PROC_MakeSurprised((GUIDSTRING)_Var1, -1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
ApplyStatus(_Var1, "SURPRISED", -1, _Var2);

QRY
QRY_Camp_CheckPlayersReadyForNightModeStoryReasons()
AND
QRY_REALLY_BlockFastTravel(NULL_00000000-0000-0000-0000-000000000000, _, _, _, _)
THEN
DB_Camp_PlayerNotReadyForNightMode_CustomStoryReason("REALLY_BlockFastTravel");

QRY
QRY_Camp_IsPlayerBlockedFromTeleportToCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_Camp_IsPlayerBlockedFromTeleportToCamp(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_Camp_IsPlayerBlockedFromTeleportToCamp((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_REALLY_BlockFastTravel(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_GLO_BlockTeleportToWaypoint((CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_REALLY_BlockFastTravel(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_REALLY_BlockFastTravel((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
1 == 0
THEN
DB_NOOP(1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_InRegionFlag(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var3, _Var1, 0);

IF
LeftTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_InRegionFlag(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var3, _Var1, 0);

IF
DB_CharacterInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_CharacterInRegionFlag_Set(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_CharacterInRegionFlag_Set(_Var1, _Var2, _Var3);
TriggerRegisterForCharacter(_Var2, _Var1);

IF
DB_CharacterInRegionFlag_Set(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_CharacterInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CharacterInRegionFlag_Set(_Var1, _Var2, _Var3);
TriggerUnregisterForCharacter(_Var2, _Var1);
ClearFlag(_Var3, _Var1, 0);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CharacterInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
SetFlag(_Var3, _Var1, 0);

IF
LeftTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CharacterInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
ClearFlag(_Var3, _Var1, 0);

IF
DB_ItemInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_ItemInRegionFlag_Set(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_ItemInRegionFlag_Register(_Var1, _Var2, _Var3);
DB_ItemInRegionFlag_Set(_Var1, _Var2, _Var3);

PROC
PROC_ItemInRegionFlag_Register((ITEM)_Var1, (TRIGGER)_Var2, (FLAG)_Var3, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
DB_ItemInRegionFlag_Set(_, _Var2, _, _Var1, _Var1)
THEN
TriggerRegisterForItems(_Var2);

IF
DB_ItemInRegionFlag_Set(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_ItemInRegionFlag(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_ItemInRegionFlag_Set(_Var1, _Var2, _Var3);
PROC_GlobalClearFlagAndCache(_Var3);
PROC_ItemInRegionFlag_Unregister(_Var1, _Var2, _Var3);

PROC
PROC_ItemInRegionFlag_Unregister((ITEM)_Var1, (TRIGGER)_Var2, (FLAG)_Var3, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
DB_ItemInRegionFlag_Set(_, _Var2, _, _Var1, _Var1)
THEN
TriggerUnregisterForItems(_Var2);

IF
DB_ItemInRegionFlag_Set(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
IsInTrigger(_Var1, _Var2, 1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var3);

IF
ItemEnteredTrigger((ITEM)_Var1, (TRIGGER)_Var2, _, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_ItemInRegionFlag(_Var1, _Var2, _Var4, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var4);

IF
ItemLeftTrigger((ITEM)_Var1, (TRIGGER)_Var2, _, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_ItemInRegionFlag(_Var1, _Var2, _Var4, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var4);

QRY
QRY_CheckInputInteger((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var3, (STRING)_Var4, (INTEGER)_Var1)
AND
_Var2 >= _Var1
AND
_Var2 <= _Var3
THEN
DB_NOOP(1);

QRY
QRY_CheckInputInteger((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var3, (STRING)_Var4, (INTEGER)_Var1)
AND
_Var2 < _Var1
AND
ConcatenateInteger("QRY_CheckInputInteger: Value (", _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, ") does not fall in range [", _Var6, _Var1, _Var1)
AND
ConcatenateInteger(_Var6, _Var1, _Var7, _Var1, _Var1)
AND
Concatenate(_Var7, ",", _Var8, _Var1, _Var1)
AND
ConcatenateInteger(_Var8, _Var3, _Var9, _Var1, _Var1)
AND
Concatenate(_Var9, "] for check: ", _Var10, _Var1, _Var1)
AND
Concatenate(_Var10, _Var4, _Var11, _Var1, _Var1)
AND
QRY_ShowError(_Var11, _Var1, _Var1, _Var1, _Var1)
AND
0 == 1
THEN
DB_NOOP(1);

QRY
QRY_CheckInputInteger((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var3, (STRING)_Var4, (INTEGER)_Var1)
AND
_Var2 > _Var3
AND
ConcatenateInteger("QRY_CheckInputInteger: Value (", _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, ") does not fall in range [", _Var6, _Var1, _Var1)
AND
ConcatenateInteger(_Var6, _Var1, _Var7, _Var1, _Var1)
AND
Concatenate(_Var7, ",", _Var8, _Var1, _Var1)
AND
ConcatenateInteger(_Var8, _Var3, _Var9, _Var1, _Var1)
AND
Concatenate(_Var9, "] for check: ", _Var10, _Var1, _Var1)
AND
Concatenate(_Var10, _Var4, _Var11, _Var1, _Var1)
AND
QRY_ShowError(_Var11, _Var1, _Var1, _Var1, _Var1)
AND
0 == 1
THEN
DB_NOOP(1);

QRY
QRY_ShowError((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DebugBreak(_Var1);

QRY
QRY_AnyPartyMembersOnPlatform((PLATFORM)_Var1, (PLATFORM)_Var1, (PLATFORM)_Var1, (PLATFORM)_Var1, (PLATFORM)_Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetPlatformUnderObject(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_GetGuidsEqual((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_QRYRTN_GetGuidsEqual(0);
DB_QRYRTN_GetGuidsEqual(1);

QRY
QRY_GetGuidsEqual((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 != _Var2
THEN
NOT DB_QRYRTN_GetGuidsEqual(0);
DB_QRYRTN_GetGuidsEqual(1);

PROC
PROC_NotifyWhenReadyToMoveOn((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NotifyWhenReadyToMoveOn(_Var1, _Var2);

IF
DB_NotifyWhenReadyToMoveOn(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_Is_HandlingDisturbance(_Var1, 0, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_EnterCombatRequested(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_PolymorphedByPlayer(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_NotifyWhenReadyToMoveOn(_Var1, _Var2);
PROC_ReadyToMoveOn(_Var1, _Var2);

IF
DB_NotifyWhenReadyToMoveOn(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_NotifyWhenReadyToMoveOn(_Var1, _Var2);
PROC_ReadyToMoveOn_Failed(_Var1, _Var2);

IF
DB_NotifyWhenReadyToMoveOn(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_NotifyWhenReadyToMoveOn(_Var1, _Var2);
PROC_ReadyToMoveOn_Failed(_Var1, _Var2);

PROC
PROC_ReadyToMoveOn((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_ReadyToMoveOn_Failed((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_ApplyLimitedDamagePercent((CHARACTER)_Var1, (REAL)_Var2, (STRING)_Var3, (CHARACTER)_Var4, (CHARACTER)_Var1)
AND
GetHitpoints(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
_Var5 > 1
AND
IntegerSubtract(_Var5, 1, _Var6, _Var1, _Var1)
AND
GetMaxHitpoints(_Var1, _Var7, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var7, _Var8, _Var1, _Var1, _Var1)
AND
RealProduct(_Var8, _Var2, _Var9, _Var1, _Var1)
AND
RealDivide(_Var9, 100, _Var10, _Var1, _Var1)
AND
RealToInteger(_Var10, _Var11, _Var1, _Var1, _Var1)
AND
IntegerMax(_Var11, 1, _Var12, _Var1, _Var1)
AND
IntegerMin(_Var6, _Var12, _Var13, _Var1, _Var1)
AND
_Var13 > 0
THEN
ApplyDamage(_Var1, _Var13, _Var3, _Var4);

IF
GameBookInterfaceClosed((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_BookFlags(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var3);
PROC_BookFlags_FlagSet(_Var1, _Var3, _Var2);

IF
GameBookInterfaceClosed((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_BookTemplateFlags(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
GetTemplate(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var4);
PROC_BookFlags_FlagSet(_Var1, _Var4, _Var2);

PROC
PROC_BookFlags_FlagSet((GUIDSTRING)_Var1, (FLAG)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
TextEvent("fa_fadeout", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetDebugCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FadeOutEntity(_Var1);

IF
TextEvent("fa_fadein", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetDebugCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FadeInEntity(_Var1);

PROC
PROC_FadeOutEntity((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_FadeOutEntity(_Var1, "");

PROC
PROC_FadeInEntity((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_FadeInEntity(_Var1, "");

QRY
QRY_FadeAppear_TrySetOnStage((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
IsOnStage(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, _Var2);

PROC
PROC_FadeOutEntity((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_FadeAppear(_Var1, _, _, _Var1, _Var1)
THEN
DB_FadeAppear(_Var1, 0, _Var2);
ApplyStatus(_Var1, "FADE_APPEAR", -1, 1, NULL_00000000-0000-0000-0000-000000000000);

IF
StatusAttempt((GUIDSTRING)_Var1, "FADE_APPEAR", _, _, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 0, _Var4, _Var1, _Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "FadeAppear_FadeOut_Anim", 1000);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "FadeAppear_FadeOut_Anim", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 0, _Var2, _Var1, _Var1)
AND NOT
QRY_FadeAppear_TrySetOnStage(_Var1, 0, _Var1, _Var1, _Var1)
THEN
PROC_FadeAppear_FadeOver(_Var1);

IF
WentOnStage((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 0, _Var2, _Var1, _Var1)
THEN
PROC_FadeAppear_FadeOver(_Var1);

PROC
PROC_FadeInEntity((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_FadeAppear(_Var1, _, _, _Var1, _Var1)
THEN
DB_FadeAppear(_Var1, 1, _Var2);
ApplyStatus(_Var1, "FADE_APPEAR", -1, 1, NULL_00000000-0000-0000-0000-000000000000);
RealtimeObjectTimerLaunch(_Var1, "FadeAppear_FadeIn_FadeOut_Anim", 1000);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "FadeAppear_FadeIn_FadeOut_Anim", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 1, _, _Var1, _Var1)
AND NOT
QRY_FadeAppear_TrySetOnStage(_Var1, 1, _Var1, _Var1, _Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "FadeAppear_FadeIn_Delay", 500);

IF
WentOnStage((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 1, _, _Var1, _Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "FadeAppear_FadeIn_Delay", 500);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "FadeAppear_FadeIn_Delay", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RemoveStatus(_Var1, "FADE_APPEAR", _Var1);

IF
StatusRemoved((GUIDSTRING)_Var1, "FADE_APPEAR", _, _, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 1, _Var4, _Var1, _Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "FadeAppear_FadeIn_Anim", 1000);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "FadeAppear_FadeIn_Anim", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, 1, _Var2, _Var1, _Var1)
THEN
PROC_FadeAppear_FadeOver(_Var1);

PROC
PROC_FadeAppear_FadeOver((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FadeAppear(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_FadeAppear(_Var1, _Var2, _Var3);
SetEntityEvent(_Var1, _Var3);

IF
Died((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CorpseCleanup_Ignore(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CanBeResurrected(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GLO_CharacterCorpseDialog(_Var1, _, _Var1, _Var1, _Var1)
AND
GetDefaultState(_Var1, "", _Var1, _Var1, _Var1)
THEN
DB_CorpseCleanup_ReadyToBeRemoved(_Var1);

PROC
PROC_LongRest()
AND
DB_CorpseCleanup_ReadyToBeRemoved(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CanBeResurrected(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsInInventory(_Var1, 0, _Var1, _Var1, _Var1)
AND
GetRegion(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CorpseCleanup_Area(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetRegion(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
IsInTrigger(_Var1, _Var3, 1, _Var1, _Var1)
THEN
PROC_CorpseCleanup_RemoveCorpse(_Var1);

PROC
PROC_CorpseCleanup_RemoveCorpse((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
CreateSurface(_Var1, "SurfaceNone", 2, -1, NULL_00000000-0000-0000-0000-000000000000);
PROC_CorpseCleanup_CreateLootbag(_Var1);
SetOnStage(_Var1, 0);

PROC
PROC_CorpseCleanup_CreateLootbag((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Origins(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsInventoryEmpty(_Var1, 0, _Var1, _Var1, _Var1)
AND
GetPosition(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
CreateAt(CONT_GEN_Pouch_Leather_A_2e40240b-77d3-400b-bd6a-caff66a85833, _Var2, _Var3, _Var4, 0, 0, "CorpseCleanup_LootbagReady", _Var5, _Var1, _Var1)
THEN
DB_CorpseCleanup_DeferredWait(_Var1, _Var5);
DB_CorpseCleanup_Lootbag(_Var5);

PROC
PROC_CorpseCleanup_CreateLootbag((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Origins(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsInventoryEmpty(_Var1, 0, _Var1, _Var1, _Var1)
AND
GetPosition(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
CreateAt(LOOT_GEN_Backpack_D_Posed_A_Colorvar_B_f697d433-7b8f-4fe1-8fe3-990bdfeedeee, _Var2, _Var3, _Var4, 0, 0, "CorpseCleanup_LootbagReady", _Var5, _Var1, _Var1)
THEN
DB_CorpseCleanup_DeferredWait(_Var1, _Var5);
DB_CorpseCleanup_Lootbag(_Var5);

IF
EntityEvent((GUIDSTRING)_Var1, "CorpseCleanup_LootbagReady", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CorpseCleanup_DeferredWait(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetOwner(_Var1, _Var2);
MoveAllItemsTo(_Var2, _Var1, 1, 1, 1);
NOT DB_CorpseCleanup_DeferredWait(_Var2, _Var1);

PROC
PROC_LongRest()
AND
DB_CorpseCleanup_ReadyToBeRemoved(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CorpseCleanup_ReadyToBeRemoved(_Var1);

IF
AddedTo((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CorpseCleanup_Lootbag(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CorpseCleanup_Lootbag(_Var1);

IF
RemovedFrom((GUIDSTRING)_Var1, (ITEM)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CorpseCleanup_Lootbag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsInventoryEmpty(_Var2, 1, _Var1, _Var1, _Var1)
THEN
Die(_Var2);
NOT DB_CorpseCleanup_Lootbag(_Var2);

QRY
QRY_IsInCombatWith((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Is_InCombat(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_IsNotAloneInPartyGroup((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != _Var2
AND
InSamePartyGroup(_Var1, _Var2, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
TextEvent("dbcount", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(2, _Var2, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DBDEBUG_PrintCount(_Var3, _Var1, _Var2);

IF
TextEvent("dbcount", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
GetTextEventParamInteger(2, _, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DBDEBUG_PrintCount(_Var3, _Var1, 1);
PROC_DBDEBUG_PrintCount(_Var3, _Var1, 2);
PROC_DBDEBUG_PrintCount(_Var3, _Var1, 3);
PROC_DBDEBUG_PrintCount(_Var3, _Var1, 4);
PROC_DBDEBUG_PrintCount(_Var3, _Var1, 5);

PROC
PROC_DBDEBUG_PrintCount((CHARACTER)_Var1, (STRING)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
SysCount(_Var2, _Var3, _Var4, _Var1, _Var1)
AND
_Var4 > 0
AND
Concatenate("#", _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, "(", _Var6, _Var1, _Var1)
AND
ConcatenateInteger(_Var6, _Var3, _Var7, _Var1, _Var1)
AND
Concatenate(_Var7, ") = ", _Var8, _Var1, _Var1)
AND
ConcatenateInteger(_Var8, _Var4, _Var9, _Var1, _Var1)
THEN
DebugText(_Var1, _Var9);

IF
TextEvent("dblist", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_DBDebug_FoundReturnDB(1);
NOT DB_DBDebug_DBFound(1);
PROC_DBDebug_DBList(_Var2, _Var1);
PROC_DBDebug_CheckSuccess(_Var2, _Var1);

PROC
PROC_DBDebug_DBList((CHARACTER)_Var1, (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_DBDebug_ReturnDBs(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_DBDebug_DBList_Loop(_Var1, _Var4, _Var2, _Var3, 1);

PROC
PROC_DBDebug_CheckSuccess((CHARACTER)_Var1, (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_DBDebug_TryCount(_Var2, 1);
PROC_DBDebug_TryCount(_Var2, 2);
PROC_DBDebug_TryCount(_Var2, 3);
PROC_DBDebug_TryCount(_Var2, 4);
PROC_DBDebug_TryCount(_Var2, 5);
PROC_DBDebug_TryCount(_Var2, 6);
PROC_DBDebug_TryCount(_Var2, 7);
PROC_DBDebug_TryCount(_Var2, 8);
PROC_DBDebug_TryCount(_Var2, 9);
PROC_DBDebug_TryCount(_Var2, 10);

PROC
PROC_DBDebug_TryCount((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
SysCount(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
_Var3 > 0
THEN
DB_DBDebug_DBFound(1);

PROC
PROC_DBDebug_CheckSuccess((CHARACTER)_Var1, (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_DBDebug_DBFound(1, _Var1, _Var1, _Var1, _Var1)
AND
Concatenate("No entries found for ", _Var2, _Var3, _Var1, _Var1)
THEN
DebugText(_Var1, _Var3);

PROC
PROC_DBDebug_CheckSuccess((CHARACTER)_Var1, (STRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_DBDebug_DBFound(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_DBDebug_FoundReturnDB(1, _Var1, _Var1, _Var1, _Var1)
AND
Concatenate("No usable return DB found for ", _Var2, _Var3, _Var1, _Var1)
THEN
DebugText(_Var1, _Var3);
DebugText(_Var1, "Add a definition to DB_DBDebug_ReturnDBs");

PROC
PROC_DBDebug_DBList_Loop((CHARACTER)_Var1, (STRING)_Var2, (STRING)_Var3, (INTEGER)_Var4, (INTEGER)_Var5)
AND
IntegerSum(_Var5, 1, _Var6, _Var1, _Var1)
AND
SysFactAtIndex(_Var3, _Var4, _Var5, _Var2, _Var1)
AND
QRY_DBDebug_FactToString(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_DBDebug_FactToString(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, "(", _Var8, _Var1, _Var1)
AND
Concatenate(_Var8, _Var7, _Var9, _Var1, _Var1)
AND
Concatenate(_Var9, ");", _Var10, _Var1, _Var1)
THEN
SysClear(_Var2, _Var4);
DebugText(_Var1, _Var10);
DB_DBDebug_FoundReturnDB(1);
PROC_DBDebug_DBList_Loop(_Var1, _Var2, _Var3, _Var4, _Var6);

QRY
QRY_DBDebug_FactToString((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
SysClear("DB_QRYRTN_DBDebug_FactToString", 1);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_1Param_GUID", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DBDebug_1Param_GUID(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var2);
NOT DB_DBDebug_1Param_GUID(_Var1);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_1Param_STRING", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_DBDebug_1Param_STRING(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var1);
NOT DB_DBDebug_1Param_STRING(_Var1);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_1Param_INT", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DBDebug_1Param_INT(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var2);
NOT DB_DBDebug_1Param_INT(_Var1);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_GUID_GUID", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DBDebug_2Param_GUID_GUID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, " , ", _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, _Var4, _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_GUID_GUID(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_GUID_INT", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DBDebug_2Param_GUID_INT(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, " , ", _Var4, _Var1, _Var1)
AND
ConcatenateInteger(_Var4, _Var2, _Var5, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var5);
NOT DB_DBDebug_2Param_GUID_INT(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_GUID_STRING", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DBDebug_2Param_GUID_STRING(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, " , ''", _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, "''", _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_GUID_STRING(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_INT_GUID", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DBDebug_2Param_INT_GUID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
Concatenate(_Var4, " , ", _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, _Var3, _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_INT_GUID(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_INT_INT", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DBDebug_2Param_INT_INT(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, " , ", _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, _Var4, _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_INT_INT(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_INT_STRING", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DBDebug_2Param_INT_STRING(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate(_Var3, " , ''", _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, "''", _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_INT_STRING(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_STRING_GUID", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_DBDebug_2Param_STRING_GUID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("''", _Var1, _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, "'' , ", _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, _Var3, _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_STRING_GUID(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_STRING_INT", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_DBDebug_2Param_STRING_INT(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("''", _Var1, _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, "'' , ", _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, _Var3, _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_STRING_INT(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_2Param_STRING_STRING", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_DBDebug_2Param_STRING_STRING(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
Concatenate("''", _Var1, _Var3, _Var1, _Var1)
AND
Concatenate(_Var3, "'' , ''", _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, _Var2, _Var5, _Var1, _Var1)
AND
Concatenate(_Var5, "''", _Var6, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var6);
NOT DB_DBDebug_2Param_STRING_STRING(_Var1, _Var2);

QRY
QRY_DBDebug_FactToString("DB_DBDebug_3Param_INT_GUID_INT", (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DBDebug_3Param_INT_GUID_INT(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
IntegerToString(_Var3, _Var6, _Var1, _Var1, _Var1)
AND
Concatenate(_Var5, " , ", _Var7, _Var1, _Var1)
AND
Concatenate(_Var7, _Var4, _Var8, _Var1, _Var1)
AND
Concatenate(_Var8, " , ", _Var9, _Var1, _Var1)
AND
Concatenate(_Var9, _Var6, _Var10, _Var1, _Var1)
THEN
DB_QRYRTN_DBDebug_FactToString(_Var10);
NOT DB_DBDebug_3Param_INT_GUID_INT(_Var1, _Var2, _Var3);

PROC
PROC_LevelBecameUnreachable((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_LevelUnreachable(_Var1);

IF
LevelGameplayStarted((STRING)_Var1, _, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LevelUnreachable_LevelBlocksLevel(_Var1, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_LevelUnreachable(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LevelBecameUnreachable(_Var3);

PROC
PROC_LevelBecameUnreachable((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LevelUnreachable_LevelBlocksLevel(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LevelUnreachable_LevelBlocksLevel(_Var2, _Var1);

IF
DB_LevelUnreachable(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LevelUnreachable_TrackEntity(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_ItemInTeamMagicPocketsOrCampChest(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_EntityBecameUnreachable(_Var2, _Var1);

PROC
PROC_EntityBecameUnreachable((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LevelUnreachable_TrackEntity(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LevelUnreachable_TrackEntity(_Var1);
DB_EntityUnreachable(_Var1);

IF
TextEvent("levelunreachable", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LevelBecameUnreachable(_Var1);

PROC
PROC_LongRest()
AND
DB_LongRestCountDown(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerSubtract(_Var1, 1, _Var3, _Var1, _Var1)
THEN
DB_LongRestCountDown(_Var3, _Var2);

IF
DB_LongRestCountDown(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LongRestCountDown(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
_Var1 != _Var3
THEN
NOT DB_LongRestCountDown(_Var3, _Var2);

IF
DB_LongRestCountDown(0, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LongRestCountDown(0, _Var1);
SetFlag(_Var1, NULL_00000000-0000-0000-0000-000000000000, 0);

QRY
QRY_IsCharaterUnconsciousOrEquivalent((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_StatusGroups_UnconsciousOrEquivalent(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
HasAppliedStatusWithGroup(_Var1, _Var2, 1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_PeacefulResolve((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PeacefullyResolved(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PeacefullyResolved(_Var1);
ApplyStatus(_Var1, "PEACEFUL_RESOLUTION_XP", -1, 1, _Var2);

IF
StatusRemoved((GUIDSTRING)_Var1, "PEACEFUL_RESOLUTION_XP", _, _, (GUIDSTRING)_Var1)
AND
DB_PeacefullyResolved(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_PeacefullyResolved(_Var1);

QRY
QRY_IsSoloAvatar((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(GEN_SoloPlayer_29e32f83-2001-0dbc-7df9-3ca2b3bc4349, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_MakePlayerActive((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
MakePlayerActive(_Var1);


EXITSECTION
ENDEXITSECTION

