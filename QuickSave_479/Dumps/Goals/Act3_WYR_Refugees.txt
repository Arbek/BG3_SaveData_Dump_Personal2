Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_Tiefling_011_77439e86-3f60-4456-bd55-931e2f45654f, S_WYR_RefugeeCamp_Point_Tiefling_011_5d65381b-a949-4034-9252-d0cbb9cac1cc, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_Tiefling_011_2197658b-feeb-d39d-e00f-cef5bf033168, "Camp", "Adult");
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af, S_WYR_RefugeeCamp_Point_PickpocketTrader_8a4cca3a-9518-42ab-be2f-6f5fc9476860, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_PickpocketTrader_dd9df8fb-b0ba-0b0b-1935-debefd66ffbc, "Barn", "Kid");
DB_WYR_RefugeeCamp_TieflingRefugees(S_GLO_YoungLover_01_dd9178e7-1e3f-43bc-8a38-666dfcac7d0c, S_WYR_RefugeeCamp_YoungLover_01_c2340865-675f-48ae-9b0f-1e9657372645, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_YoungLover_01_dd1e3f88-47c8-1cff-edc5-cf4f7c6164e4, "Camp", "Adult");
DB_WYR_RefugeeCamp_TieflingRefugees(S_GLO_YoungLover_02_dcf597c0-36c5-4c81-957a-6fe9fca50a68, S_WYR_RefugeeCamp_YoungLover_02_f78feb12-63c6-4558-bb5f-b31035fb9053, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_YoungLover_02_ea9214e5-6cd7-1d25-eec4-68a51291d2ed, "Camp", "Adult");
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca, S_WYR_RefugeeCamp_CharmedKid_HomePos_ffbee21f-060d-4403-9508-e95625b2b486, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_CharmedKid_7d1c0a49-58a0-3051-891a-800ef9c8a82c, "Barn", "Kid");
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_BackupLeader_b304e07d-019c-4ec6-b5ea-c4ccb29ed892, S_WYR_RefugeeCamp_BackupLeader_HomePos_962dc599-55d2-432a-b1d8-cc7ca3e96c64, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_BackupLeader_9094f5f7-f6d8-6dbf-6b74-255480abd2af, "Camp", "Adult");
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_Trainee_001_1f839ad2-2bcb-47d2-8de9-db7a1fb5d67f, S_WYR_RefugeeCamp_Trainee_001_HomePos_d20dee22-739a-47df-b4ae-30ffcce43a3e, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_Trainee_001_df87ef17-a365-3756-130a-e2d1b3b38b31, "Camp", "Kid");
DB_WYR_RefugeeCamp_TieflingRefugees(S_DEN_Trainee_002_bd7f31a6-98e8-46cd-97be-4347fa45d387, S_WYR_RefugeeCamp_Trainee_002_HomePos_5c7c0870-34f0-46fd-b6c5-5e3f36938e20, ACT3_WYR_TieflingRefugees_bf98e827-e58f-42b2-9730-f226de97a8e8, WYR_RefugeeCamp_Trainee_002_a4975b7f-924a-c48e-3f0e-d075556b0f88, "Camp", "Kid");
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_Tiefling_011_77439e86-3f60-4456-bd55-931e2f45654f);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_GLO_YoungLover_01_dd9178e7-1e3f-43bc-8a38-666dfcac7d0c);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_GLO_YoungLover_02_dcf597c0-36c5-4c81-957a-6fe9fca50a68);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_Trainee_001_1f839ad2-2bcb-47d2-8de9-db7a1fb5d67f);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_Trainee_002_bd7f31a6-98e8-46cd-97be-4347fa45d387);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca);
DB_GLO_SetupForAct_Character("BGO_Main_A", S_DEN_BackupLeader_b304e07d-019c-4ec6-b5ea-c4ccb29ed892);
DB_WYR_RefugeeCamp_TieflingRefugee_DeathFlag(S_GLO_YoungLover_01_dd9178e7-1e3f-43bc-8a38-666dfcac7d0c, WYR_RefugeeCamp_Dead_YoungLover_01_df511b7b-faab-4a36-8814-0a1654ee7fbc);
DB_WYR_RefugeeCamp_TieflingRefugee_DeathFlag(S_GLO_YoungLover_02_dcf597c0-36c5-4c81-957a-6fe9fca50a68, WYR_RefugeeCamp_Dead_YoungLover_02_6c861a65-973f-427d-b85c-688cad4e1a4b);
DB_Dialogs(S_WYR_RefugeeCamp_Protester_001_77bc8a1b-1c6e-4627-8a24-99c33f743709, WYR_RefugeeCamp_Protester_001_19408bb1-670b-bdc6-3b8d-2fa4bee5bc7f);
DB_Dialogs(S_WYR_RefugeeCamp_Protester_002_d61bafe9-67aa-4a79-a6a3-901839c44e6a, WYR_RefugeeCamp_Protester_002_e93ad13c-0b9b-586e-7134-a84716873dc4);
DB_Dialogs(S_WYR_RefugeeCamp_Protester_003_80c5f32e-038a-4233-8d53-b509221b58ff, WYR_RefugeeCamp_Protester_003_d3274227-782c-c4ab-83f2-3217b1aab2b0);
DB_WYR_RefugeeCamp_Protesters(S_WYR_RefugeeCamp_Protester_001_77bc8a1b-1c6e-4627-8a24-99c33f743709);
DB_WYR_RefugeeCamp_Protesters(S_WYR_RefugeeCamp_Protester_002_d61bafe9-67aa-4a79-a6a3-901839c44e6a);
DB_WYR_RefugeeCamp_Protesters(S_WYR_RefugeeCamp_Protester_003_80c5f32e-038a-4233-8d53-b509221b58ff);
DB_Dialogs(S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497, WYR_RefugeeCamp_Dibbs_e3d059b3-b206-3d2a-7202-b5b37a9d3dde);
DB_Dialogs(S_WYR_RefugeeCamp_DibbsWife_4c22257a-4729-47eb-ae4b-61305033be95, WYR_RefugeeCamp_DibbsWife_613ea866-9768-ddfc-1ae3-a620645deaf5);
DB_Dialogs(S_WYR_RefugeeCamp_DibbsDog_bc33e4d2-a37e-41bc-8082-1cc6055dcec4, WYR_RefugeeCamp_DibbsDog_9e5a299d-6f17-a248-0334-8034889626ed);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_03_add9a282-42e6-4c73-8eeb-dbeaa257cf09, WYR_RefugeeCamp_Refugee_03_2705d5ae-22db-66b7-7f92-cdb2b6b8d37d);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_04_c4d3a57b-4117-4531-aff1-56542344900c, WYR_RefugeeCamp_Refugee_04_8cee2ccf-84b5-dae2-efe7-f9d81a139a89);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_05_0caf9e68-3da5-48d1-b633-17df143c7978, WYR_RefugeeCamp_Refugee_05_2efe7a94-9965-2ba9-3b43-f0b0b39dacb2);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_06_9a800b94-b74f-4586-8f9a-a6cc84e19aa6, WYR_RefugeeCamp_Refugee_06_cdf1f4b6-4e62-16ee-058b-0915f04912ec);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_07_0d542335-e415-4350-b2f3-01b0291e9b61, WYR_RefugeeCamp_Refugee_07_b9855c32-498d-f892-137c-b8fd6ddf5790);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_08_92b0f2b2-0f50-4bb0-af35-05c8b877fce5, WYR_RefugeeCamp_Refugee_08_3101e941-810b-cd44-7f3d-7f8b8455b8cd);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_09_acbb99cd-21db-4003-af18-2158e4a58645, WYR_RefugeeCamp_Refugee_09_ae98b93f-70ef-876b-1f1a-61cf24b9b10c);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_10_04af618f-ab75-48d0-968c-e2474897d8de, WYR_RefugeeCamp_Refugee_10_7723de48-603b-667c-5ae6-3c2a2c928833);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_11_0d26695f-0e9c-406b-aa42-eb3debb04529, WYR_RefugeeCamp_Refugee_11_8584e0d8-1432-6cdc-23b4-6394289cb884);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_12_fc0cf3c5-cd5a-4156-8024-6eeb67db98a3, WYR_RefugeeCamp_Refugee_12_f2389bf5-ee02-2cc8-d328-bc8226c3e05b);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_13_c077fb56-7f29-4693-8ebf-3571a01d689b, WYR_RefugeeCamp_Refugee_13_4de467ef-ea83-016e-0117-b2bd213704f0);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846, WYR_RefugeeCamp_Refugee_14_5e893247-d29e-149b-3ef3-a6e0d178c286);
DB_Dialogs(S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3, WYR_RefugeeCamp_Refugee_15_bcef24f1-5424-8e16-c82c-1815e341126c);
DB_Dialogs(S_WYR_RefugeeCamp_WoundedRefugee_7799795e-1477-4857-8cb7-ca5db3c50f47, WYR_RefugeeCamp_WoundedRefugee_364bd2a9-2e0d-9db5-2558-0b545decf3cb);
DB_Dialogs(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, WYR_RefugeeCamp_HobgoblinOutcast_9e1a54d2-9362-3f21-1010-b341bd704b24);
DB_AD_Dialog(S_WYR_RefugeeCamp_RefugeeChild_01_ab237788-d58f-434f-bcda-4ba0e56b0291, WYR_RefugeeCamp_AD_RefugeeChild_01_8235f371-c5ee-2f10-b6be-bad3d941ae5d);
DB_AD_Dialog(S_WYR_RefugeeCamp_RefugeeChild_02_9c53fa6c-fe75-4ecb-9755-776dbde97a0e, WYR_RefugeeCamp_AD_RefugeeChild_02_0b9cbd3e-2e88-3a89-3016-c64494235539);
DB_AD_Dialog(S_WYR_RefugeeCamp_RefugeeChild_03_eb54aa92-8123-42a0-9b4a-10545565f380, WYR_RefugeeCamp_AD_RefugeeChild_03_1962b55a-fc75-dba8-328a-474a9a7205b2);
DB_AD_Dialog(S_WYR_RefugeeCamp_RefugeeChild_04_0514bca7-a892-470a-a3f0-5318ffb67824, WYR_RefugeeCamp_AD_RefugeeChild_04_57413cac-9ddc-12f8-2bcf-21787fd12fbc);
DB_Children(S_WYR_RefugeeCamp_RefugeeChild_01_ab237788-d58f-434f-bcda-4ba0e56b0291);
DB_Children(S_WYR_RefugeeCamp_RefugeeChild_02_9c53fa6c-fe75-4ecb-9755-776dbde97a0e);
DB_Children(S_WYR_RefugeeCamp_RefugeeChild_03_eb54aa92-8123-42a0-9b4a-10545565f380);
DB_Children(S_WYR_RefugeeCamp_RefugeeChild_04_0514bca7-a892-470a-a3f0-5318ffb67824);
SetFlag(WYR_RefugeeCamp_State_RefugeeChildTagged_a4e5e24e-c8e4-4baf-ad58-63acbf5abd7c, S_WYR_RefugeeCamp_RefugeeChild_01_ab237788-d58f-434f-bcda-4ba0e56b0291);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_HobgoblinOutcast_Ownership_36f73655-cc9f-41fa-9e9f-bb719c6ac789, S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Refugee_04_Ownership_91e252b5-3b98-4a2c-9d28-e49f2945df75, S_WYR_RefugeeCamp_Refugee_04_c4d3a57b-4117-4531-aff1-56542344900c);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_DwarfFamily_Ownership_9164a0c7-2284-4f4d-8be5-f54516fb27f4, S_WYR_RefugeeCamp_Refugee_13_c077fb56-7f29-4693-8ebf-3571a01d689b);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Dibbs_Ownership_d76be5cc-e639-4ae6-9249-8fdcd10c410f, S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Refugee_10_Ownership_e2259fb2-56d2-403f-9234-a92a0f2a8f47, S_WYR_RefugeeCamp_Refugee_10_04af618f-ab75-48d0-968c-e2474897d8de);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Refugee_07_Ownership_c64178c2-a0b6-43ea-b08d-d2f1347608fc, S_WYR_RefugeeCamp_Refugee_07_0d542335-e415-4350-b2f3-01b0291e9b61);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Fists_Ownership_e69e0162-91f7-4562-a3cf-efddfd8288c5, S_WYR_RefugeeCamp_FlamingFist_002_e93bd361-c99d-454d-b6be-f998bf67056f);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Refugee_03_Ownership_d550aaac-2a02-4b3a-9e2e-c51673e38d05, S_WYR_RefugeeCamp_Refugee_03_add9a282-42e6-4c73-8eeb-dbeaa257cf09);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Fists_Ownership_002_280ea2e4-1480-4aae-8450-69c2c51461bb, S_WYR_RefugeeCamp_FlamingFist_006_f0b8e3b7-3761-418a-a331-aae048c08ead);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Refugee_06_Ownership_7560a717-dc39-4ac4-8c78-42d22c653582, S_WYR_RefugeeCamp_Refugee_06_9a800b94-b74f-4586-8f9a-a6cc84e19aa6);
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_13_c077fb56-7f29-4693-8ebf-3571a01d689b, "DwarfFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_08_92b0f2b2-0f50-4bb0-af35-05c8b877fce5, "DwarfFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_11_0d26695f-0e9c-406b-aa42-eb3debb04529, "DwarfFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_12_fc0cf3c5-cd5a-4156-8024-6eeb67db98a3, "DwarfFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3, "WoundHalfOrcGroup");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846, "WoundHalfOrcGroup");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_WoundedRefugee_7799795e-1477-4857-8cb7-ca5db3c50f47, "WoundHalfOrcGroup");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497, "DibbsFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_DibbsWife_4c22257a-4729-47eb-ae4b-61305033be95, "DibbsFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_DibbsDog_bc33e4d2-a37e-41bc-8082-1cc6055dcec4, "DibbsFamily");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Protester_003_80c5f32e-038a-4233-8d53-b509221b58ff, "Protesters");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Protester_001_77bc8a1b-1c6e-4627-8a24-99c33f743709, "Protesters");
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(S_WYR_RefugeeCamp_Protester_002_d61bafe9-67aa-4a79-a6a3-901839c44e6a, "Protesters");

KBSECTION
QRY
QRY_GLO_SetupForAct_CustomBlock("BGO_Main_A", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_WYR_RefugeeCamp_TieflingRefugees(_Var1, _, _, _, _, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(DEN_TieflingRefugees_State_LeftDen_003b304b-f058-4f8a-b9fa-a097e1b6b395, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_GLO_SetupForAct("BGO_Main_A", (CHARACTER)_Var1, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_WYR_RefugeeCamp_TieflingRefugees(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
THEN
DB_WYR_RefugeeCamp_TieflingRefugees_Placed(_Var1, _Var5, _Var6);
PROC_GLO_SetupForAct_Place(_Var1, _Var2, _Var3, _Var4);

IF
DB_WYR_RefugeeCamp_TieflingRefugee_DeathFlag(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2);

PROC
PROC_GLO_SetupForAct_Place(S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af, _, _, _, (TRIGGER)_)
THEN
PROC_SetCustomTradeTreasure(S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af, "WYR_Thiefling_Trade");

PROC
PROC_GLO_SetupForActComplete("BGO_Main_A", _, _, _, _)
AND NOT
DB_WYR_RefugeeCamp_TieflingRefugees_Placed(_, "Camp", _, _, _)
THEN
PROC_GlobalSetFlagAndCache(WYR_RefugeeCamp_State_NoTieflingsCamp_6947d1af-e1a1-47bf-833e-10dca6311be7);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Tieflings_Ownership_df8bf4fb-2cfe-47eb-bb5f-ea1f98b78217, S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846);
TeleportTo(S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3, S_WYR_RefugeeCamp_Refugee_15_BackupPos_3001e9f1-4a48-4bde-99da-a8dc3ad7b2e0);
TeleportTo(S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846, S_WYR_RefugeeCamp_Refugee_14_BackupPos_56c090c3-bdb3-4269-b473-2e6e0098381e);
TeleportTo(S_WYR_RefugeeCamp_WoundedRefugee_7799795e-1477-4857-8cb7-ca5db3c50f47, S_WYR_RefugeeCamp_WoundedRefugee_BackupPos_17bbfba3-513d-40f2-a6b2-a6a4f413dbd3);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_WoundedRefugee_Ownership_926a5f65-5f27-4c13-b867-d9491cc135d2, S_WYR_RefugeeCamp_Refugee_05_0caf9e68-3da5-48d1-b633-17df143c7978);
TeleportTo(S_WYR_RefugeeCamp_Refugee_05_0caf9e68-3da5-48d1-b633-17df143c7978, S_WYR_RefugeeCamp_Refugee_05_9a800b94-b74f-4586-8f9a-a6cc84e19aa6);

PROC
PROC_GLO_SetupForActComplete("BGO_Main_A", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_WYR_RefugeeCamp_TieflingRefugees_Placed(_Var1, "Camp", "Adult", _Var1, _Var1)
AND NOT
DB_WYR_RefugeeCamp_TieflingsSetupDone(_, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_WYR_RefugeeCamp_SetupTieflingsOwnership(_Var1);

PROC
PROC_GLO_SetupForActComplete("BGO_Main_A", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_WYR_RefugeeCamp_TieflingRefugees_Placed(_Var1, "Camp", "Kid", _Var1, _Var1)
AND NOT
DB_WYR_RefugeeCamp_TieflingsSetupDone(_, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_WYR_RefugeeCamp_SetupTieflingsOwnership(_Var1);

PROC
PROC_WYR_RefugeeCamp_SetupTieflingsOwnership((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_WYR_RefugeeCamp_TieflingsSetupDone(1);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_Tieflings_Ownership_df8bf4fb-2cfe-47eb-bb5f-ea1f98b78217, _Var1);
DB_ItemOwnerShipTriggers("BGO_Main_A", S_WYR_RefugeeCamp_WoundedRefugee_Ownership_926a5f65-5f27-4c13-b867-d9491cc135d2, S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846);
TeleportTo(S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3, S_WYR_RefugeeCamp_Refugee_15_CampPos_a2579c52-e9cc-4792-8f51-18d36a21f620);
TeleportTo(S_WYR_RefugeeCamp_Refugee_14_62986827-cf46-492b-a32e-27a168e47846, S_WYR_RefugeeCamp_Refugee_14_CampPos_2ca8ee54-8921-46b9-9ea3-ee843a652118);
TeleportTo(S_WYR_RefugeeCamp_WoundedRefugee_7799795e-1477-4857-8cb7-ca5db3c50f47, S_WYR_RefugeeCamp_WoundedRefugee_CampPos_044c2339-7fe6-47f6-b149-22ff1f344f06);

PROC
PROC_GLO_SetupForAct_DebugRerun("BGO_Main_A", _, _, _, _)
THEN
NOT DB_WYR_RefugeeCamp_TieflingsSetupDone(1);
PROC_GlobalClearFlagAndCache(WYR_RefugeeCamp_State_NoTieflingsCamp_6947d1af-e1a1-47bf-833e-10dca6311be7);

PROC
PROC_StartDialog_AddExtraSpeakers(WYR_RefugeeCamp_Dibbs_e3d059b3-b206-3d2a-7202-b5b37a9d3dde, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WYR_RefugeeCamp_DibbsWife_4c22257a-4729-47eb-ae4b-61305033be95, S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, S_WYR_RefugeeCamp_DibbsWife_4c22257a-4729-47eb-ae4b-61305033be95);

PROC
PROC_StartDialog_AddExtraSpeakers(WYR_RefugeeCamp_DibbsWife_613ea866-9768-ddfc-1ae3-a620645deaf5, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497, S_WYR_RefugeeCamp_DibbsWife_4c22257a-4729-47eb-ae4b-61305033be95, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, S_WYR_RefugeeCamp_Dibbs_72d61688-13bd-4aa3-a027-915cf1e66497);

QRY
QRY_SelectCustomDialog_AfterGenerics(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
IsReposed(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, 1, _Var1, _Var1, _Var1)
THEN
DB_WYR_RefugeeCamp_Sleeper_TalkWhenWakeUp(_Var1);
SetEntityEvent(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, "GLO_Sit_ManualInterrupt", 1);
EndRepose(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2);

IF
ReposeRemoved(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, _, _, _, _)
AND
DB_WYR_RefugeeCamp_Sleeper_TalkWhenWakeUp(_Var2, _, _, _, _)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, _Var2, _, _, _)
AND
QRY_StartDialog(WYR_RefugeeCamp_HobgoblinOutcast_9e1a54d2-9362-3f21-1010-b341bd704b24, S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, _Var2, _, _)
THEN
DB_NOOP(1);

IF
ReposeRemoved(S_WYR_RefugeeCamp_HobgoblinOutcast_b75bfef3-187e-495a-b0d4-4903d18e21d2, _, _, _, _)
AND
DB_WYR_RefugeeCamp_Sleeper_TalkWhenWakeUp(_Var2, _, _, _, _)
THEN
NOT DB_WYR_RefugeeCamp_Sleeper_TalkWhenWakeUp(_Var2);

PROC
PROC_StartDialog_AddExtraSpeakers(WYR_RefugeeCamp_Protester_001_19408bb1-670b-bdc6-3b8d-2fa4bee5bc7f, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WYR_RefugeeCamp_FlamingFist_004_285923f1-dce0-4f7f-8ebe-0de8ba990467, S_WYR_RefugeeCamp_Protester_001_77bc8a1b-1c6e-4627-8a24-99c33f743709, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, S_WYR_RefugeeCamp_FlamingFist_004_285923f1-dce0-4f7f-8ebe-0de8ba990467);

PROC
PROC_StartDialog_AddExtraSpeakers(WYR_RefugeeCamp_Protester_001_19408bb1-670b-bdc6-3b8d-2fa4bee5bc7f, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WYR_RefugeeCamp_Protester_002_d61bafe9-67aa-4a79-a6a3-901839c44e6a, S_WYR_RefugeeCamp_Protester_001_77bc8a1b-1c6e-4627-8a24-99c33f743709, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, S_WYR_RefugeeCamp_Protester_002_d61bafe9-67aa-4a79-a6a3-901839c44e6a);

IF
DB_GlobalFlag(WYR_MerchantsHouse_State_MerchantConfessed_b9c702f4-ed9c-4fe5-0250-8bd96d21a044, _Var1, _Var1, _Var1, _Var1)
AND
DB_WYR_RefugeeCamp_Protesters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_, S_WYR_Rivington_SUB_40c3661e-99a1-4189-aa69-c006e77e3db8, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetOnStage(_Var1, 0);

IF
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_WYR_RefugeeCamp_Protesters(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_WYR_RefugeeCamp_Protesters(_Var1);
PROC_WYR_RefugeeCamp_CheckProtestersGone();

IF
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_WYR_RefugeeCamp_Protesters(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_WYR_RefugeeCamp_Protesters(_Var1);
PROC_WYR_RefugeeCamp_CheckProtestersGone();

PROC
PROC_WYR_RefugeeCamp_CheckProtestersGone()
AND NOT
DB_WYR_RefugeeCamp_Protesters(_, _, _, _, _)
AND NOT
DB_GlobalFlag(WYR_RefugeeCamp_State_ProtestersGone_3a1902e0-67d4-5c07-b568-833426c21c06, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(WYR_RefugeeCamp_State_ProtestersGone_3a1902e0-67d4-5c07-b568-833426c21c06);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_WYR_RefugeeCamp_GroupDisappearIfAnyKilled(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
_Var1 != _Var3
THEN
PROC_NotifyWhenReadyToMoveOn(_Var3, "WYR_RefugeeCamp_GroupDisappearIfAnyKilled_Notify");

PROC
PROC_ReadyToMoveOn((CHARACTER)_Var1, "WYR_RefugeeCamp_GroupDisappearIfAnyKilled_Notify", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetCanJoinCombat(_Var1, 0);
PROC_SetCanFight(_Var1, 0);
PROC_DisappearOutOfSight(_Var1, "Sprint", 1, "");


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act3"
