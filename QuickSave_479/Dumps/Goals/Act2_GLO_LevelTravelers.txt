Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_GLO_LevelTraveler(S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b, "SCL_Main_A", "GLO_DrowCommander_Act2");
DB_GLO_LevelTraveler(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, "SCL_Main_A", "GLO_UnfortunateGnome_Act2");
DB_GLO_LevelTraveler(S_DEN_ThiefHideoutLeader_c8ab1ca6-96bb-467e-91c9-af87bc4d3925, "SCL_Main_A", "GLO_HideoutLeader_Act2");
DB_GLO_LevelTraveler(S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca, "SCL_Main_A", "GLO_HarpyMeal_CharmedVictim_Act2");
DB_GLO_LevelTraveler(S_GLO_Prodigy_b6a3a9e9-b6eb-4c19-ab3f-4c431178fe1b, "SCL_Main_A", "GLO_Prodigy_Act2");
DB_GLO_LevelTraveler(S_DEN_Weaponsmith_e2ad06ec-8034-479a-9f69-b86faea6dc79, "SCL_Main_A", "GLO_Weaponsmith_Act2");
DB_GLO_LevelTraveler(S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, "SCL_Main_A", "GLO_Quartermaster_Act2");
DB_GLO_LevelTraveler(S_GOB_ZhentarimGuard_Ranger_01_4b9818fa-cca6-4bad-b382-4c01334ef22a, "SCL_Main_A", "GLO_ZhentarimGuard_Ranger_01_Act2");
DB_GLO_LevelTraveler(S_GOB_ZhentarimGuard_Ranger_02_afc5350d-dc9f-4808-b6ce-d7b1bb7c8229, "SCL_Main_A", "GLO_ZhentarimGuard_Ranger_02_Act2");
DB_GLO_LevelTraveler(S_GLO_GruntingKid_0f8ef61e-cb63-49e1-a242-677173bff5e0, "SCL_Main_A", "DefaultCharacter");
DB_GLO_LevelTraveler(S_DEN_Bard_4a405fba-3000-4c63-97e5-a8001ebb883c, "SCL_Main_A", "HAV_Bard");
DB_GLO_LevelTraveler(S_DEN_Trainee_001_1f839ad2-2bcb-47d2-8de9-db7a1fb5d67f, "SCL_Main_A", "HAV_Trainee_001");
DB_GLO_LevelTraveler(S_DEN_Trainee_002_bd7f31a6-98e8-46cd-97be-4347fa45d387, "SCL_Main_A", "HAV_Trainee_002");
DB_GLO_LevelTraveler(S_GLO_YoungLover_02_dcf597c0-36c5-4c81-957a-6fe9fca50a68, "SCL_Main_A", "HAV_YoungLover_002");
DB_GLO_LevelTraveler(S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af, "SCL_Main_A", "HAV_PickpocketTrader");
DB_GLO_LevelTraveler(S_GLO_Desire_8b9fa503-7205-4ddd-bdfa-bfaa781d9ea9, "SCL_Main_A", "GLO_Desire_SCL_Main_A");
DB_GLO_LevelTraveler(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323, "SCL_Main_A", "GLO_Halsin_Act2");
DB_GLO_LevelTraveler(S_DEN_SnakeKid_02257c1c-bbec-4ae3-9bcb-31c75a0a982f, "SCL_Main_A", "GLO_Arabella_Act2");
DB_GLO_LevelTraveler(S_DEN_ParentB_397467d4-1631-447b-a505-d44275dca78e, "SCL_Main_A", "DefaultCharacter");
DB_GLO_LevelTraveler(S_DEN_ParentA_d6d88c8b-6ba7-4350-b3b3-d60565a44e90, "SCL_Main_A", "DefaultCharacter");
DB_GLO_LevelTraveler(S_GLO_Monitor_f65becd6-5cd7-4c88-b85e-6dd06b60f7b8, "SCL_Main_A", "GLO_Monitor_Act2");
DB_GLO_LevelTraveler(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, "SCL_Main_A", "MOO_Execution_Goblin1");
DB_GLO_LevelTraveler(S_DEN_BackupLeader_b304e07d-019c-4ec6-b5ea-c4ccb29ed892, "SCL_Main_A", "HAV_BackupLeader");
DB_GLO_LevelTraveler(S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805, "SCL_Main_A", "GLO_Jergal_Act2");
DB_GLO_LevelTraveler(S_GOB_Warlock_d432aafd-f728-4d9d-9707-732e1cdd8297, "SCL_Main_A", "TWN_Korrilla");
DB_GLO_LevelTraveler(S_Player_Karlach_2c76687d-93a2-477b-8b18-8a14b549304c, "SCL_Main_A", "ORI_Karlach_PostEA");
DB_GLO_LevelTraveler(S_GLO_DevilishOx_49eb5b4b-c6ed-4d37-8f68-97b1128b7d56, "SCL_Main_A", "GLO_DevilishOx");
DB_GLO_LevelTraveler(S_GLO_DarkUrge_Butler_f3486165-268f-4e41-9e0c-51485dfdff10, "SCL_Main_A", "DefaultMonster");
DB_GLO_LevelTraveler(S_DEN_TieflingLeader_475200ee-cc3c-4dbe-84b1-1820c02ea26a, "SCL_Main_A", "COL_TadpolingCentre_Innocent_Zevlor");
DB_GLO_LevelTraveler(S_PLA_FlamingFist1_646a4195-4091-4dc9-81e1-cff2604f3911, "SCL_Main_A", "COL_TadpolingCentre_Innocent_Yeva");
DB_GLO_LevelTraveler(S_DEN_Gatekeeper_847717b3-82eb-45a7-b875-78665c12ce9a, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Griefling_7ce0afc2-e8f2-4f2e-82d8-27df98acc3d8, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_GrieflingFriend_c3334ee5-38dc-4197-aacc-4aa55803ff52, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Protester_001_bd673fe3-983d-4aee-b73b-6ba6217e8a20, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Protester_002_5ba86ab9-b36e-468a-a0ac-0439c0ec205a, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Protester_003_650d1cdc-fff6-49f0-aaa2-0a10bcf89abf, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Tiefling_004_c9562174-44af-4ffa-9e5e-da58538f23d8, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_TieflingRefugee_004_bc4c4282-86b0-4330-9df8-246ed0a704a2, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Trainer_02025646-347a-4235-aef7-e46b7c94b435, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_DEN_Tiefling_008_03b6fae4-d250-4ce9-9a01-19cb427deb17, "SCL_Main_A", "");
DB_GLO_LevelTraveler(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "SCL_Main_A", "GLO_Jaheira_Act2");
DB_GLO_LevelTraveler(S_GLO_Ravengard_f6620372-ebd0-4511-a39d-8c2d4ad03f03, "SCL_Main_A", "GLO_Ravengard_Act2");
DB_GLO_LevelTraveler(S_GLO_Nightsong_6c55edb0-901b-4ba4-b9e8-3475a8392d9b, "SCL_Main_A", "SHA_Nightsong");
DB_SCL_General_BlockAct1Destination("WLD_Main_A");
DB_SCL_General_BlockAct1Destination("CRE_Main_A");
DB_SCL_General_BlockAct1Character(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323, SCL_Halsin_StayInSCL_76c4ce84-386e-cee6-acdf-3ba5e94ed663);
DB_SCL_General_BlockAct1Character(S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b, SCL_Minthara_StayInSCL_fc57f3b6-97b1-756d-6146-3c01de30fd9d);
NOT DB_SCL_General_BlockAct1CompleteTravel(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
DB_Origin_TemporaryLeaveReason("SCL_NoHalsinMintharaTravel");

KBSECTION
PROC
PROC_RegionSwapReadyCheck((GUIDSTRING)_Var1, "WaypointTravel_RegionSwap", 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_SCL_General_BlockAct1Character(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_WaypointTravel_RegionswapDestination(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
GetRegion(_Var4, _Var6, _Var1, _Var1, _Var1)
AND
DB_SCL_General_BlockAct1Destination(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
_Var6 == _Var7
AND
GetClosestPlayer(_Var2, _Var8, _, _Var1, _Var1)
AND
QRY_StartDialog(_Var3, _Var2, _Var8, _Var1, _Var1)
THEN
DB_SCL_General_BlockAct1CompleteTravel(_Var8, _Var4, _Var5);

PROC
PROC_RegionSwapReadyCheck(_, "WaypointTravel_RegionSwap", 0, _, _)
AND
DB_SCL_General_BlockAct1Character(_Var2, _, _, _, _)
AND NOT
DB_Players(_Var2, _, _, _, _)
AND
DB_PartOfTheTeam(_Var2, _, _, _, _)
AND
DB_WaypointTravel_RegionswapDestination(_Var4, _, _, _, _)
AND
GetRegion(_Var4, _Var6, _, _, _)
AND
DB_SCL_General_BlockAct1Destination(_Var7, _, _, _, _)
AND
_Var6 == _Var7
THEN
SetFlag(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, _Var2, 0);

IF
FlagSet(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_SCL_General_BlockAct1Character(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_Origins_CompanionLeavePermanently(_Var1, "SCL_NoHalsinMintharaTravel");
NOT DB_InCamp(_Var1);

IF
DialogEnded((DIALOGRESOURCE)_Var1, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_SCL_General_BlockAct1Character(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, _Var3, 1, _Var1, _Var1)
AND
DB_SCL_General_BlockAct1CompleteTravel(_Var4, _Var5, _Var6, _Var1, _Var1)
THEN
PROC_WaypointTeleportTo(_Var4, _Var5);
NOT DB_SCL_General_BlockAct1CompleteTravel(_Var4, _Var5, _Var6);

IF
LevelGameplayStarted("SCL_Main_A", _, _, _, _)
AND
DB_SCL_General_BlockAct1Character(_Var2, _, _, _, _)
AND
DB_Avatars(_Var4, _, _, _, _)
AND
GetFlag(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, _Var2, 1, _, _)
THEN
ClearFlag(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, _Var2, 1);
DB_ORI_DisappearingToCamp(_Var2);
RegisterAsCompanion(_Var2, _Var4);
PROC_DisappearOutOfSight(_Var2, "Run", 0, "ORI_ToCamp");

IF
FlagSet(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323, _, _, _)
AND
QRY_OnlyOnce("GOB_WolfPens_Init", _, _, _, _)
THEN
DB_NOOP(1);

IF
FlagSet(SCL_Event_TravelBackToAct1_c1f1104f-3908-4013-a1f9-76ba2738e37c, S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b, _, _, _)
AND
QRY_OnlyOnce("GOB_DrowCommander_Init", _, _, _, _)
THEN
DB_NOOP(1);


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act2"
