Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_AutoSaveTrigger(S_LOW_JaheirasHouseAutosaveTrigger_7fd3d1fb-f7d3-4b91-b269-e8ff1fa803bd);
DB_Dialogs(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, LOW_JaheirasHouse_EldestDaughter_090eb987-e31a-8163-d340-36267a7d787e);
DB_Dialogs(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_EldestSon_8334ac7a-2337-b425-7c1a-850bc8a33b4e);
DB_Dialogs(S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56);
DB_Dialogs(S_LOW_JaheirasHouse_JaheiraMiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b, LOW_JaheirasHouse_MiddleDaughter_36a5a0e6-6933-a076-23a3-a0932b5af50e);
DB_Dialogs(S_LOW_JaheirasHouse_JaheiraYoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c, LOW_JaheirasHouse_YoungestSon_202ddf3d-87d7-1337-40b6-31eacad44879);
DB_Dialogs(S_LOW_JaheirasHouse_PostmasterBadger_4655b52d-4a43-4ddb-bb9b-7e18e47cb5d9, LOW_JaheirasHouse_PostmasterBadger_daaf32b8-98e4-04df-95a4-b1cec7a9d789);
DB_Dialogs(S_LOW_JaheirasHouse_Rat001_ee87e59a-1901-425b-b316-94d58ca62755, LOW_JaheirasHouse_MessengerRat001_63b3b3b3-7519-fc56-93c6-cda046fa0f60);
DB_Dialogs(S_LOW_JaheirasHouse_Rat002_3ba2cc06-60c1-4db0-b9c8-d1af77298e68, LOW_JaheirasHouse_MessengerRat002_66270a48-58f5-91fa-56e1-d3be45804e54);
DB_Dialogs(S_LOW_JaheirasHouse_Rat003_486228f2-74ad-45aa-b64f-8ab41866124a, LOW_JaheirasHouse_MessengerRat003_f7e639dc-8313-f253-4a74-b9326a46b593);
DB_Dialogs(S_LOW_JaheirasHouse_Rat004_c9e8fe58-0c94-4c86-9854-23c90f56b92d, LOW_JaheirasHouse_MessengerRat004_62529fa9-4aaa-e0f9-07c7-d2c42b024607);
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_EldestDaughter_090eb987-e31a-8163-d340-36267a7d787e, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b, LOW_JaheiraAndFamily_OM_Jaheira_COM_e994dbe5-5db8-4c05-eb2e-2690ca2d134e, LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b);
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_EldestSon_8334ac7a-2337-b425-7c1a-850bc8a33b4e, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndSon01_OM_Jaheira_OOM_c081f33f-ef09-fb55-93db-9d757942fef6, LOW_JaheiraAndSon01_OM_Jaheira_COM_c887de15-c086-84d8-c25d-7229b29ec809, LOW_JaheiraAndSon01_OM_Jaheira_OOM_c081f33f-ef09-fb55-93db-9d757942fef6);
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_MiddleDaughter_36a5a0e6-6933-a076-23a3-a0932b5af50e, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndDaughter02_OM_Jaheira_OOM_c65c0eae-3ee3-e41b-7ac1-3ad5310fe517, LOW_JaheiraAndDaughter02_OM_Jaheira_COM_1efb9f66-d39b-ea37-b41b-fa71c386398c, LOW_JaheiraAndDaughter02_OM_Jaheira_OOM_c65c0eae-3ee3-e41b-7ac1-3ad5310fe517);
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_YoungestSon_202ddf3d-87d7-1337-40b6-31eacad44879, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndSon02_OM_Jaheira_OOM_fa080372-ae4e-ebcc-2d85-db65ea3608b5, LOW_JaheiraAndSon02_OM_Jaheira_COM_36ad2b44-8361-fa5a-28e6-95a1eae44417, LOW_JaheiraAndSon02_OM_Jaheira_OOM_fa080372-ae4e-ebcc-2d85-db65ea3608b5);
DB_SpotPlayers_HasTag(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", JAHEIRA_2c948b46-0d8a-426b-ad8b-5f41233df4c1, 1);
DB_SpotPlayers_SpotTrigger(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", S_LOW_JaheirasHouse_FigTrigger_c24252d6-d7fc-4411-8715-325482d928b3);
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingJaheiraStop_172957ab-963f-40cc-acda-097ba4c22f34);
DB_SpotPlayers_SpotTrigger(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", S_LOW_JaheirasHouse_FigTrigger_c24252d6-d7fc-4411-8715-325482d928b3);
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingAnyoneStop_61528adc-ea0b-4840-b34f-6773dec6699c);
DB_SpotPlayers_Continuous(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone");
DB_State_Current(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_Start");
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_Start", 0);
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundStudy", 50);
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundSecretBasement", 100);
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_EnteredSecretBasement", 150);
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_SpottedGrove", 200);
DB_State_Priority(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundKhalidsGift", 250);
DB_State_Flags(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundStudy", LOW_JaheirasHouse_State_SawStudy_deeaf401-6a5f-4c3d-8541-d07251b476e4);
DB_State_Flags(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundSecretBasement", LOW_JaheirasHouse_State_FoundBasement_9088478d-690a-4ccc-b9d5-3b157f9770c9);
DB_State_Flags(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_EnteredSecretBasement", LOW_JaheirasHouse_State_SawBasement_b925fec0-8400-444f-804b-fd4e2fccbbec);
DB_State_Flags(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_SpottedGrove", LOW_JaheirasHouse_Event_SawGrove_bbacdd66-8d74-4b92-a468-ee100616eef0);
DB_State_Flags(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraADs_FoundKhalidsGift", LOW_JaheirasHouse_State_KhalidGiftComment_e1d1a3f9-e696-453e-a2c5-b37f1995b05a);
DB_HasItemEvent(S_LOW_JaheiraSecretScroll_94609102-443a-4a11-a6e4-e6feffa02b53, LOW_JaheirasHouse_State_HasJaheiraScroll_bf14af6d-1735-4260-9f43-2c7d52f62104);
DB_JaheirasHouse_MovePuzzleItem(1, 0, S_LOW_JaheirasHouse_CentralDesk_e63f517c-3705-42d6-a69e-0be1c34fa35b, "LOW_JaheirasHouse_CombinedItem");
DB_JaheirasHouse_MovePuzzleItem(0, 1, S_LOW_JaheirasHouse_CentralDesk_e63f517c-3705-42d6-a69e-0be1c34fa35b, "LOW_JaheirasHouse_CombinedItem");
DB_JaheirasHouse_MovePuzzleItem(1, 0, S_LOW_JaheirasHouse_CentralDesk_e63f517c-3705-42d6-a69e-0be1c34fa35b, "LOW_JaheirasHouse_JaheiraBasementExit");
DB_JaheirasHouse_CombinedItemEntityEvent(S_LOW_JaheirasHouse_HarperPinSlot_d96fa8b4-3bf3-44c4-8ad7-79adb43fe9d5, "LOW_JaheirasHouse_CombinedItem");
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_MiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_YoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_PostmasterBadger_4655b52d-4a43-4ddb-bb9b-7e18e47cb5d9);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_Rat001_ee87e59a-1901-425b-b316-94d58ca62755);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_Rat002_3ba2cc06-60c1-4db0-b9c8-d1af77298e68);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_Rat003_486228f2-74ad-45aa-b64f-8ab41866124a);
DB_JaheirasHouse_JaheiraFamilyLeaves(S_LOW_JaheirasHouse_Rat004_c9e8fe58-0c94-4c86-9854-23c90f56b92d);
DB_JaheirasHouse_JaheiraFamilyFighters(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c);
DB_JaheirasHouse_JaheiraFamilyFighters(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f);
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_JaheirasDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, S_LOW_JaheiraEldestDaughterDisperseTrigger_e7f012be-87f6-465e-bb1c-77af312d8212);
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_JaheirasSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, S_LOW_JaheiraEldestSonDisperseTrigger_3b6dff28-e081-4447-9ea9-3e874af50afa);
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_MiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b, S_LOW_JaheiraMiddleDaughterDisperseTrigger_87304e75-8462-47da-8341-1f6c0ef3ed08);
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, S_LOW_JaheiraYoungestDisperseTrigger_1add9ee3-4ab2-4141-8cf8-70d8cf0e8efd);
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_YoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c, S_LOW_JaheiraYoungestSonDisperseTrigger_77142563-520d-41ed-bfb1-b3dbf188e61f);
DB_JaheirasHouse_FamilyAdditionalSpeakers(S_LOW_JaheirasHouse_MiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b);
DB_JaheirasHouse_FamilyAdditionalSpeakers(S_LOW_JaheirasHouse_JaheirasSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f);
DB_JaheirasHouse_FamilyAdditionalSpeakers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);
DB_JaheirasHouse_FamilyAdditionalSpeakers(S_LOW_JaheirasHouse_YoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c);
SetCanInteract(S_LOW_JaheirasHouse_BasementTransition_793931e4-eb7b-4814-9884-543b73a26f39, 0);
DB_HasItemEvent(S_LOW_JaheirasHouse_JaheiraHarperPin_0897e01c-6f5f-484e-b10b-9dd772f11d1a, LOW_JaheirasHouse_Event_HasHarperPin_e3e068b3-1afa-469e-831e-e07fea14a23d);
DB_GiveItemToEvent(S_LOW_JaheirasHouse_JaheiraHarperPin_0897e01c-6f5f-484e-b10b-9dd772f11d1a, LOW_JaheirasHouse_Event_GivenHarperPin_c20b7bb4-9e8b-4172-8625-3a806fc03216);
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, "Fire", "BURNING");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Thunder", "SHOCKED");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Lightning", "SHOCKED");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, "Cold", "FROZEN");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, "Poison", "POISONED");
DB_JaheirasHouse_ElementalPillarsShocked("Thunder");
DB_JaheirasHouse_ElementalPillarsShocked("Lightning");
DB_JaheirasHouse_ElementalPillarSpells(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, "Target_GlyphOfWarding_Fire");
DB_JaheirasHouse_ElementalPillarSpells(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Target_GlyphOfWarding_Lightning");
DB_JaheirasHouse_ElementalPillarSpells(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, "Target_GlyphOfWarding_Cold");
DB_JaheirasHouse_ElementalPillarSpells(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, "Target_GlyphOfWarding_Acid");
DB_JaheirasHouse_ElementalPillarHelpers(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, S_LOW_JaheirasHouse_HelperFireOrb_a4bb00fd-862e-4b72-ac4c-cfd623ed9cb0);
DB_JaheirasHouse_ElementalPillarHelpers(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, S_LOW_JaheirasHouse_HelperThunderOrb_ecd5b425-2d8b-4175-959e-5047a6b107d7);
DB_JaheirasHouse_ElementalPillarHelpers(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, S_LOW_JaheirasHouse_HelperColdOrb_544d32a5-7b03-4265-bb8f-8f6c4fa2b618);
DB_JaheirasHouse_ElementalPillarHelpers(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, S_LOW_JaheirasHouse_HelperAcidOrb_d9088fcf-5276-465c-a030-218ef418719a);
DB_JaheirasHouse_NeedsNewTrap(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, "Target_GlyphOfWarding_Fire");
DB_JaheirasHouse_NeedsNewTrap(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Target_GlyphOfWarding_Lightning");
DB_JaheirasHouse_NeedsNewTrap(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, "Target_GlyphOfWarding_Cold");
DB_JaheirasHouse_NeedsNewTrap(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, "Target_GlyphOfWarding_Acid");
DB_JaheirasHouse_AllowedNewTrap(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb);
DB_JaheirasHouse_AllowedNewTrap(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1);
DB_JaheirasHouse_AllowedNewTrap(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1);
DB_JaheirasHouse_AllowedNewTrap(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d);
SetOnStage(S_LOW_JaheirasHouse_HiddenPlatform1_ba4b60d9-80ff-44b0-8f99-3a48558ecce4, 0);
SetOnStage(S_LOW_JaheirasHouse_HiddenPlatform2_fa43cf65-3ada-4043-9fd3-9b7f704e01ee, 0);
SetOnStage(S_LOW_JaheirasHouse_HiddenPlatform3_0fba8a7b-df61-4cbc-96de-de7451671cd5, 0);
DB_SpotPlayers_HasTag(S_LOW_JaheirasHouse_JaheirasDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, "LOW_JaheirasHouse_FamilySpottedJaheira", JAHEIRA_2c948b46-0d8a-426b-ad8b-5f41233df4c1, 1);
DB_SpotPlayers(S_LOW_JaheirasHouse_JaheirasDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, "LOW_JaheirasHouse_FamilySpottedJaheira", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_RionSpottingStop_c1baf690-56c4-4997-84e9-02c24e5a15b0);
DB_Children(S_LOW_JaheirasHouse_MiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b);
DB_Children(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);
DB_Children(S_LOW_JaheirasHouse_YoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c);
DB_JaheirasHouse_JaheiraAndMinsc(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
DB_JaheirasHouse_JaheiraAndMinsc(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);
DB_JaheirasHouse_DeadFamilyAD(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, LOW_JaheirasHouse_PAD_JaheiraGoesHostile_c5c7e01a-8c44-69bb-02e2-198708123b3b);
DB_JaheirasHouse_DeadFamilyAD(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, LOW_JaheirasHouse_PAD_MinscGoesHostile_306c1fe5-cd54-4414-d1e4-1bb575ebdeb5);
DB_JaheirasHouse_ExclusiveReacts("Murder");
DB_JaheirasHouse_ExclusiveReacts("Assault");
DB_JaheirasHouse_MinscOptionalDialogs(LOW_JaheirasHouse_JaheiraSawFamilyAttacked_d5f74a00-3bf7-c45e-421a-d30f2823bfc9);
DB_JaheirasHouse_MinscOptionalDialogs(LOW_JaheirasHouse_PAD_JaheiraAttackedFamily_8cf5f170-5686-a5aa-328e-0ae80066a87b);
DB_OriginLeavingDialog(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, Jaheira_Leaving_9c96c524-5692-ee30-3ee8-9b1ad4262fb1);
DB_OriginLeavingDialog(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, Minsc_Leaving_17833995-3375-c8cd-621a-678af492c546);
DB_OriginLeavingDialog(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, Jaheira_Leaving_9c96c524-5692-ee30-3ee8-9b1ad4262fb1);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b, S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndFamily_OM_Jaheira_COM_e994dbe5-5db8-4c05-eb2e-2690ca2d134e, S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter01_OM_Jaheira_OOM_c9211982-672e-02e6-2d40-eaad7818f442, S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter01_OM_Jaheira_COM_185068a2-eee0-131a-ab45-e2f61c4a43cf, S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndSon01_OM_Jaheira_OOM_c081f33f-ef09-fb55-93db-9d757942fef6, S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndSon01_OM_Jaheira_COM_c887de15-c086-84d8-c25d-7229b29ec809, S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter02_OM_Jaheira_OOM_c65c0eae-3ee3-e41b-7ac1-3ad5310fe517, S_LOW_JaheirasHouse_JaheiraMiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter02_OM_Jaheira_COM_1efb9f66-d39b-ea37-b41b-fa71c386398c, S_LOW_JaheirasHouse_JaheiraMiddleDaughter_3c83f569-7b33-43aa-bdb0-4dd9dfb5709b);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndSon02_OM_Jaheira_OOM_fa080372-ae4e-ebcc-2d85-db65ea3608b5, S_LOW_JaheirasHouse_JaheiraYoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndSon02_OM_Jaheira_COM_36ad2b44-8361-fa5a-28e6-95a1eae44417, S_LOW_JaheirasHouse_JaheiraYoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c);
DB_LOW_JaheirasHouse_ADList("LOW_JaheirasHouse_JaheiraDoneWithOM", "LOW_JaheirasHouse_JaheiraADs_FoundStudy");
DB_LOW_JaheirasHouse_ADList("LOW_JaheirasHouse_JaheiraMovedDesk", "LOW_JaheirasHouse_JaheiraADs_FoundSecretBasement");
DB_LOW_JaheirasHouse_ADList("LOW_JaheirasHouse_JaheiraInBasement", "LOW_JaheirasHouse_JaheiraADs_EnteredSecretBasement");
DB_LOW_JaheirasHouse_ADList("LOW_JaheirasHouse_JaheiraInGrove", "LOW_JaheirasHouse_JaheiraADs_SpottedGrove");
DB_LOW_JaheirasHouse_ADList("LOW_JaheirasHouse_FoundKhalidGift", "LOW_JaheirasHouse_JaheiraADs_FoundKhalidsGift");
TriggerRegisterForCharacter(S_LOW_JaheiraBasementADTrigger_88c262f3-feca-4121-8679-fecdd0cfbc68, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
TriggerRegisterForCharacter(S_LOW_JaheiraOrbTrigger_03b7e147-fc89-4289-aff8-b9b1f0e658a9, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
TriggerRegisterForCharacter(S_LOW_JaheiraGroveTrigger_5946cc1b-2c0d-449d-be95-54786d2786ad, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
DB_KnowledgeCheckItem_AD("LOW_JaheirasHouse_OrbArcanaCheck", S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, "Arcana", Act3_Medium_77cee1c4-384a-4217-b670-67db3c7add57, LOW_JaheirasHouse_AD_ElementalOrbArcana_2b161b1b-aede-15a7-1e1c-e5c93c17bace, LOW_JaheirasHouse_State_DecipheredOrbs_b743bfdd-1e54-483a-99db-18c0dc4faf0e);
DB_KnowledgeCheckItem_AD("LOW_JaheirasHouse_OrbArcanaCheck", S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Arcana", Act3_Medium_77cee1c4-384a-4217-b670-67db3c7add57, LOW_JaheirasHouse_AD_ElementalOrbArcana_2b161b1b-aede-15a7-1e1c-e5c93c17bace, LOW_JaheirasHouse_State_DecipheredOrbs_b743bfdd-1e54-483a-99db-18c0dc4faf0e);
DB_KnowledgeCheckItem_AD("LOW_JaheirasHouse_OrbArcanaCheck", S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, "Arcana", Act3_Medium_77cee1c4-384a-4217-b670-67db3c7add57, LOW_JaheirasHouse_AD_ElementalOrbArcana_2b161b1b-aede-15a7-1e1c-e5c93c17bace, LOW_JaheirasHouse_State_DecipheredOrbs_b743bfdd-1e54-483a-99db-18c0dc4faf0e);
DB_KnowledgeCheckItem_AD("LOW_JaheirasHouse_OrbArcanaCheck", S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, "Arcana", Act3_Medium_77cee1c4-384a-4217-b670-67db3c7add57, LOW_JaheirasHouse_AD_ElementalOrbArcana_2b161b1b-aede-15a7-1e1c-e5c93c17bace, LOW_JaheirasHouse_State_DecipheredOrbs_b743bfdd-1e54-483a-99db-18c0dc4faf0e);
PROC_JaheirasHouse_CheckForJaheiraDeath();
DB_GlobalFlagReactionAfterDialog(LOW_JaheirasHouse_State_YoungestTriedToStopEntry_9556ac12-1bfd-4b4d-8008-cc89736c5f3f, LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56);
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_FireOrb_6282c24b-f644-488a-90c4-83bf70d5c9cb, "Fire", "BURNING");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Thunder", "SHOCKED");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, "Lightning", "SHOCKED");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_IceOrb_c5ce37ee-6539-4f64-9c12-d97cfdeb27f1, "Cold", "FROZEN");
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_PoisonOrb_10ba625b-7a15-453a-8aa9-4e30c6bae65d, "Poison", "POISONED");
DB_JaheirasHouse_JaheiraItemDialogs(S_LOW_JaheirasHouse_SecretRoomBookcase_dbb64952-49e7-4ab8-a4c6-d4d3489ff565, LOW_JaheiraSecretRoom_OM_Jaheira_COM_da0578d7-bc24-6132-865d-9719fafd3409, LOW_JaheirasHouse_State_StoppedPlayerAtBookcase_53ec576a-34fe-48ce-88c7-4ad95b754328, "VB");
DB_OriginMayLeaveDialog(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, LOW_JaheirasHouse_JaheiraSawFamilyAttacked_d5f74a00-3bf7-c45e-421a-d30f2823bfc9);
DB_OriginMayLeaveDialog(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, LOW_JaheirasHouse_MinscSawFamilyAttacked_5ef17559-f24a-7ca8-e8a0-17026a4280fb);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_AD_EldestSonCombatAD001_dc876492-db38-c737-f1cc-dac12c078a5c);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_AD_EldestSonCombatAD002_c8cff00a-5728-c06a-45f0-d6857bd47b84);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_AD_EldestSonCombatAD003_b4130e70-7bb8-f053-dbca-78578ff83be1);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, LOW_JaheirasHouse_AD_EldestDaughterCombatAD001_89e95a60-7339-2e37-1807-c570dca99831);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, LOW_JaheirasHouse_AD_EldestDaughterCombatAD002_6856d0f9-ae91-de0c-1c0d-ff7e0b88ba7f);
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, LOW_JaheirasHouse_AD_EldestDaughterCombatAD003_e4ae311f-5bc6-9ede-41a0-96060ab3b7ab);
DB_OneShot_VoiceBarkTrigger(S_LOW_JaheiraGroveTrigger_5946cc1b-2c0d-449d-be95-54786d2786ad, LOW_JaheirasHouse_VB_JaheiraGrove_3761d103-01ea-dd27-7bcd-ffeb4210bb9c);
Equip(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, S_LOW_JaheirasHouse_FigsSword_a4bfb4e7-383c-4fcf-8644-a48fe3e07e63, 1, 0, 1);
DB_GlobalFlagReactionAfterDialog(LOW_JaheirasHouse_State_GranddaughterConfrontedJaheira_f2f6c8b6-b241-4f92-bc43-984cbeed7a68, LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56);
DB_FlagReactionAfterDialog(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56);

KBSECTION
IF
DualEntityEvent(_, S_LOW_JaheiraOrbPressurePlate_6b9084aa-8b00-4913-8f89-8799081c641c, "LOW_JaheirasHouse_PressurePlateOff", (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_JaheirasHouse_GlyphAndPillarDisable();

PROC
PROC_JaheirasHouse_GlyphAndPillarDisable()
THEN
DB_JaheirasHouse_PausePillars(1);

PROC
PROC_JaheirasHouse_GlyphAndPillarDisable()
AND
DB_JaheirasHouse_ElementalPillars(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_JaheirasHouse_RemoveGlyphs(_Var1);

IF
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_SetRelationToPlayers(ACT3_LOW_JaheirasHouse_JaheirasTraps_760e3624-f809-4e23-8509-866cbd0738c6, 100);

IF
DB_PartOfTheTeam(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
AND NOT
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_SetRelationToPlayers(ACT3_LOW_JaheirasHouse_JaheirasTraps_760e3624-f809-4e23-8509-866cbd0738c6, 0);

PROC
PROC_Origins_CompanionLeavePermanently(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_SetRelationToPlayers(ACT3_LOW_JaheirasHouse_JaheirasTraps_760e3624-f809-4e23-8509-866cbd0738c6, 0);

IF
DualEntityEvent(_, S_LOW_JaheiraOrbPressurePlate_6b9084aa-8b00-4913-8f89-8799081c641c, "LOW_JaheirasHouse_PressurePlateOn", (GUIDSTRING)_, (GUIDSTRING)_)
THEN
NOT DB_JaheirasHouse_PausePillars(1);

IF
DB_JaheirasHouse_NeedsNewTrap(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_ActiveGlyph(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_AllowedNewTrap(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_SettingUpTrap(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_PausePillars(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_JaheirasHouse_SettingUpTrap(_Var1);

IF
DB_JaheirasHouse_SettingUpTrap(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarHelpers(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
UseSpell(_Var3, _Var2, _Var1);

IF
StatusAttempt((GUIDSTRING)_Var1, "EXPLOSIVE_RUNES", (GUIDSTRING)_Var2, _, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_ElementalPillarHelpers(_Var4, _Var2, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_NeedsNewTrap(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
DebugText(_Var4, "I'm Creating");
DB_JaheirasHouse_ActiveGlyph(_Var4, _Var1);
NOT DB_JaheirasHouse_NeedsNewTrap(_Var4, _Var5);
NOT DB_JaheirasHouse_SettingUpTrap(_Var4);

IF
AttackedBy(_, (GUIDSTRING)_Var2, (ITEM)_Var3, _, _, _, _, _, _, _)
AND
DB_JaheirasHouse_ActiveGlyph(_Var8, _Var3, _, _, _)
AND
DB_JaheirasHouse_ElementalPillarHelpers(_Var8, _Var2, _, _, _)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var8, _Var9, _, _, _)
THEN
NOT DB_JaheirasHouse_AllowedNewTrap(_Var8);
NOT DB_JaheirasHouse_ActiveGlyph(_Var8, _Var3);
DB_JaheirasHouse_NeedsNewTrap(_Var8, _Var9);
ObjectTimerLaunch(_Var8, "LOW_JaheirasHouse_NewGlyphCooldown", 6000, 1);

IF
CastSpellFailed((GUIDSTRING)_Var1, (STRING)_Var2, _, _, _)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var6, _Var2, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarHelpers(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_JaheirasHouse_AllowedNewTrap(_Var6);
ObjectTimerLaunch(_Var6, "LOW_JaheirasHouse_NewGlyphCooldown", 6000, 1);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "LOW_JaheirasHouse_NewGlyphCooldown", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_ElementalPillars(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
DB_JaheirasHouse_AllowedNewTrap(_Var1);

PROC
PROC_JaheirasHouse_RemoveGlyphs((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_ActiveGlyph(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillarSpells(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var2, 0);
NOT DB_JaheirasHouse_ActiveGlyph(_Var1, _Var2);
DB_JaheirasHouse_NeedsNewTrap(_Var1, _Var3);
NOT DB_JaheirasHouse_AllowedNewTrap(_Var1);
ObjectTimerLaunch(_Var1, "LOW_JaheirasHouse_NewGlyphCooldown", 6000, 1);

PROC
PROC_JaheirasHouse_CheckForJaheiraDeath()
AND
DB_PermaDefeated(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_FamilyLeaves();
PROC_LOW_JaheirasHouse_FightersLeave();

PROC
PROC_CRIME_AttackedInCombat((CHARACTER)_Var1, (CHARACTER)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (CHARACTER)_Var1)
AND
DB_JaheirasHouse_FamilyDisperse(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsInCombat(_Var2, 1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_FamilyLeaves();

QRY
QRY_CRIME_BlockRegisterCrime((CHARACTER)_Var1, (STRING)_Var2, _, (CHARACTER)_Var4, (INTEGER)_Var5)
AND
DB_JaheirasHouse_ExclusiveReacts(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_FamilyDisperse(_Var4, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_JaheirasHouse_JaheiraMinscInRange(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_FamilyLeaves();
PROC_SetRelationToPlayers(ACT3_LOW_JaheirasHouse_JaheirasFamily_2a1a2442-56e9-48a9-9b33-94f5857f7b09, 0);

QRY
QRY_JaheirasHouse_JaheiraMinscInRange((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_JaheirasHouse_JaheiraAndMinsc(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraAndMinsc(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CRIME_BlockRegisterCrime((CHARACTER)_Var1, (STRING)_Var2, _, (CHARACTER)_Var4, (INTEGER)_Var5)
AND
DB_JaheirasHouse_ExclusiveReacts(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_FamilyDisperse(_Var4, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_JaheiraAndMinsc(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraAndMinsc(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
_Var7 != _Var1
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, _Var7, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_JaheiraMinscReaction", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(_Var7);
PROC_LOW_JaheirasHouse_FamilyLeaves();

QRY
QRY_CRIME_BlockRegisterCrime((CHARACTER)_Var1, (STRING)_Var2, _, (CHARACTER)_Var4, (INTEGER)_Var5)
AND
DB_JaheirasHouse_ExclusiveReacts(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_FamilyDisperse(_Var4, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraAndMinsc(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var7, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_JaheiraAndMinsc(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_JaheiraMinscReaction", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_CompanionAttackedFamily_f30bb5a9-ca96-40a5-8eba-30c17930c3c3);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(_Var1);
PROC_LOW_JaheirasHouse_FamilyLeaves();

QRY
QRY_CRIME_BlockRegisterCrime((CHARACTER)_Var1, (STRING)_Var2, _, (CHARACTER)_Var4, (INTEGER)_Var5)
AND
DB_JaheirasHouse_ExclusiveReacts(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_FamilyDisperse(_Var4, _, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraAndMinsc(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_JaheirasHouse_PlayersInRange(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_JaheiraMinscReaction", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_CompanionAttackedFamily_f30bb5a9-ca96-40a5-8eba-30c17930c3c3);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_FamilyLeaves();
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscAD(_Var1);

IF
EnteredCombat((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_JaheirasHouse_JaheiraFamilyFighters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
IsEnemy(_Var3, _Var1, 1, _Var1, _Var1)
THEN
DB_LOW_JaheirasHouse_KidCombat(_Var2);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_PlayerAttackedFamily_f505ff06-486a-4d8d-9986-95f4f91f9094);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2);
PROC_LOW_JaheirasHouse_FamilyLeaves();

IF
DB_LOW_JaheirasHouse_KidCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CombatReact_AD_OnTurn(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, LOW_JaheirasHouse_PAD_JaheiraGoesHostile_c5c7e01a-8c44-69bb-02e2-198708123b3b, 1);
PROC_Origins_CompanionLeavePermanently(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "JaheiraHostile");
PROC_ClearOriginLeavingDialogs(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
PROC_SetRelationToPlayers(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, 0);
DB_Origin_BecameHostile(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

IF
DB_LOW_JaheirasHouse_KidCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CombatReact_AD_OnTurn(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, LOW_JaheirasHouse_PAD_MinscGoesHostile_306c1fe5-cd54-4414-d1e4-1bb575ebdeb5, 1);
PROC_Origins_CompanionLeavePermanently(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, "MinscHostile");
PROC_ClearOriginLeavingDialogs(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);
PROC_SetRelationToPlayers(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, 0);
DB_Origin_BecameHostile(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

QRY
QRY_JaheirasHouse_PlayersInRange((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_JaheiraAndMinsc(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_JaheiraTurnsHostile", _, _, _, _)
THEN
DB_CombatReact_AD_OnTurn(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, LOW_JaheirasHouse_PAD_JaheiraGoesHostile_c5c7e01a-8c44-69bb-02e2-198708123b3b, 1);
PROC_LOW_JaheirasHouse_SetupJaheiraAndOrMinscHostile(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
AND
QRY_IsInRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, 20, _, _)
THEN
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_MinscTurnsHostile", _, _, _, _)
THEN
DB_CombatReact_AD_OnTurn(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, LOW_JaheirasHouse_PAD_MinscGoesHostile_306c1fe5-cd54-4414-d1e4-1bb575ebdeb5, 1);
PROC_LOW_JaheirasHouse_SetupJaheiraAndOrMinscHostile(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
AND
QRY_IsInRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, 20, _, _)
THEN
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscReact(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_LOW_JaheirasHouse_SetupJaheiraAndOrMinscHostile((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GLO_PartyMembers_OriginalAlignment(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_Origins_CompanionLeavePermanently(_Var1, "CompanionHostile");
PROC_ClearOriginLeavingDialogs(_Var1);
PROC_SetRelationToPlayers(_Var2, 0);
DB_Origin_BecameHostile(_Var1);

PROC
PROC_LOW_JaheirasHouse_SetupJaheiraAndOrMinscHostile(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
AND
DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_AD_EldestSonCombatAD003_b4130e70-7bb8-f053-dbca-78578ff83be1, _, _, _)
THEN
NOT DB_CombatReact_AD_OnNextTurn(S_LOW_JaheirasHouse_JaheirasEldestSon_ebfe9029-2a74-40eb-bbd1-8e5d0ec8fe1f, LOW_JaheirasHouse_AD_EldestSonCombatAD003_b4130e70-7bb8-f053-dbca-78578ff83be1);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraFamilyFighters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraAndMinsc(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(_Var1, _Var2, 25, _Var1, _Var1)
AND
DB_JaheirasHouse_DeadFamilyAD(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_GLO_PartyMembers_OriginalAlignment(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var3, _Var2);
PROC_Origins_CompanionLeavePermanently(_Var2, "CompanionHostile");
PROC_ClearOriginLeavingDialogs(_Var2);
PROC_SetRelationToPlayers(_Var4, 0);
DB_Origin_BecameHostile(_Var2);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscAD(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_CompanionAttackFamily_59e93f3e-53d5-0b87-c27f-3b73ac6bc829, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscAD(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_CompanionAttackFamily_59e93f3e-53d5-0b87-c27f-3b73ac6bc829, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_LOW_JaheirasHouse_JaheiraAndOrMinscAD(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _, _)
AND NOT
QRY_SpeakerIsAvailableAndInDialogRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, _, _, _)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_CompanionAttackFamily_59e93f3e-53d5-0b87-c27f-3b73ac6bc829, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

PROC
PROC_StartDialog_AddExtraSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_JaheirasHouse_MinscOptionalDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var2, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);
SetFlag(LOW_JaheirasHouse_State_CompanionConfrontedParty_63f9c1c7-1f5e-4c42-8512-0d34334b041e, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

IF
TextEvent("TestJaheiraFamilyLeave", _, _, _, _)
AND
DB_GlobalFlag(LOW_JaheirasHouse_State_FamilyHasReasonToLeave_a60ebbac-f4a7-4ed8-a565-4a10dbb641e2, _, _, _, _)
THEN
PROC_LOW_JaheirasHouse_FamilyLeaves();

PROC
PROC_LOW_JaheirasHouse_FamilyLeaves()
AND
DB_JaheirasHouse_JaheiraFamilyLeaves(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_NotifyWhenReadyToMoveOn(_Var1, "LOW_JaheirasHouse_FamilyReadyToLeave");

PROC
PROC_ReadyToMoveOn((CHARACTER)_Var1, "LOW_JaheirasHouse_FamilyReadyToLeave", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_LOW_JaheirasHouse_TateDropsPin();
PROC_DisappearOutOfSight(_Var1, "Run", 1, "LOW_JaheirasHouse_FamilyLeaves");

PROC
PROC_LOW_JaheirasHouse_TateDropsPin()
AND
IsInInventoryOf(S_LOW_JaheirasHouse_YoungestSon_0d760747-8fab-414e-8ccc-a925ebb6da2c, S_LOW_JaheirasHouse_JaheiraHarperPin_0897e01c-6f5f-484e-b10b-9dd772f11d1a, 1, _, _)
THEN
Drop(S_LOW_JaheirasHouse_JaheiraHarperPin_0897e01c-6f5f-484e-b10b-9dd772f11d1a);

PROC
PROC_ReadyToMoveOn_Failed((CHARACTER)_Var1, "LOW_JaheirasHouse_FamilyReadyToLeave", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetOnStage(_Var1, 0);

PROC
PROC_LOW_JaheirasHouse_FightersLeave()
AND
DB_JaheirasHouse_JaheiraFamilyFighters(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_NotifyWhenReadyToMoveOn(_Var1, "LOW_JaheirasHouse_FighterReadyToLeave");

PROC
PROC_ReadyToMoveOn((CHARACTER)_Var1, "LOW_JaheirasHouse_FighterReadyToLeave", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Run", 1, "LOW_JaheirasHouse_FighterLeaves");

PROC
PROC_SpotPlayers_Spotted(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_StartDialog(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_YoungestTriedToStopEntry_9556ac12-1bfd-4b4d-8008-cc89736c5f3f);
SetFlag(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

PROC
PROC_SpotPlayers_Spotted(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var1 != S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a
AND
QRY_StartDialog(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_StartDialog_AddExtraSpeakers(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_SpotPlayers_Spotted(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _)
AND
DB_GlobalFlag(LOW_JaheirasHouse_State_YoungestTriedToStopEntry_9556ac12-1bfd-4b4d-8008-cc89736c5f3f, _, _, _, _)
THEN
SetFlag(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

IF
FlagSet(LOW_JaheirasHouse_State_YoungestTriedToStopEntry_9556ac12-1bfd-4b4d-8008-cc89736c5f3f, _, (INTEGER)_Var2, _, _)
AND NOT
DB_GlobalFlag(LOW_JaheirasHouse_State_JaheiraSpokeToFamily_efad8157-79e3-46a0-ae9e-3bb6f6a191d0, _, _, _, _)
AND
GetFlag(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, 0, _, _)
THEN
PROC_SpotPlayers_StopSpotting("LOW_JaheirasHouse_YoungestDaughterLookingForSomeone");

IF
FlagSet(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_SpotPlayers_StopSpotting("LOW_JaheirasHouse_YoungestDaughterLookingForJaheira");
PROC_SpotPlayers_StopSpotting("LOW_JaheirasHouse_YoungestDaughterLookingForSomeone");

IF
DialogEnded(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_GlobalFlag(LOW_JaheirasHouse_State_GranddaughterConfrontedJaheira_f2f6c8b6-b241-4f92-bc43-984cbeed7a68, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_YoungestMovedInside", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, S_LOW_JaheiraGranddaughterOMMoveTrigger2_d9e0eb17-7b4b-4885-a4cc-55d849af9a02, "Run", "LOW_JaheirasHouse_GranddaughterInPositionForGroupChat");
SetFlag(LOW_JaheirasHouse_State_GranddaughterMoved_6649dd76-2000-4774-bcc6-7272baaec9da, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

IF
DialogEnded(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_GlobalFlag(LOW_JaheirasHouse_State_GranddaughterConfrontedJaheira_f2f6c8b6-b241-4f92-bc43-984cbeed7a68, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(LOW_JaheirasHouse_State_GranddaughterSawJaheira_4041963d-4576-4041-96e0-26501bff40ba, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_YoungestMovedInside", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, S_LOW_JaheiraGranddaughterOMMoveTrigger2_d9e0eb17-7b4b-4885-a4cc-55d849af9a02, "Run", "LOW_JaheirasHouse_GranddaughterInPositionForGroupChatNoAD");
PROC_TryStartAD(LOW_JaheirasHouse_AD_Granddaughter_2333f7dd-af95-c76e-5110-767d3e27bd0a, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
SetFlag(LOW_JaheirasHouse_State_GranddaughterMoved_6649dd76-2000-4774-bcc6-7272baaec9da, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

IF
DB_GlobalFlag(LOW_JaheirasHouse_State_JaheiraSpokeToFamily_efad8157-79e3-46a0-ae9e-3bb6f6a191d0, _, _, _, _)
THEN
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_YoungestDaughter_777b0c3e-c35c-eacf-09d8-40e22e807a56, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndDaughter03_OM_Jaheira_OOM_16dcd827-02f2-9262-8957-25c9a3ed4d9d, LOW_JaheiraAndDaughter03_OM_Jaheira_COM_47a52ee2-2e03-6772-5d43-e0433c182c3a, LOW_JaheiraAndDaughter03_OM_Jaheira_OOM_16dcd827-02f2-9262-8957-25c9a3ed4d9d);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter03_OM_Jaheira_OOM_16dcd827-02f2-9262-8957-25c9a3ed4d9d, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);
DB_LOW_JaheirasHouse_OriginMomentList(LOW_JaheiraAndDaughter03_OM_Jaheira_COM_47a52ee2-2e03-6772-5d43-e0433c182c3a, S_LOW_JaheirasHouse_JaheiraYoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

IF
DB_GlobalFlag(LOW_JaheirasHouse_State_JaheiraSpokeToFamily_efad8157-79e3-46a0-ae9e-3bb6f6a191d0, _, _, _, _)
AND
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingAnyoneStop_61528adc-ea0b-4840-b34f-6773dec6699c, _)
THEN
PROC_SpotPlayers_StopSpotting("LOW_JaheirasHouse_YoungestDaughterLookingForSomeone");

IF
DB_GlobalFlag(LOW_JaheirasHouse_State_JaheiraSpokeToFamily_efad8157-79e3-46a0-ae9e-3bb6f6a191d0, _, _, _, _)
AND
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingJaheiraStop_172957ab-963f-40cc-acda-097ba4c22f34, _)
THEN
PROC_SpotPlayers_StopSpotting("LOW_JaheirasHouse_YoungestDaughterLookingForJaheira");

IF
EntityEvent((GUIDSTRING)_Var1, "LOW_JaheirasHouse_GranddaughterInPositionForGroupChat", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_TryStartAD(LOW_JaheirasHouse_AD_Granddaughter_2333f7dd-af95-c76e-5110-767d3e27bd0a, S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115);

IF
Combined(S_LOW_JaheirasHouse_HarperPinSlot_d96fa8b4-3bf3-44c4-8ad7-79adb43fe9d5, _, _, _, _, (CHARACTER)_Var5, _, _, _, _)
AND
IsOnStage(S_LOW_JaheirasHouse_CentralDesk_e63f517c-3705-42d6-a69e-0be1c34fa35b, _Var7, _, _, _)
AND
DB_Players(_Var5, _, _, _, _)
AND
DB_JaheirasHouse_CombinedItemEntityEvent(S_LOW_JaheirasHouse_HarperPinSlot_d96fa8b4-3bf3-44c4-8ad7-79adb43fe9d5, _Var8, _, _, _)
THEN
PROC_JaheirasHouse_OpenPuzzleItem(_Var8, _Var7);

IF
EntityEvent((GUIDSTRING)_Var1, "LOW_JaheirasHouse_JaheiraBasementExit", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_MovePuzzleItem(_Var2, _, _, "LOW_JaheirasHouse_JaheiraBasementExit", _Var1)
THEN
PROC_JaheirasHouse_OpenPuzzleItem("LOW_JaheirasHouse_JaheiraBasementExit", _Var2);

PROC
PROC_JaheirasHouse_OpenPuzzleItem((STRING)_Var1, (INTEGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_JaheirasHouse_MovePuzzleItem(_Var2, _Var3, _Var4, _Var1, _Var1)
THEN
SetOnStage(_Var4, _Var3);

IF
WentOnStage((ITEM)_Var1, (INTEGER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_JaheirasHouse_MovePuzzleItem(_Var2, _Var3, _Var1, _, _Var1)
THEN
SetCanInteract(S_LOW_JaheirasHouse_BasementTransition_793931e4-eb7b-4814-9884-543b73a26f39, _Var3);

IF
AttackedBy((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, _, (STRING)_Var4, _, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_ElementalPillars(_Var1, _Var4, _Var8, _Var1, _Var1)
AND NOT
DB_JaheirasHouse_ElementalPillarHelpers(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_JaheirasHouse_ElementalPillars(_Var1, _Var4, _Var8);
PROC_PlayPerceptionRevealEffect(_Var1, "LOW_JaheirasHouse_ArcaneOrbSolved");
ApplyStatus(_Var1, _Var8, -1, 1);
PROC_JaheirasHouse_TidyAdditionalShock(_Var8);
NOT DB_JaheirasHouse_AllowedNewTrap(_Var1);
PROC_JaheirasHouse_RemoveGlyphs(_Var1);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_JaheirasHouse_ElementalPillars(_Var1, _Var5, _Var2, _Var1, _Var1)
THEN
NOT DB_JaheirasHouse_ElementalPillars(_Var1, _Var5, _Var2);
PROC_PlayPerceptionRevealEffect(_Var1, "LOW_JaheirasHouse_ArcaneOrbSolved");
PROC_JaheirasHouse_TidyAdditionalShock(_Var2);
PROC_JaheirasHouse_MakeStatusPermanent(_Var2, _Var1);
NOT DB_JaheirasHouse_AllowedNewTrap(_Var1);
PROC_JaheirasHouse_RemoveGlyphs(_Var1);

PROC
PROC_JaheirasHouse_TidyAdditionalShock((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_JaheirasHouse_ElementalPillarsShocked(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_JaheirasHouse_ElementalPillars(S_LOW_JaheirasHouse_ThunderOrb_7caa4451-9a68-4f3a-a22c-6726a3ea34f1, _Var2, _Var1);

PROC
PROC_JaheirasHouse_MakeStatusPermanent((STRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetStatusTurns(_Var2, _Var1, _Var3, _Var1, _Var1)
AND
_Var3 != -1
THEN
RemoveStatus(_Var2, _Var1);
ApplyStatus(_Var2, _Var1, -1, 1);

IF
FlagSet(LOW_JaheirasHouse_State_HasJaheiraScroll_bf14af6d-1735-4260-9f43-2c7d52f62104, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_FoundJaheirasScroll", _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, 20, _Var1, _Var1)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_FoundJaheiraScroll_0dd267d9-f1f1-06dd-3839-22ab8111c396, _Var1);
PROC_GlobalSetFlagAndCache(ORI_Jaheira_Event_DiscoveredScroll_f048a8fe-95a1-2f40-c711-8c3dd155401a);

IF
GameBookInterfaceClosed(S_LOW_JaheiraSecretScroll_94609102-443a-4a11-a6e4-e6feffa02b53, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_FoundJaheirasScroll", _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, 20, _Var1, _Var1)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_FoundJaheiraScroll_0dd267d9-f1f1-06dd-3839-22ab8111c396, _Var1);
PROC_GlobalSetFlagAndCache(ORI_Jaheira_Event_DiscoveredScroll_f048a8fe-95a1-2f40-c711-8c3dd155401a);

IF
DialogEnded(LOW_JaheiraAndSon02_OM_Jaheira_OOM_fa080372-ae4e-ebcc-2d85-db65ea3608b5, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
PROC_LOW_JaheirasHouse_JaheiraTryAD("LOW_JaheirasHouse_JaheiraDoneWithOM");

IF
DialogEnded(LOW_JaheiraAndSon02_OM_Jaheira_COM_36ad2b44-8361-fa5a-28e6-95a1eae44417, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
PROC_LOW_JaheirasHouse_JaheiraTryAD("LOW_JaheirasHouse_JaheiraDoneWithOM");

IF
WentOnStage(S_LOW_JaheirasHouse_CentralDesk_e63f517c-3705-42d6-a69e-0be1c34fa35b, 0, _, _, _)
THEN
PROC_LOW_JaheirasHouse_JaheiraTryAD("LOW_JaheirasHouse_JaheiraMovedDesk");

IF
EnteredTrigger(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_LOW_JaheiraBasementADTrigger_88c262f3-feca-4121-8679-fecdd0cfbc68, _, _, _)
AND
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_LOW_JaheirasHouse_JaheiraTryAD("LOW_JaheirasHouse_JaheiraInBasement");
TriggerUnregisterForCharacter(S_LOW_JaheiraBasementADTrigger_88c262f3-feca-4121-8679-fecdd0cfbc68, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
PROC_PlayPerceptionRevealEffect(S_LOW_JaheiraPressurePlateBox_9db03f25-d023-4a4a-b9b4-746a0ae0c7d9, "LOW_JaheirasHpuse_JaheiraToldAboutPressurePlate");

IF
EnteredTrigger(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_LOW_JaheiraGroveTrigger_5946cc1b-2c0d-449d-be95-54786d2786ad, _, _, _)
AND
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_State_Progress(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", "LOW_JaheirasHouse_JaheiraInGrove");

IF
FlagSet(LOW_JaheirasHouse_Event_FoundKhalidsGift_010d2d26-74f9-4e3d-8437-4c23694dd591, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_Event_FoundKhalidsGift_010d2d26-74f9-4e3d-8437-4c23694dd591);

PROC
PROC_LOW_JaheirasHouse_JaheiraTryAD((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LOW_JaheirasHouse_ADList(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_JaheirasHouse_JaheiraBark(_Var2);

PROC
PROC_JaheirasHouse_JaheiraBark((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
PROC_State_Progress(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "LOW_JaheirasHouse_JaheiraADs", _Var1);
DB_LOW_JaheirasHouse_RetryPAD(LOW_JaheirasHouse_PAD_JaheiraReactions_c13a6dab-afdf-4e80-159b-bfb21cf40f73);

IF
DB_LOW_JaheirasHouse_RetryPAD(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var1, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
NOT DB_LOW_JaheirasHouse_RetryPAD(_Var1);

IF
UseFinished((CHARACTER)_Var1, S_LOW_JaheirasHouse_JaheiraChest_a5a3e6ae-ee96-4cb6-b069-fef38ff19cd1, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsInDialogRange(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, S_LOW_JaheirasHouse_JaheiraChest_a5a3e6ae-ee96-4cb6-b069-fef38ff19cd1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_JaheirasHouse_MinscCommentsOnWeapons", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(LOW_JaheirasHouse_PAD_MinscSawWeapons_406b62e4-35c3-3fed-2555-6d1c6e9b3e94, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba);

IF
EnteredTrigger(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, S_LOW_JaheiraOrbTrigger_03b7e147-fc89-4289-aff8-b9b1f0e658a9, _, _, _)
AND
DB_Players(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _, _, _)
THEN
PROC_TryStartAD(LOW_JaheirasHouse_PAD_JaheiraPointsToOrbs_996d4214-cd42-ba05-efe3-f9fa97fae56f, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
TriggerUnregisterForCharacter(S_LOW_JaheiraOrbTrigger_03b7e147-fc89-4289-aff8-b9b1f0e658a9, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);

PROC
PROC_SpotPlayers_Spotted(S_LOW_JaheirasHouse_JaheirasEldestDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, "LOW_JaheirasHouse_FamilySpottedJaheira", S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _)
AND
QRY_StartDialog(LOW_JaheirasHouse_EldestDaughter_090eb987-e31a-8163-d340-36267a7d787e, S_LOW_JaheirasHouse_JaheirasDaughter_8f5ab254-2d62-4115-a4d4-3b84e6d1896c, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_RionSpottingStop_c1baf690-56c4-4997-84e9-02c24e5a15b0);

IF
DialogEnded(LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_EldestDaughter_090eb987-e31a-8163-d340-36267a7d787e, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndDaughter01_OM_Jaheira_OOM_c9211982-672e-02e6-2d40-eaad7818f442, LOW_JaheiraAndDaughter01_OM_Jaheira_COM_185068a2-eee0-131a-ab45-e2f61c4a43cf, LOW_JaheiraAndDaughter01_OM_Jaheira_OOM_c9211982-672e-02e6-2d40-eaad7818f442);

IF
DialogEnded(LOW_JaheiraAndFamily_OM_Jaheira_COM_e994dbe5-5db8-4c05-eb2e-2690ca2d134e, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
PROC_DefineSingleOriginMoment(LOW_JaheirasHouse_EldestDaughter_090eb987-e31a-8163-d340-36267a7d787e, REALLY_JAHEIRA_8457eb5f-036c-4143-b6cf-447a9f555c7a, LOW_JaheiraAndDaughter01_OM_Jaheira_OOM_c9211982-672e-02e6-2d40-eaad7818f442, LOW_JaheiraAndDaughter01_OM_Jaheira_COM_185068a2-eee0-131a-ab45-e2f61c4a43cf, LOW_JaheiraAndDaughter01_OM_Jaheira_OOM_c9211982-672e-02e6-2d40-eaad7818f442);

PROC
PROC_StartDialog_AddExtraSpeakers(LOW_JaheiraAndFamily_OM_Jaheira_COM_e994dbe5-5db8-4c05-eb2e-2690ca2d134e, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_LOW_JaheirasHouse_AddFamilySpeakers(_Var1);

PROC
PROC_StartDialog_AddExtraSpeakers(LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_LOW_JaheirasHouse_AddFamilySpeakers(_Var1);

PROC
PROC_LOW_JaheirasHouse_AddFamilySpeakers((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_JaheirasHouse_FamilyAdditionalSpeakers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsInTrigger(_Var2, S_LOW_JaheiraFamilyDialogueInclusion_5c5269ff-c866-483b-a00e-99acf461ba95, 1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddSpeakingActor(_Var1, _Var2);

IF
TextEvent("LOW_ResetJaheiraFamily", (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
DB_JaheirasHouse_FamilyDisperse(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, _Var1, "Run", "LOW_JaheirasHouseDebug");
DB_SpotPlayers_HasTag(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", JAHEIRA_2c948b46-0d8a-426b-ad8b-5f41233df4c1, 1);
DB_SpotPlayers_SpotTrigger(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", S_LOW_JaheirasHouse_FigTrigger_c24252d6-d7fc-4411-8715-325482d928b3);
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForJaheira", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingJaheiraStop_172957ab-963f-40cc-acda-097ba4c22f34);
DB_SpotPlayers_SpotTrigger(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", S_LOW_JaheirasHouse_FigTrigger_c24252d6-d7fc-4411-8715-325482d928b3);
DB_SpotPlayers(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone", NULL_00000000-0000-0000-0000-000000000000, LOW_JaheirasHouse_State_FigSpottingAnyoneStop_61528adc-ea0b-4840-b34f-6773dec6699c);
DB_SpotPlayers_Continuous(S_LOW_JaheirasHouse_YoungestDaughter_26cf6556-8d9a-4d10-b2af-3b1d497cc115, "LOW_JaheirasHouse_YoungestDaughterLookingForSomeone");

IF
DialogEnded(LOW_JaheiraAndFamily_OM_Jaheira_OOM_41c550bb-9ed0-99e4-9e04-345f155fc91b, _, _, _, _)
AND
DB_JaheirasHouse_FamilyDisperse(_Var2, _Var3, _, _, _)
THEN
PROC_CharacterMoveTo(_Var2, _Var3, "Walk", "LOW_JaheirasHouse_FamilyStartingIdles");
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_JaheiraMetFamily_9486cabf-8113-47f8-a03f-4a9aba46d140);

QRY
QRY_OriginMoment_PreventRelaunchDialog((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (GUIDSTRING)_Var3, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_LOW_JaheirasHouse_OriginMomentList(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded(LOW_JaheiraAndFamily_OM_Jaheira_COM_e994dbe5-5db8-4c05-eb2e-2690ca2d134e, _, _, _, _)
AND
DB_JaheirasHouse_FamilyDisperse(_Var2, _Var3, _, _, _)
THEN
PROC_CharacterMoveTo(_Var2, _Var3, "Walk", "LOW_JaheirasHouse_FamilyStartingIdles");
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_JaheiraMetFamily_9486cabf-8113-47f8-a03f-4a9aba46d140);

PROC
PROC_BlockUseOfItem((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_JaheirasHouse_JaheiraItemDialogs(_Var2, _Var3, _Var4, _, _Var1)
AND NOT
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_GetBestAvatarForCompanion(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetBestAvatarForCompanion(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var1, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1)
THEN
PROC_LOW_JaheirasHouse_LaunchJaheiraDialog(_Var1, _Var3);

PROC
PROC_BlockUseOfItem((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraItemDialogs(_Var2, _Var3, _Var4, _Var5, _Var1)
AND NOT
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_IsInRange(_Var2, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, 20, _Var1, _Var1)
AND
QRY_GetBestAvatarForCompanion(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QRYRTN_GetBestAvatarForCompanion(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_JaheirasHouse_ProcessJaheiraDialogOption(_Var5);

PROC
PROC_JaheirasHouse_ProcessJaheiraDialogOption("VB", _, _, _, _)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_EnteredSecretRoom_53a8b49b-35a9-d862-ad2a-7e4875071747, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_StoppedPlayerAtBookcase_53ec576a-34fe-48ce-88c7-4ad95b754328);

QRY
QRY_StartDialogFailed(LOW_JaheiraSecretRoom_OM_Jaheira_COM_da0578d7-bc24-6132-865d-9719fafd3409, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, (GUIDSTRING)_Var1, _, _, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_IsInRange(S_LOW_JaheirasHouse_SecretRoomBookcase_dbb64952-49e7-4ab8-a4c6-d4d3489ff565, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, 20, _Var1, _Var1)
THEN
StartVoiceBark(LOW_JaheirasHouse_VB_EnteredSecretRoom_53a8b49b-35a9-d862-ad2a-7e4875071747, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a);
PROC_GlobalSetFlagAndCache(LOW_JaheirasHouse_State_StoppedPlayerAtBookcase_53ec576a-34fe-48ce-88c7-4ad95b754328);

PROC
PROC_LOW_JaheirasHouse_LaunchJaheiraDialog((CHARACTER)_Var1, (DIALOGRESOURCE)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_StartDialog_Fixed(_Var2, S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Var1, _Var1, _Var1)
AND
DB_JaheirasHouse_JaheiraItemDialogs(_Var3, _Var2, _, _, _Var1)
THEN
DB_CustomUseItemResponse(_Var1, _Var3, 0);

IF
UseFinished((CHARACTER)_Var1, S_LOW_JaheirasHouse_KhalidsGiftDisplayCase_c681a4f4-46f8-45b8-a2da-746896434f53, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_FoundKhalidsGift", _Var1, _Var1, _Var1, _Var1)
AND
IsInInventoryOf(S_LOW_JaheirasHouse_KhalidsGift_3282593a-e057-4d69-b8bf-da92058dea75, S_LOW_JaheirasHouse_KhalidsGiftDisplayCase_c681a4f4-46f8-45b8-a2da-746896434f53, 0, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_JaheirasHouse_Event_JaheiraSpokeOfKhalid_f72bd937-37b7-4cd0-b1ec-2c4771d2394c, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LOW_JaheirasHouse_JaheiraTryAD("LOW_JaheirasHouse_FoundKhalidGift");


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act3b"
