Version 1
SubGoalCombiner SGC_AND

INITSECTION
NOT DB_Camp_CustomSleepCutscene("", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight(NULL_00000000-0000-0000-0000-000000000000, -1);
NOT DB_CampNight(NULL_00000000-0000-0000-0000-000000000000, -1, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Camp(NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CampNight_ExclusiveMoment(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement_Approval(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_CampNight_Requirement_Partner(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement_Dating(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement_CanStartDating(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Requirement_SameUser(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_Cancels(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_CancelledBy(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_ExpiresAfter(NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_CampNight_CRD(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_EveryCRDGetsExclamationMark(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_CFM(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_MorningCFM(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_IVB(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_SCO(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_SoloDream(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_RomanceNight(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_AvatarDream(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_MorningIVB(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_OriginCampFlags(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_SetPosition(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CampNight_ForceOnLevelSwap(NULL_00000000-0000-0000-0000-000000000000, "_ReadyCheckIdentifier", 0, 0);
NOT DB_CampNight_ResurrectWhenForced(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Camp_StayInCampAfterMorningCFM(NULL_00000000-0000-0000-0000-000000000000);
DB_CampNightFlags_PartySize(2, CAMP_PartySize_AtLeast2_3bf26823-3143-4d1a-85e6-8a7e04273d77);
DB_CampNightFlags_PartySize(3, CAMP_PartySize_AtLeast3_ed6c9959-36e4-4235-a841-63b395f0fe4e);
DB_CampNightFlags_PartySize(4, CAMP_PartySize_AtLeast4_62130ed1-4567-4f3a-82ed-7801dc58e01a);
NOT DB_Debug_PresetFlags(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);

KBSECTION
IF
DB_CampNight(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_Avatars(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var2, 1000, _Var4, _Var1, _Var1)
THEN
NOT DB_CampNight(_Var1, _Var2);
DB_CampNight(_Var1, _Var4);

IF
DB_CampNight(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_Avatars(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var2, 1000, _Var4, _Var1, _Var1)
THEN
DB_CampNight(_Var1, _Var2);
NOT DB_CampNight(_Var1, _Var4);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_BestCampNight(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_BestCampNight(_Var1, _Var2);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedNight(_Var1);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedSCO(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedSCO(_Var1);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedAvatarDream(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedAvatarDream(_Var1);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedSoloDream(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedSoloDream(_Var1, _Var2);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedRomanceNight(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedRomanceNight(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedMorningCFM(_Var1);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedMorningIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedMorningIVB(_Var1, _Var2);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_Camp_QueuedIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedIVB(_Var1, _Var2);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_CampNight_CompletedQueuedCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_CompletedQueuedCFM(_Var1);

PROC
PROC_CampNight_DecideCampNight()
THEN
PROC_CampNight_PreSelection_Hook();

PROC
PROC_CampNight_PreSelection_Hook()
THEN
DB_NOOP(1);

PROC
PROC_CampNight_DecideCampNight()
AND
DB_CampNight_DEBUG_ForcedEntry(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_Camp_DebugQNight_AllowCampNightInCamp(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_DEBUG_ForcedEntry(_Var1, _Var2);
DB_Camp_QueuedNight(_Var1);

QRY
QRY_Camp_DebugQNight_AllowCampNightInCamp((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_ActiveCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_Camp(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_Camp_DebugQNight_AllowCampNightInCamp((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_ActiveCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Camp(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
QRY_Camp_DebugQNight_AllowCampNightInCamp_ThrowWarning()
AND
_Var2 == 1
THEN
DB_NOOP(1);

QRY
QRY_Camp_DebugQNight_AllowCampNightInCamp_ThrowWarning()
THEN
TimerLaunch("DEBUG_CAMP_UnsupportedCampTypeFault", 1000);

IF
TimerFinished("DEBUG_CAMP_UnsupportedCampTypeFault", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
OpenMessageBox(_Var1, "DEBUG_CAMP_UnsupportedCampTypeFault");

PROC
PROC_CampNight_DecideCampNight()
AND NOT
DB_CampNight_DEBUG_ForcedEntry(_, _, _, _, _)
AND NOT
DB_CampNight_DEBUG_Disabled(1, _, _, _, _)
THEN
PROC_CampNight_CheckExpirationDates();
PROC_CampNight_CacheSleepSpeakers();
PROC_CampNight_DecideCampNight_Recursive();

PROC
PROC_CampNight_DecideCampNight()
AND
DB_FallbackCamp_InCamp(_, _, _, _, _)
THEN
PROC_FallbackCamp_EnsureResurrections();

PROC
PROC_CampNight_CheckExpirationDates()
AND
DB_CampNight_StartedExpiring(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
_Var2 <= 1
THEN
PROC_CampNight_ClearCampNight(_Var1);
NOT DB_CampNight_StartedExpiring(_Var1, _Var2);

PROC
PROC_CampNight_CheckExpirationDates()
AND
DB_CampNight_StartedExpiring(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IntegerSubtract(_Var2, 1, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_StartedExpiring(_Var1, _Var2);
DB_CampNight_StartedExpiring(_Var1, _Var3);

PROC
PROC_CampNight_CheckExpirationDates()
AND
DB_CampNight_ExpiresAfter(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_StartedExpiring(_Var1, _, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_StartedExpiring(_Var1, _Var2);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_CachedSleepExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_CachedSleepExclusiveDialogs(_Var1);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_SleepIndividualDialogs(_Var1, _Var2);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_SCO(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_CachedSleepExclusiveDialogs(_Var1);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_AvatarDream(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_CachedSleepExclusiveDialogs(_Var1);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_SoloDream(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, NULL_00000000-0000-0000-0000-000000000000, _Var1)
AND
DB_ORI_Partnered(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2);
DB_CampNight_SleepIndividualDialogs(_Var1, _Var4);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, NULL_00000000-0000-0000-0000-000000000000, _Var1)
AND
DB_ORI_Dating(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2);
DB_CampNight_SleepIndividualDialogs(_Var1, _Var4);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
_Var4 != NULL_00000000-0000-0000-0000-000000000000
AND
DB_Avatars(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(_Var4, _Var5, 1, _Var1, _Var1)
THEN
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2);
DB_CampNight_SleepIndividualDialogs(_Var1, _Var5);

PROC
PROC_CampNight_CacheSleepSpeakers()
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _, _, _Var1)
AND NOT
DB_CampNight_SleepIndividualDialogs(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_CachedSleepExclusiveDialogs(_Var1);

PROC
PROC_CampNight_DecideCampNight_Recursive()
THEN
DB_Camp_BestCampNight(Fake_00000000-0000-0000-0000-000000000000, -1);

PROC
PROC_CampNight_DecideCampNight_Recursive()
AND NOT
DB_FallbackCamp_InCamp(_, _, _, _, _)
AND
DB_ActiveCamp(_Var2, _, _, _, _)
AND
DB_CampNight(_Var3, _Var4, _, _, _)
AND
DB_CampNight_Camp(_Var3, _Var2, _, _, _)
AND NOT
DB_Camp_QueuedNight(_Var3, _, _, _, _)
AND
DB_Camp_BestCampNight(_Var5, _Var6, _, _, _)
AND
_Var4 > _Var6
AND NOT
QRY_CampNight_HasExclusivityProblem(_Var3, _, _, _, _)
AND NOT
QRY_CampNight_HasEveningReservedSpeakerProblem(_Var3, _, _, _, _)
AND NOT
QRY_CampNight_HasSleepReservedSpeakerProblem(_Var3, _, _, _, _)
AND NOT
QRY_CampNight_HasMorningReservedSpeakerProblem(_Var3, _, _, _, _)
AND
QRY_CampNight_MeetsRequirements(_Var3, _, _, _, _)
AND NOT
QRY_CampNight_AllSpeakersMissing(_Var3, _, _, _, _)
THEN
NOT DB_Camp_BestCampNight(_Var5, _Var6);
DB_Camp_BestCampNight(_Var3, _Var4);

PROC
PROC_CampNight_DecideCampNight_Recursive()
AND
DB_FallbackCamp_InCamp(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_ActiveCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_ForceOnLevelSwap(_Var3, _Var1, _Var4, _, _Var1)
AND
DB_CampNight_Camp(_Var3, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_BestCampNight(_Var6, _Var7, _Var1, _Var1, _Var1)
AND
_Var4 > _Var7
AND
QRY_CampNight_MeetsRequirements(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_AllSpeakersMissing(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_BestCampNight(_Var6, _Var7);
DB_Camp_BestCampNight(_Var3, _Var4);

PROC
PROC_CampNight_DecideCampNight_Recursive()
THEN
NOT DB_Camp_BestCampNight(Fake_00000000-0000-0000-0000-000000000000, -1);

PROC
PROC_CampNight_DecideCampNight_Recursive()
AND
DB_Camp_BestCampNight(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_BestCampNight(_Var1, _Var2);
DB_Camp_QueuedNight(_Var1);
PROC_CampNight_DecideCampNight_Recursive();

IF
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_ForceOnLevelSwap(_Var1, _Var2, _, _, _Var1)
AND
DB_FallbackCamp_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FallbackCamp_OnCampNightQueued(_Var1);

PROC
PROC_FallbackCamp_OnCampNightQueued(_, (FLAG)_, (FLAG)_, (FLAG)_, (FLAG)_)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasExclusivityProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_ExclusiveMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasExclusivityProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_ExclusiveMoment(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasExclusivityProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_OnlyAllowSleepOrMorningMoments(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_HasEveningDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningReservedSpeakerProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_HasEveningExclusiveDialogs(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_HasEveningExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningReservedSpeakerProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CRD(_Var2, _Var3, _, _, _Var1)
AND
DB_CampNight_CRD(_Var1, _Var3, _, _, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningExclusiveDialogs((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CFM(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningExclusiveDialogs((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_IVB(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningDialogs((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_CampNight_HasEveningExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasEveningDialogs((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CRD(_Var1, _, _, _, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasSleepReservedSpeakerProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CachedSleepExclusiveDialogs(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CachedSleepExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasSleepReservedSpeakerProblem((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var2, _, _Var1, _Var1, _Var1)
AND
DB_CampNight_CachedSleepExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasSleepReservedSpeakerProblem((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_CampNight_CachedSleepExclusiveDialogs(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasSleepReservedSpeakerProblem((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasSleepReservedSpeakerProblem((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_CampNight_SleepIndividualDialogs(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 != _Var4
AND
GetReservedUserID(_Var3, _Var5, _Var1, _Var1, _Var1)
AND
GetReservedUserID(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasMorningReservedSpeakerProblem((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_HasMorningExclusiveDialogs(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_HasMorningExclusiveDialogs(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasMorningExclusiveDialogs((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningIVB(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_HasMorningExclusiveDialogs((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningCFM(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
QRY_CampNight_MeetsRequirements_IsInFallback(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_Flags(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_Approval(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_Partner(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_Dating(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_StartDating(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements_SameUser(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_CampNight_MeetsRequirements_IsInFallback(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_FallbackCamp_CampNightMeetsRequirements(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_IsInFallback((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_ForceOnLevelSwap(_Var1, _Var2, _, 1, _Var1)
AND
DB_FallbackCamp_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _, _Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _, _)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _, _, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _, _, _, _, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Requirement(_Var1, _, _, _, _, _, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var7, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Flags((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var8, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var8, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Approval((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_Approval(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Approval((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_Approval(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
GetApprovalRating(_Var2, _Var4, _Var5, _Var1, _Var1)
AND
_Var5 >= _Var3
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Partner((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_Partner(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Partner((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_Partner(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_ORI_Partnered(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Dating((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement_Dating(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_ORI_Dating(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_Dating((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_Dating(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_StartDating((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_CanStartDating(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_ORI_Dating(_, _Var2, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_ORI_Partnered(_Var4, _, _Var1, _Var1, _Var1)
AND
GetFlag(ORI_State_DoubleDating_41320aeb-8e1a-433d-a82e-3d78aff578da, _Var4, 0, _Var1, _Var1)
AND NOT
DB_ORI_WasDating(_Var4, _Var2, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_StartDating((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_CanStartDating(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_SameUser((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_SameUser(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_MeetsRequirements_SameUser((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_SameUser(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_AllSpeakersMissing((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_CFM(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_IVB(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_CampNight_SCO(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_AvatarDream(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_MorningIVB(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_CampNight_MorningCFM(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_AtLeastOneCompanionAvailableForCRD(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_AtLeastOneAvatarAvailableForSoloDream(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_AtLeastOneCompanionAvailableForRomanceMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_AtLeastOneCompanionAvailableForCRD((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CRD(_Var1, NULL_00000000-0000-0000-0000-000000000000, _Var2, _, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_AtLeastOneCompanionAvailableForCRD((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CRD(_Var1, _Var2, _, _, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_AtLeastOneAvatarAvailableForSoloDream((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SoloDream(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_AtLeastOneCompanionAvailableForRomanceMoment((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _, _, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_CampNight_CRD(_, _, _Var3, _, _)
THEN
DB_DialogBlockTradeButton(_Var3);
DB_DialogBlockAttackButton(_Var3);

IF
DB_CampNight_CFM(_, _Var2, _, _, _)
THEN
DB_DialogBlockTradeButton(_Var2);
DB_DialogBlockAttackButton(_Var2);

IF
DB_CampNight_SCO(_, _Var2, _, _, _)
THEN
DB_DialogBlockTradeButton(_Var2);
DB_DialogBlockAttackButton(_Var2);

IF
DB_CampNight_SoloDream(_, _, _Var3, _, _)
THEN
DB_DialogBlockTradeButton(_Var3);
DB_DialogBlockAttackButton(_Var3);

IF
DB_CampNight_RomanceNight(_, _, _Var3, _, _)
THEN
DB_DialogBlockTradeButton(_Var3);
DB_DialogBlockAttackButton(_Var3);

IF
DB_CampNight_AvatarDream(_, _Var2, _, _, _)
THEN
DB_DialogBlockTradeButton(_Var2);
DB_DialogBlockAttackButton(_Var2);

IF
DB_CampNight_MorningCFM(_, _Var2, _, _, _)
THEN
DB_DialogBlockTradeButton(_Var2);
DB_DialogBlockAttackButton(_Var2);

PROC
PROC_CampNight_StartSelected()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DebugText(_Var3, _Var2);

IF
TextEvent("queuednights", (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DebugText(_Var3, _Var2);

PROC
PROC_CampNight_StartSelected()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_ActiveCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SetPosition(_Var1, _Var3, _Var2, _Var4, _Var1)
AND
DB_InCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
Concatenate("CAMP_CamperInCamp_", _Var2, _Var5, _Var1, _Var1)
THEN
TeleportTo(_Var3, _Var4, "", 0, 0, 0, 0, 1);
SetDualEntityEvent(_Var3, _Var4, "CampPositionChange", 1);
SetEntityEvent(_Var3, _Var5);

PROC
PROC_CampNight_StartSelected()
THEN
PROC_CampNight_StartSelected_CFM();

PROC
PROC_CampNight_StartSelected_CFM()
AND
QRY_OnlyOnce_Reset("GLO_CampNight_ExecutingCampfireMoment", _, _, _, _)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CFM(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_CompletedQueuedCFM(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("GLO_CampNight_ExecutingCampfireMoment", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampfireMoment_PreDialog(_Var2);
PROC_CampfireMoment_Dialog(_Var2);

PROC
PROC_CampfireMoment_Failed((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_CampNight_CFM(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_CompletedQueuedCFM(_Var1);
PROC_CampfireMoment_CheckEndCFM();

IF
DialogEnded((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CFM(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampfireMoment_ClearCampfireMoment(_Var1);
PROC_CampfireMoment_PostDialog(_Var1);
DB_CampNight_Completed(_Var3);
DB_CampNight_CompletedQueuedCFM(_Var1);
PROC_CampfireMoment_CheckEndCFM();

PROC
PROC_CampfireMoment_CheckEndCFM()
AND NOT
QRY_CampfireMoment_AnyCFMLeft()
THEN
PROC_CampNight_EndCFM();

QRY
QRY_CampfireMoment_AnyCFMLeft()
AND
QRY_OnlyOnce_Reset("CFM_StartFollowUp", _, _, _, _)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CFM(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_CompletedQueuedCFM(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("CFM_StartFollowUp", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_StartSelected_CFM();

PROC
PROC_CampNight_EndCFM()
AND NOT
DB_CampNight_PreventAutomaticContinue(1, _, _, _, _)
THEN
PROC_CampNight_StartSelected_IVB();

PROC
PROC_CampNight_EndCFM()
THEN
NOT DB_CampNight_PreventAutomaticContinue(1);

PROC
PROC_CampNight_StartSelected()
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingCampfireMoment", _, _, _, _)
THEN
PROC_CampNight_StartSelected_IVB();

IF
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_IVB(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_Camp_QueuedIVB(_Var2, _Var3);

PROC
PROC_CampNight_StartSelected_IVB()
AND
QRY_OnlyOnce_Reset("GLO_CampNight_ExecutingInteractiveVoicebark", _, _, _, _)
AND
DB_Camp_QueuedIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_CampNight_IVB_GetBestPartyMember(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("GLO_CampNight_ExecutingInteractiveVoicebark", _Var1, _Var1, _Var1, _Var1)
THEN
StartInteractiveVoicebark(_Var1, _Var3);

QRY
QRY_CampNight_IVB_GetBestPartyMember((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var2);

QRY
QRY_CampNight_IVB_GetBestPartyMember((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var1);

QRY
QRY_CampNight_IVB_GetBestPartyMember((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_, _Var1, _Var1, _Var1, _Var1)
AND
DB_Origins(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_GetBestAvatarForCompanion(_Var1, 1, 1, _Var1, _Var1)
AND
DB_QRYRTN_GetBestAvatarForCompanion(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var3);

QRY
QRY_CampNight_IVB_GetBestPartyMember((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_, _Var1, _Var1, _Var1, _Var1)
AND
QRY_Camp_GetPreferredPlayerForDialogs()
AND
DB_QRYRTN_Camp_GetPreferredPlayerForDialogs(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var3);

IF
VoiceBarkStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedIVB(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_CampNight_IVB(_Var4, _Var1, _Var3, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedIVB(_Var1, _Var3);
DB_CampNight_Completed(_Var4);
DB_CampNight_IVB_AddRemainingPartyMembers(_Var2);
PROC_Camp_ForceAvatarControl();

IF
VoiceBarkEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_IVB(_Var3, _Var1, _Var4, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_StartSelected_IVB();

IF
VoiceBarkEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_IVB_AddRemainingPartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_IVB_AddRemainingPartyMembers(_Var2);

IF
DialogStarted(_, (INTEGER)_Var2, _, _, _)
AND
DB_CampNight_IVB_AddRemainingPartyMembers(_Var2, _, _, _, _)
AND
DB_PlayerInCamp(_Var3, _, _, _, _)
AND NOT
DB_DialogPlayers(_, _Var3, _, _, _)
THEN
PROC_DialogAddListeningActor(_Var2, _Var3);

IF
VoiceBarkFailed((VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_Camp_QueuedIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedIVB(_Var1, _Var2);
NOT DB_OnlyOnce("GLO_CampNight_ExecutingInteractiveVoicebark");
PROC_CampNight_StartSelected_IVB();

PROC
PROC_CampNight_StartSelected_IVB()
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingInteractiveVoicebark", _, _, _, _)
THEN
PROC_CampNight_StartSelected_CRDs();
PROC_CampNight_TestNoEveningDialogs();

PROC
PROC_CampNight_StartSelected_CRDs()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CountHelperReset("CampNight_CRDIndex", _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CRD(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
_Var2 != NULL_00000000-0000-0000-0000-000000000000
AND
QRY_CampNight_CRD_ResetCounterIfNecessary(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_CRD_PartnerDateExclusive(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_CRD_MinimalApproval(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_CampNight_CRD_MinimalApproval(_Var6, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CountHelper("CampNight_CRDIndex", _Var1, _Var1, _Var1, _Var1)
AND
DB_CountHelper("CampNight_CRDIndex", _Var7, _Var1, _Var1, _Var1)
THEN
DB_CampNight_CRDSet(1);
PROC_CampRelationshipDialog(_Var2, _Var3, _Var4, _Var5, _Var6);
PROC_Try_CampRelationshipDialog(_Var2, _Var7);
DB_CampNight_Completed(_Var1);

QRY
QRY_CampNight_CRD_ResetCounterIfNecessary((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_EveryCRDGetsExclamationMark(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CountHelperReset("CampNight_CRDIndex", _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_CRD_ResetCounterIfNecessary((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_CRD_PartnerDateExclusive((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_Partner(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(0);
DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(1);

QRY
QRY_CampNight_CRD_PartnerDateExclusive((FLAG)_Var1, (CHARACTER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement_Dating(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(0);
DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(1);

QRY
QRY_CampNight_CRD_PartnerDateExclusive((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_Partner(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Requirement_Dating(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(0);
NOT DB_QRYRTN_CampNight_CRD_PartnerDateExclusive(1);

QRY
QRY_CampNight_CRD_MinimalApproval((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_QRYRTN_CampNight_CRD_MinimalApproval(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_CampNight_CRD_MinimalApproval(_Var3);

QRY
QRY_CampNight_CRD_MinimalApproval((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_Requirement_Approval(_Var1, _Var2, _, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_CRD_MinimalApproval(-100);

QRY
QRY_CampNight_CRD_MinimalApproval((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_Requirement_Approval(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_QRYRTN_CampNight_CRD_MinimalApproval(_Var3);

PROC
PROC_CampNight_StartSelected_CRDs()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CRD(_Var1, NULL_00000000-0000-0000-0000-000000000000, _Var2, _, _Var1)
AND NOT
DB_CampNight_CRDSet(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_Camp_GetPreferredPlayerForDialogs()
AND
DB_QRYRTN_Camp_GetPreferredPlayerForDialogs(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_StartDialog_AddExtraSpeakers((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_CampNight_CRD(_Var3, NULL_00000000-0000-0000-0000-000000000000, _Var1, _, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_PlayerInCamp(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DialogAddListeningActor(_Var2, _Var5);

PROC
PROC_CampNight_StartSelected_CRDs()
THEN
NOT DB_CampNight_CRDSet(1);

IF
DialogStarted((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CRD(_Var3, _, _Var1, _, _Var1)
AND NOT
DB_CampNight_EveryCRDGetsExclamationMark(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CRD(_Var3, _Var6, _, _, _Var1)
AND
DB_InCamp(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var6, "RelationshipMarker");

IF
DialogEnded((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_CRD(_Var3, _Var4, _Var1, _Var5, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var3);

PROC
PROC_CampNight_StartSelected()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_QueueSleepMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SCO(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var3);

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_AvatarDream(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var3);

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SoloDream(_Var3, _, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var3);

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_RomanceNight(_Var3, _, _Var1, _, _Var1)
THEN
DB_CampNight_Completed(_Var3);

QRY
QRY_CampNight_QueueSleepMoment((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_AvatarDream(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedAvatarDream(_Var2);

QRY
QRY_CampNight_QueueSleepMoment((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_SCO(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedSCO(_Var2);

QRY
QRY_CampNight_QueueSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SoloDream(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedSoloDream(_Var2, _Var3);

QRY
QRY_CampNight_QueueSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, NULL_00000000-0000-0000-0000-000000000000, _Var1)
AND
DB_ORI_Partnered(_Var4, _Var2, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedRomanceNight(_Var2, _Var3, _Var4);

QRY
QRY_CampNight_QueueSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, NULL_00000000-0000-0000-0000-000000000000, _Var1)
AND
DB_ORI_Dating(_Var4, _Var2, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedRomanceNight(_Var2, _Var3, _Var4);

QRY
QRY_CampNight_QueueSleepMoment((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
_Var4 != NULL_00000000-0000-0000-0000-000000000000
AND NOT
DB_Camp_QueuedRomanceNight(_Var2, _, _, _Var1, _Var1)
AND
DB_Avatars(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(_Var4, _Var7, 1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var7, _Var1, _Var1, _Var1)
THEN
DB_Camp_QueuedRomanceNight(_Var2, _Var3, _Var7);

QRY
QRY_CampNight_QueueSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningIVB(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_Camp_StayInCampAfterLongRest(1);
DB_Camp_QueuedMorningIVB(_Var2, _Var3);

QRY
QRY_CampNight_QueueSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningCFM(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_Camp_StayInCampAfterLongRest(1);
DB_Camp_QueuedMorningCFM(_Var2);

PROC
PROC_CampNight_StartSelected()
THEN
PROC_CampNight_TestNoEveningDialogs();

PROC
PROC_CampNight_TestNoEveningDialogs()
AND NOT
DB_FallbackCamp_InCamp(_, _, _, _, _)
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingCampfireMoment", _, _, _, _)
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingInteractiveVoicebark", _, _, _, _)
AND NOT
DB_HandlingRelationshipDialog(_, _, _, "CAMP", _, _, _, _, _, _)
THEN
PROC_Camp_NoEveningDialogs();

PROC
PROC_CampNight_TestNoEveningDialogs()
AND
DB_FallbackCamp_InCamp(_, _, _, _, _)
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingCampfireMoment", _, _, _, _)
AND NOT
DB_OnlyOnce("GLO_CampNight_ExecutingInteractiveVoicebark", _, _, _, _)
AND NOT
DB_Camp_QueuedNight(_, _, _, _, _)
AND NOT
DB_Camp_RequiredTalks(_, _, _, _, _)
THEN
PROC_Camp_NoEveningDialogs();

PROC
PROC_Camp_EndEvening()
AND NOT
DB_Camp_ForceNextLongRest(1, _, _, _, _)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_Completed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_ExclusiveMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_QueueSleepMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var1);

PROC
PROC_Camp_EndEvening()
AND NOT
DB_CampNight_DEBUG_Disabled(1, _, _, _, _)
AND NOT
DB_Camp_ForceNextLongRest(1, _, _, _, _)
AND NOT
DB_Camp_QueuedSoloDream(_, _, _, _, _)
AND NOT
DB_Camp_QueuedRomanceNight(_, _, _, _, _)
AND NOT
DB_Camp_QueuedAvatarDream(_, _, _, _, _)
AND NOT
DB_Camp_QueuedSCO(_, _, _, _, _)
AND NOT
DB_Camp_QueuedMorningIVB(_, _, _, _, _)
AND NOT
DB_Camp_QueuedMorningCFM(_, _, _, _, _)
THEN
DB_CampNight_OnlyAllowSleepOrMorningMoments(1);
PROC_CampNight_CacheSleepSpeakers();
PROC_CampNight_DecideCampNight_Recursive();
NOT DB_CampNight_OnlyAllowSleepOrMorningMoments(1);

PROC
PROC_Camp_EndEvening()
AND NOT
DB_Camp_ForceNextLongRest(1, _, _, _, _)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_QueueSleepMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var3);

IF
VoiceBarkStarted((VOICEBARKRESOURCE)_Var1, (INTEGER)_Var2, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningIVB(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CampNight_Completed(_Var4);

PROC
PROC_CampNight_StartSleepMoments_PreHook()
AND
DB_FallbackCamp_InCamp(_, _, _, _, _)
THEN
PROC_FallbackCamp_EnsureResurrections();

QRY
QRY_Inclusion_BlockCompanionInclusion((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Camp_QueuedSoloDream(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_Inclusion_BlockCompanionInclusion((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedRomanceNight(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_CampNight_StartSleepMoments()
THEN
DB_CampNight_StartSleepMoments_EmptyLoopFlag(1);

IF
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_StartSleepMoments_EmptyLoopFlag(1);

PROC
PROC_CampNight_StartSleepMoments()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_TryStartSleepMoment(_Var1);

PROC
PROC_CampNight_TryStartSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_AvatarDream(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedAvatarDream(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_SpeakersUnavailable_AvatarDream()
AND
DB_Avatars(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_TryStartSleepMoment_AvatarDream(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1);

QRY
QRY_CampNight_TryStartSleepMoment_AvatarDream((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_Camp_StartAvatarDream_CustomDialogStart(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_TryStartSleepMoment_StartedCustomAvatarDream(1);

QRY
QRY_CampNight_TryStartSleepMoment_AvatarDream((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND NOT
DB_CampNight_TryStartSleepMoment_StartedCustomAvatarDream(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
MakePlayerActive(_Var2);

QRY
QRY_CampNight_TryStartSleepMoment_AvatarDream((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_TryStartSleepMoment_StartedCustomAvatarDream(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_TryStartSleepMoment_StartedCustomAvatarDream(1);

QRY
QRY_CampNight_SpeakersUnavailable_AvatarDream()
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_CampNight_TryStartSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SoloDream(_Var1, _, _Var3, _Var1, _Var1)
AND
DB_Camp_QueuedSoloDream(_Var4, _Var3, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var4, 0, _Var1, _Var1, _Var1)
AND
QRY_CampNight_TryStartSleepMoment_SoloDream(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1);

QRY
QRY_CampNight_TryStartSleepMoment_SoloDream((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
QRY_Camp_StartSoloDream_CustomDialogStart(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_CampNight_TryStartSleepMoment_StartedCustomSoloDream(1);

QRY
QRY_CampNight_TryStartSleepMoment_SoloDream((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_TryStartSleepMoment_StartedCustomSoloDream(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
MakePlayerActive(_Var2);

QRY
QRY_CampNight_TryStartSleepMoment_SoloDream((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_CampNight_TryStartSleepMoment_StartedCustomSoloDream(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_TryStartSleepMoment_StartedCustomSoloDream(1);

PROC
PROC_CampNight_TryStartSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _, _Var3, _, _Var1)
AND
DB_Camp_QueuedRomanceNight(_Var5, _Var3, _Var6, _Var1, _Var1)
AND
IsSpeakerReserved(_Var5, 0, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var6, 0, _Var1, _Var1, _Var1)
AND
QRY_CampNight_TryStartSleepMoment_RomanceNight(_Var3, _Var5, _Var6, _Var1, _Var1)
THEN
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1);

QRY
QRY_CampNight_TryStartSleepMoment_RomanceNight((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_Camp_StartRomanceNight_CustomDialogStart(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_CampNight_TryStartSleepMoment_StartedCustomRomanceNight(1);

QRY
QRY_CampNight_TryStartSleepMoment_RomanceNight((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CampNight_TryStartSleepMoment_StartedCustomRomanceNight(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_PreventMPDialogue(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
MakePlayerActive(_Var3);

QRY
QRY_CampNight_TryStartSleepMoment_RomanceNight((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CampNight_TryStartSleepMoment_StartedCustomRomanceNight(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_TryStartSleepMoment_StartedCustomRomanceNight(1);

PROC
PROC_CampNight_TryStartSleepMoment((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SCO(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedSCO(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_SpeakersUnavailable_SCO()
AND
QRY_Camp_GetPreferredPlayerForDialogs()
AND
DB_QRYRTN_Camp_GetPreferredPlayerForDialogs(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CAMP_GetPlayerInCamp(_Var3, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1)
AND
DB_QRYRTN_CAMP_GetPlayerInCamp(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CAMP_GetPlayerInCamp(_Var3, _Var4, NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1)
AND
DB_QRYRTN_CAMP_GetPlayerInCamp(_Var5, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CAMP_GetPlayerInCamp(_Var3, _Var4, _Var5, _Var1, _Var1)
AND
DB_QRYRTN_CAMP_GetPlayerInCamp(_Var6, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_TryStartSleepMoment_SCO(_Var2, _Var3, _Var4, _Var5, _Var6)
THEN
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1);

QRY
QRY_CampNight_TryStartSleepMoment_SCO((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5)
AND
QRY_Camp_SleepCutsceneOverride_CustomDialogStart(_Var1, _Var2, _Var3, _Var4, _Var5)
THEN
DB_CampNight_TryStartSleepMoment_StartedCustomSCO(1);

QRY
QRY_CampNight_TryStartSleepMoment_SCO((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var3, (CHARACTER)_Var4, (CHARACTER)_Var5)
AND NOT
DB_CampNight_TryStartSleepMoment_StartedCustomSCO(1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var1, _Var2, _Var3, _Var4, _Var5)
THEN
DB_NOOP(1);

QRY
QRY_CampNight_TryStartSleepMoment_SCO((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5)
AND
DB_CampNight_TryStartSleepMoment_StartedCustomSCO(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_TryStartSleepMoment_StartedCustomSCO(1);

QRY
QRY_CampNight_SpeakersUnavailable_SCO()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogStarted((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedSCO(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SCO(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedSCO(_Var1);

IF
DialogStarted((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedAvatarDream(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_AvatarDream(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedAvatarDream(_Var1);

IF
DialogStarted((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedSoloDream(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SoloDream(_Var4, _, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedSoloDream(_Var3, _Var1);

IF
DialogStarted((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_QueuedRomanceNight(_Var3, _Var1, _Var4, _Var1, _Var1)
AND
DB_CampNight_RomanceNight(_Var5, _, _Var1, _, _Var1)
THEN
NOT DB_Camp_QueuedRomanceNight(_Var3, _Var1, _Var4);

PROC
PROC_CampNight_StartSleepMoments()
THEN
DB_Camp_WaitingforSleepMomentsDone(1);

PROC
PROC_CampNight_StartSleepMoments()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Camp_SleepMomentsDone(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
THEN
DB_Camp_SleepMomentsDone(_Var1);

PROC
PROC_CampNight_StartSleepMoments()
THEN
PROC_Camp_CheckSleepMomentsLoopDone();

IF
DialogActorJoinFailed(_, _, (GUIDSTRING)_Var3, _, _)
AND
DB_PlayerInCamp(_Var3, _, _, _, _)
AND
DB_Camp_WaitingforSleepMomentsDone(1, _, _, _, _)
THEN
DB_Camp_SleepMomentsDone(_Var3);
PROC_Camp_CheckSleepMomentsLoopDone();

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogPlayers(_Var2, _Var3, _, _Var1, _Var1)
AND
DB_PlayerInCamp(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_WaitingforSleepMomentsDone(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_CampNight_PreventEndNightForPlayer(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
IsSpeakerReserved(_Var3, 0, _Var1, _Var1, _Var1)
THEN
DB_Camp_SleepMomentsDone(_Var3);
PROC_Camp_CheckSleepMomentsLoopDone();

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_WaitingforSleepMomentsDone(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_SleepMomentsDone(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ClearScreenFadeTimeline(_Var3, 1);
PROC_UserSwapToActiveDialog(_Var3);

PROC
PROC_UserSwapToActiveDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_OnlyOnce_Reset("UserSwapToActiveDialog_Once", _Var1, _Var1, _Var1, _Var1)
AND
IsControlled(_Var1, 1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
AND
GetReservedUserID(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != _Var3
AND
GetReservedUserID(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var3, 1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("UserSwapToActiveDialog_Once", _Var1, _Var1, _Var1, _Var1)
THEN
MakePlayerActive(_Var3);

QRY
QRY_CampNight_PreventEndNightForPlayer((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (CHARACTER)_Var3, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
1 == 2
THEN
DB_NOOP(1);

PROC
PROC_Camp_CheckSleepMomentsLoopDone()
AND
SysCount("DB_Camp_SleepMomentsDone", 1, _Var1, _Var1, _Var1)
AND
SysCount("DB_Players", 1, _Var1, _Var1, _Var1)
THEN
SysClear("DB_Camp_SleepMomentsDone", 1);
NOT DB_Camp_WaitingforSleepMomentsDone(1);
PROC_Camp_SleepMomentsLoopDone();

PROC
PROC_Camp_SleepMomentsLoopDone()
AND
DB_CampNight_StartSleepMoments_EmptyLoopFlag(1, _, _, _, _)
THEN
PROC_Campnight_SleepMomentsDone();

PROC
PROC_Camp_SleepMomentsLoopDone()
AND NOT
DB_CampNight_StartSleepMoments_EmptyLoopFlag(1, _, _, _, _)
THEN
PROC_CampNight_StartSleepMoments();

IF
FlagSet(GLO_Camp_Event_SkipSleepCutscene_1ee0a25e-4115-44ef-b87d-c2a5eee494b6, NULL_00000000-0000-0000-0000-000000000000, _, (INTEGER)_, (INTEGER)_)
THEN
DB_CAMP_SkipSleepCutscene(1);
ClearFlag(GLO_Camp_Event_SkipSleepCutscene_1ee0a25e-4115-44ef-b87d-c2a5eee494b6, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_CampNight_StartMorningMoments()
AND
QRY_OnlyOnce_Reset("GLO_CampNight_MorningCFM", _, _, _, _)
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("GLO_CampNight_MorningCFM", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampfireMoment_PreDialog(_Var1);
PROC_CampfireMoment_Dialog(_Var1);

PROC
PROC_CampNight_StartMorningMoments()
AND NOT
DB_OnlyOnce("GLO_CampNight_MorningCFM", _, _, _, _)
THEN
PROC_CampNight_EndMorningCFM();

PROC
PROC_CampfireMoment_PreDialog((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Camp_StayInCampAfterMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Camp_QueuedMorningIVB(_, _, _Var1, _Var1, _Var1)
THEN
DB_Camp_LeaveAfterCFM(_Var1);

IF
DialogEnded((DIALOGRESOURCE)_Var1, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampfireMoment_ClearCampfireMoment(_Var1);
PROC_CampfireMoment_PostDialog(_Var1);
NOT DB_Camp_QueuedMorningCFM(_Var1);
DB_CampNight_CompletedQueuedCFM(_Var1);
PROC_CampfireMoment_CheckEndMorningCFM();

PROC
PROC_CampfireMoment_CheckEndMorningCFM()
AND NOT
QRY_CampfireMoment_AnyMorningCFMLeft()
THEN
PROC_CampNight_EndMorningCFM();

QRY
QRY_CampfireMoment_AnyMorningCFMLeft()
AND
DB_Camp_QueuedMorningCFM(_, _, _, _, _)
THEN
DB_NOOP(1);

PROC
PROC_CampfireMoment_Failed((DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_EndMorningCFM();

PROC
PROC_CampNight_EndMorningCFM()
AND
DB_Camp_LeaveAfterCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PlayerInCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Camp_Leave(_Var2);

PROC
PROC_CampNight_EndMorningCFM()
AND
DB_Camp_QueuedMorningCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedMorningCFM(_Var1);

PROC
PROC_CampNight_EndMorningCFM()
AND NOT
DB_Camp_LeaveAfterCFM(_, _, _, _, _)
THEN
PROC_CampNight_StartSelected_MorningIVB();

PROC
PROC_CampNight_EndMorningCFM()
AND
DB_Camp_LeaveAfterCFM(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_LastDialogPlayed();
NOT DB_Camp_LeaveAfterCFM(_Var1);

PROC
PROC_CampNight_StartSelected_MorningIVB()
AND
QRY_OnlyOnce_Reset("GLO_CampNight_MorningIVB", _, _, _, _)
AND
DB_Camp_QueuedMorningIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
QRY_CampNight_IVB_GetBestPartyMember(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_CampNight_IVB_GetBestPartyMember(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("GLO_CampNight_MorningIVB", _Var1, _Var1, _Var1, _Var1)
THEN
StartInteractiveVoicebark(_Var1, _Var3);
DB_Camp_LeaveAfterIVB(_Var1);

PROC
PROC_CampNight_StartSelected_MorningIVB()
AND NOT
DB_OnlyOnce("GLO_CampNight_MorningIVB", _, _, _, _)
THEN
PROC_CampNight_LastDialogPlayed();

IF
VoiceBarkStarted((VOICEBARKRESOURCE)_Var1, (INTEGER)_Var2, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningIVB(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_Camp_ForceAvatarControl();
NOT DB_Camp_QueuedMorningIVB(_Var1, _Var3);
DB_CampNight_IVB_AddRemainingPartyMembers(_Var2);

IF
VoiceBarkFailed((VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_Camp_QueuedMorningIVB(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedMorningIVB(_Var1, _Var2);

IF
VoiceBarkEnded((VOICEBARKRESOURCE)_Var1, _, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND NOT
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_LeaveAfterIVB(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PlayerInCamp(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Camp_Leave(_Var4);

IF
VoiceBarkEnded((VOICEBARKRESOURCE)_Var1, _, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_Camp_LeaveAfterIVB(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_LeaveAfterIVB(_Var1);

IF
VoiceBarkEnded((VOICEBARKRESOURCE)_Var1, _, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_CampNight_MorningIVB(_, _Var1, _, _Var1, _Var1)
AND NOT
QRY_Camp_AnyMorningIVBLeft()
THEN
PROC_CampNight_LastDialogPlayed();

IF
VoiceBarkFailed((VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_CampNight_MorningIVB(_, _Var1, _, _Var1, _Var1)
AND NOT
QRY_Camp_AnyMorningIVBLeft()
THEN
PROC_CampNight_LastDialogPlayed();

IF
VoiceBarkEnded((VOICEBARKRESOURCE)_Var1, _, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_CampNight_MorningIVB(_, _Var1, _, _Var1, _Var1)
AND
QRY_Camp_AnyMorningIVBLeft()
THEN
PROC_CampNight_StartSelected_MorningIVB();

IF
VoiceBarkFailed((VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1, (VOICEBARKRESOURCE)_Var1)
AND
DB_CampNight_MorningIVB(_, _Var1, _, _Var1, _Var1)
AND
QRY_Camp_AnyMorningIVBLeft()
THEN
PROC_CampNight_StartSelected_MorningIVB();

QRY
QRY_Camp_AnyMorningIVBLeft()
AND
DB_Camp_QueuedMorningIVB(_, _, _, _, _)
THEN
DB_NOOP(1);

PROC
PROC_CampNight_LastDialogPlayed()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_Completed(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedNight(_Var1);
PROC_CampNight_ForceComplete(_Var1);

PROC
PROC_CampNight_LastDialogPlayed()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Completed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_CampNight_CampnightFailedValidException(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedNight(_Var1);
PROC_CampNight_ForceComplete(_Var1);

PROC
PROC_CampNight_LastDialogPlayed()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CampNight_Completed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetFlagName(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("Camp Error: A scheduled Camp Night (", _Var3, _Var4, _Var1, _Var1)
AND
Concatenate(_Var4, ") failed to play any dialogue. Contact @greever ASAP. (Osirislog + Savegame)", _Var5, _Var1, _Var1)
THEN
NOT DB_Camp_QueuedNight(_Var1);
DB_CampNight_Error_CampNightFailedToPlay(_Var1);
DebugBreak(_Var5);
PROC_CampNight_ForceComplete(_Var1);

QRY
QRY_CampNight_CampnightFailedValidException((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
1 == 0
THEN
DB_NOOP(1);

PROC
PROC_CampNight_CancelOtherNights((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Cancels(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_ClearCampNight(_Var2);

PROC
PROC_CampNight_ForceComplete((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var1);
PROC_CampNight_CancelOtherNights(_Var1);
PROC_CampNight_ClearCampNight(_Var1);

IF
DB_GlobalFlag(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CancelledBy(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Camp_QueuedNight(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_CampNight_ClearCampNight(_Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Camp(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Camp(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_ExclusiveMoment(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_ExclusiveMoment(_Var1);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_ExpiresAfter(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_ExpiresAfter(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_StartedExpiring(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_StartedExpiring(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_CRD(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_CampNight_CRD(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_CFM(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_CFM(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_IVB(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_IVB(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningIVB(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_MorningIVB(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_MorningCFM(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_MorningCFM(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SCO(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_SCO(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_AvatarDream(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_AvatarDream(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SoloDream(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_SoloDream(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_CampNight_RomanceNight(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Cancels(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Cancels(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_CancelledBy(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_CancelledBy(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SetPosition(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_CampNight_SetPosition(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var8, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var8);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement_Approval(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement_Approval(_Var1, _Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_Requirement_Partner(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_Requirement_Partner(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_ForceOnLevelSwap(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
NOT DB_CampNight_ForceOnLevelSwap(_Var1, _Var2, _Var3, _Var4);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_ResurrectWhenForced(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_ResurrectWhenForced(_Var1, _Var2);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_StartSleepMoments_AwaitCompletion(_Var1);

QRY
QRY_CAMP_GetPlayerInCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
SysClear("DB_QRYRTN_CAMP_GetPlayerInCamp", 1);

QRY
QRY_CAMP_GetPlayerInCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PlayerInCamp(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QRYRTN_CAMP_GetPlayerInCamp(_, _Var1, _Var1, _Var1, _Var1)
AND
_Var4 != _Var1
AND
_Var4 != _Var2
AND
_Var4 != _Var3
AND
QRY_SpeakerIsAvailable(_Var4, 0, 1, _Var1, _Var1)
THEN
DB_QRYRTN_CAMP_GetPlayerInCamp(_Var4);

QRY
QRY_CAMP_GetPlayerInCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_QRYRTN_CAMP_GetPlayerInCamp(_, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_CAMP_GetPlayerInCamp(NULL_00000000-0000-0000-0000-000000000000);

QRY
QRY_Camp_SleepCutsceneOverride_CustomDialogStart((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var3, (CHARACTER)_Var4, (CHARACTER)_Var5)
AND
1 == 2
THEN
DB_NOOP(1);

QRY
QRY_Camp_StartAvatarDream_CustomDialogStart((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
1 == 2
THEN
DB_NOOP(1);

QRY
QRY_Camp_StartSoloDream_CustomDialogStart((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
1 == 2
THEN
DB_NOOP(1);

QRY
QRY_Camp_StartRomanceNight_CustomDialogStart((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var3, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
1 == 2
THEN
DB_NOOP(1);

QRY
QRY_CamperInDialog()
AND
DB_PlayerInCamp(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsSpeakerReserved(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_Camp_PlayerInCampChanged()
AND
SysCount("DB_PlayerInCamp", 1, _Var1, _Var1, _Var1)
THEN
PROC_Camp_SetCampNightFlags_PartySize(_Var1);
PROC_Camp_UpdateDeco();

PROC
PROC_Camp_SetCampNightFlags_PartySize((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_CampNightFlags_PartySize(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
_Var1 >= _Var2
THEN
PROC_GlobalSetFlagAndCache(_Var3);

PROC
PROC_Camp_SetCampNightFlags_PartySize((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_CampNightFlags_PartySize(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
_Var1 < _Var2
THEN
PROC_GlobalClearFlagAndCache(_Var3);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_InCamp(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var2);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var2);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InCamp(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var2);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var3);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var3);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var3);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var4);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var4);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var4);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var5);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var5);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var5, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var5);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var6);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var6);

IF
DB_OriginCampFlags(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalClearFlagAndCache(_Var6);

IF
TextEvent("ignorefallbackcamp", _, _, _, _)
THEN
DB_FallbackCamp_DebugIgnore(1);

IF
TextEvent("unignorefallbackcamp", _, _, _, _)
THEN
NOT DB_FallbackCamp_DebugIgnore(1);

IF
TextEvent("ignorefallbackcamptransition", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_FallbackCamp_DebugIgnoreTransition(1);
DebugText(_Var1, "Enabled fallback level swap ignore");

IF
TextEvent("unignorefallbackcamptransition", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
GetHostCharacter(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FallbackCamp_DebugIgnoreTransition(1);
DebugText(_Var1, "Disabled fallback level swap ignore");

IF
TextEvent("fallbackcamp", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetTextEventParamString(1, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GLO_LevelSwap_Teleporter(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FallbackCamp_Start(_Var2, _Var1);

PROC
PROC_GLO_LevelSwap_BlockSwap((GUIDSTRING)_Var1, (STRING)_Var2, (STRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_FallbackCamp_BlockShouldTrigger(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_GLO_LevelSwap_Blocked(_Var3);
PROC_FallbackCamp_Start(_Var1, _Var2);

QRY
QRY_WaypointTravel_RegionSwapPrevented((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (STRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_FallbackCamp_WaypointToReadyCheckID(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_WaypointToReadyCheckID(_Var3, _Var5, _Var1, _Var1, _Var1)
THEN
DB_WaypointTravel_RegionswapDestination(_Var2, _Var3);
PROC_FallbackCamp_Start(_Var1, _Var5);

QRY
QRY_FallbackCamp_WaypointToReadyCheckID((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_QRYRTN_WaypointToReadyCheckID(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_WaypointToReadyCheckID(_Var1, _Var2);

QRY
QRY_FallbackCamp_WaypointToReadyCheckID((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_CurrentLevel(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce_Reset("FallbackCamp_WaypointReadyCheckID_Determined", _Var1, _Var1, _Var1, _Var1)
AND
DB_WaypointInfo(_, _Var1, _, _Var5, _Var1)
AND
GetRegion(_Var5, _Var6, _Var1, _Var1, _Var1)
AND
DB_GLO_LevelSwap_Location(_Var7, _, _, _, _, _, _Var6, _Var1, _Var1, _Var1)
AND
DB_GLO_LevelSwap_Teleporter(_Var13, _Var7, _Var1, _Var1, _Var1)
AND
GetRegion(_Var13, _Var2, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("FallbackCamp_WaypointReadyCheckID_Determined", _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_WaypointToReadyCheckID(_Var1, _Var7);

PROC
PROC_FallbackCamp_Start((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CurrentLevel(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FallbackCamp_CheckSpecialConditions(_Var2);
DB_FallbackCamp_QueuedLevelswap(_Var1, _Var2, _Var3);
PROC_Camp_ForceEndTheDay(_Var1, "");

PROC
PROC_GLO_LevelSwap_BlockSwap((CHARACTER)_Var1, (STRING)_Var2, (STRING)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_FallbackCamp_DebugIgnore(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_LevelSwap_Blocked(_Var3);
PROC_DismissToCamp(_Var1);

PROC
PROC_FallbackCamp_CheckSpecialConditions((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

QRY
QRY_FallbackCamp_BlockShouldTrigger((CHARACTER)_Var1, (STRING)_Var2, (STRING)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FallbackCamp_DebugIgnore(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_FallbackCamp_CampNightMeetsRequirements((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_ForceOnLevelSwap(_Var1, _, _, 0, _Var1)
AND
DB_CampNight(_Var1, _, _Var1, _Var1, _Var1)
AND
QRY_CampNight_MeetsRequirements(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_Camp_SetModeToNight()
AND
DB_FallbackCamp_QueuedLevelswap(_, _Var2, _, _, _)
THEN
DB_FallbackCamp_InCamp(_Var2);
PROC_FallbackCamp_EnteredCamp(_Var2);

PROC
PROC_FallbackCamp_EnteredCamp((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_CampRelationshipDialog((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, _, _, _)
AND
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var7, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_CRD(_Var7, _, _Var2, _, _Var1)
AND
QRY_ValidForCRD(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Camp_RequiredTalks(_Var1, _Var2);

QRY
QRY_RelationshipDialog_IgnoreApproval((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Camp_RequiredTalks(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_Origins_CompanionLeavePermanently((CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Camp_RequiredTalks(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_Camp_RequiredTalks_Complete(_Var1);

PROC
PROC_FallbackCamp_EnsureResurrections()
AND
DB_CampNight_ResurrectWhenForced(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Dead(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
Resurrect(_Var2);

PROC
PROC_CAMP_LeftCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_InCamp(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FallbackCamp_InCamp(_Var2);
PROC_FallbackCamp_LeftCamp(_Var2);

PROC
PROC_CAMP_LeftCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FallbackCamp_DebugIgnoreTransition(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_WaypointTravel_RegionswapDestination(_, _, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_QueuedLevelswap(_Var4, _Var5, _Var6, _Var1, _Var1)
THEN
PROC_GLO_LevelSwap_CheckSwap(_Var4, _Var5, _Var6);

PROC
PROC_CAMP_LeftCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FallbackCamp_DebugIgnoreTransition(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_WaypointTravel_RegionswapDestination(_, _, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_QueuedLevelswap(_Var4, _Var5, _Var6, _Var1, _Var1)
THEN
PROC_RegionSwapReadyCheckPassed(_Var4, "WaypointTravel_RegionSwap");

PROC
PROC_CAMP_LeftCamp((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_DebugIgnoreTransition(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_QueuedLevelswap(_Var2, _Var3, _Var4, _Var1, _Var1)
THEN
DebugText(_Var1, "Debug skipped level transition");

PROC
PROC_CAMP_LeftCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_QueuedLevelswap(_Var2, _Var3, _Var4, _Var1, _Var1)
THEN
NOT DB_FallbackCamp_QueuedLevelswap(_Var2, _Var3, _Var4);

IF
LevelUnloading(_, _, _, _, _)
AND
DB_FallbackCamp_QueuedLevelswap(_Var2, _Var3, _Var4, _, _)
THEN
NOT DB_FallbackCamp_QueuedLevelswap(_Var2, _Var3, _Var4);

PROC
PROC_GLO_LevelSwap_CheckSwap((GUIDSTRING)_Var1, (STRING)_Var2, (STRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_FallbackCamp_LeftCamp((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_NOOP(1);

QRY
QRY_GLO_BlockTeleportToWaypoint((GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_InCamp(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_FallbackCamp_InCamp(_, _Var1, _Var1, _Var1, _Var1)
THEN
ShowError(_Var1, "CampFastTravel");

PROC
PROC_Debug_StoryStateRestored_Hook()
AND
DB_Debug_PresetFlags(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_OriginCampFlags(_Var3, _Var2, _Var4, _Var5, _Var6, _Var7, _Var1, _Var1, _Var1, _Var1)
THEN
SetEntityEvent(_Var3, "DebugTeleportedToCamp");

IF
TextEvent("nonight", (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight(_Var1, _Var2);

IF
TextEvent("qnight", (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
GetTextEventParamUUID(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
GetTextEventParamInteger(3, _, _Var1, _Var1, _Var1)
THEN
PROC_CAMPDEBUG_QueueNight(_Var1, 0);

IF
TextEvent("qnight", (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
GetTextEventParamUUID(1, _Var1, _Var1, _Var1, _Var1)
AND
GetTextEventParamInteger(3, _Var2, _Var1, _Var1, _Var1)
AND
QRY_CheckInputInteger(0, _Var2, 1, "qnight-IgnoreCampType", _Var1)
THEN
PROC_CAMPDEBUG_QueueNight(_Var1, _Var2);

PROC
PROC_CAMPDEBUG_QueueNight((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_DEBUG_ForcedEntry(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_CampNight_DEBUG_ForcedEntry(_Var3, _Var4);

PROC
PROC_CAMPDEBUG_QueueNight((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_CampNight_DEBUG_ForcedEntry(_Var1, _Var2);
DB_GreeverQNightMarker(_Var1);
PROC_Camp_DebugQNight_ForceRequirements(_Var1);

PROC
PROC_Camp_DebugQNight_ForceRequirements((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_CAMPDEBUG_QueueNight((FLAG)_Var1, (INTEGER)_Var2, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND NOT
DB_CampNight(_Var1, _, _Var1, _Var1, _Var1)
THEN
DebugBreak("Attempting to Queue a Campnight that is not defined. Are you in the wrong region?");

PROC
PROC_CampNight_StartSelected()
AND
DB_Camp_QueuedNight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CampNight_SoundStates(_Var1, _Var2, _Var3, _Var4, _Var1)
THEN
TriggerSetSoundState(_Var2, _Var3, _Var4, 0);
DB_CampNight_SoundStates_ActiveState(_Var2, _Var3);

PROC
PROC_CampNight_ClearCampNight((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_CampNight_SoundStates(_Var1, _Var2, _Var3, _Var4, _Var1)
AND
DB_CampNight_SoundStates_ActiveState(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
TriggerSetSoundState(_Var2, _Var3, "None", 0);

PROC
PROC_CampNight_StartSelected_CRDs()
THEN
PROC_CampNight_CallAudioNotifications();

PROC
PROC_CampNight_CallAudioNotifications()
THEN
DB_NOOP(1);


EXITSECTION
ENDEXITSECTION

