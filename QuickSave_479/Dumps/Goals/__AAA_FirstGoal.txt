Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_FirstGoal_MoneyDialogVar(1, "GEN_CheckMagicPocketGold_6057ad05-9492-4630-9f0a-be548b134c54");
DB_FirstGoal_MoneyDialogVar(2, "GEN_CheckMagicPocketGold_2_463b0f43-5410-412d-aba3-875cf81c38ca");
DB_FirstGoal_MoneyDialogVar(3, "GEN_CheckMagicPocketGold_3_01f129ea-b4dc-44b6-8154-9a948f876a82");
DB_FirstGoal_MoneyDialogVar(4, "GEN_CheckMagicPocketGold_4_5dac5eea-faeb-459c-b675-46c51519b784");
DB_FirstGoal_MoneyDialogVar(5, "GEN_CheckMagicPocketGold_5_8860ed48-ba5f-4b7b-82bf-f1220f967d41");
DB_FirstGoal_MoneyDialogVar(6, "GEN_CheckMagicPocketGold_6_ebf7de6b-4598-4feb-9c50-8083fc0fc59d");
DB_FirstGoal_MoneyDialogVar(7, "GEN_CheckMagicPocketGold_7_4f22f91f-28ec-8f22-c546-1f8b69a2725a");
DB_FirstGoal_CheckPocketGoldSpeakerVar(1, "GEN_CheckPocketGold_SpeakerIndex_8504b4e0-886e-4912-9525-fbe559c5f8ff");
DB_FirstGoal_CheckPocketGoldSpeakerVar(2, "GEN_CheckPocketGold_2_SpeakerIndex_a9c4d456-3ef5-491d-a1eb-49f09b91e8b4");
DB_FirstGoal_CheckPocketGoldSpeakerVar(3, "GEN_CheckPocketGold_3_SpeakerIndex_d7fa1537-77d4-4d7d-a955-7ffda90e6207");
DB_FirstGoal_CheckPocketGoldSpeakerVar(4, "GEN_CheckPocketGold_4_SpeakerIndex_5c499066-448b-4d0c-8dc9-d1553d04c6d4");
DB_FirstGoal_CheckPocketGoldSpeakerVar(5, "GEN_CheckPocketGold_5_SpeakerIndex_65757687-b815-43fe-be9c-1cefe82efb60");
DB_FirstGoal_CheckPocketGoldSpeakerVar(6, "GEN_CheckPocketGold_6_SpeakerIndex_197aa5e5-de7f-2ff0-7ec7-268384b5ca7c");
DB_FirstGoal_CheckPocketGoldSpeakerVar(7, "GEN_CheckPocketGold_7_SpeakerIndex_051d7620-9791-488f-8a0e-f5791367fe59");
DB_FirstGoal_HasItemTemplate_TemplateVar(1, "GEN_CheckHasItemTemplate_Template_ae6d2014-ca40-414b-a222-84b87efb1f05");
DB_FirstGoal_HasItemTemplate_TemplateVar(2, "GEN_CheckHasItemTemplate_Template_2_1c16723d-50a0-4917-a198-0970edb93555");
DB_FirstGoal_HasItemTemplate_TemplateVar(3, "GEN_CheckHasItemTemplate_Template_3_3965b187-cbef-40cd-9d7c-37bcb37ea2cd");
DB_FirstGoal_HasItemTemplate_TemplateVar(4, "GEN_CheckHasItemTemplate_Template_4_4343086d-0af4-4509-8af7-efb6ae4ca057");
DB_FirstGoal_HasItemTemplate_TemplateVar(5, "GEN_CheckHasItemTemplate_Template_5_069bdd27-9c44-4f21-b062-fcf75a541407");
DB_FirstGoal_HasItemTemplate_SpeakerVar(1, "GEN_CheckHasItemTemplate_Speaker_a41274ae-7edf-4f3d-a137-dd45978c6224");
DB_FirstGoal_HasItemTemplate_SpeakerVar(2, "GEN_CheckHasItemTemplate_Speaker_2_2674a9aa-1c71-42c3-977e-ffee67be69c6");
DB_FirstGoal_HasItemTemplate_SpeakerVar(3, "GEN_CheckHasItemTemplate_Speaker_3_7f89238b-be41-4d7a-a9a8-6dc74a2ef8be");
DB_FirstGoal_HasItemTemplate_SpeakerVar(4, "GEN_CheckHasItemTemplate_Speaker_4_33065191-7bc1-40dc-bd8c-3b897abb591e");
DB_FirstGoal_HasItemTemplate_SpeakerVar(5, "GEN_CheckHasItemTemplate_Speaker_5_4fa046a9-a305-4b89-8383-ff6173a8b774");
DB_FirstGoal_HasItemTemplate_AmountVar(1, "GEN_CheckHasItemTemplate_Amount_573b8076-ac9f-4c43-9161-f6eb76a90781");
DB_FirstGoal_HasItemTemplate_AmountVar(2, "GEN_CheckHasItemTemplate_Amount_2_0663d6aa-c918-4b65-85a7-bd8e10247734");
DB_FirstGoal_HasItemTemplate_AmountVar(3, "GEN_CheckHasItemTemplate_Amount_3_3837a5d2-c5d1-4200-bb5c-d7b8ad45f53a");
DB_FirstGoal_HasItemTemplate_AmountVar(4, "GEN_CheckHasItemTemplate_Amount_4_32f62ba7-e482-4651-8927-636de5701edc");
DB_FirstGoal_HasItemTemplate_AmountVar(5, "GEN_CheckHasItemTemplate_Amount_5_51db6483-c37d-4e38-b423-ebeb975571ac");
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(1, "GEN_CheckHasItemTemplateInMagicPockets_MoveAndReport_be71112b-b695-0105-2287-da42f04d3640");
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(2, "GEN_CheckHasItemTemplateInMagicPockets_MoveAndReport_2_60877960-2b33-3727-0341-67999b9d4176");
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(3, "GEN_CheckHasItemTemplateInMagicPockets_MoveAndReport_3_3a6d57e8-6548-0be9-aa3c-760fca2f8b02");
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(4, "GEN_CheckHasItemTemplateInMagicPockets_MoveAndReport_4_cc7e9ca0-43ac-d8fa-8b18-9942f1feceb5");
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(5, "GEN_CheckHasItemTemplateInMagicPockets_MoveAndReport_5_6007fc56-ec7c-616b-38b8-f91b4b824720");
DB_ReregisterObjectsOnRegionSwap("GLO_NPCSeesEvents");
NOT DB_GLO_DefeatCounter(NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_GLO_DefeatCounter_Target("", 0);
NOT DB_PreventPermaDefeated(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CustomDefeatedState(NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_DialogStarted_IgnoreStopConditions(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnEntered(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnTurn(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_CombatReact_AD_OnDeath(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnDeathOther(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnDeathPostCombat(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_VB_OnDeathPostCombat(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnHPPercentage(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, 0);
NOT DB_CombatReact_AD_OnMiss(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnMiss(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_OnCast(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_AD_OnCastOther(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_AD_AppliedStatus(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_AD_AppliedStatusGroup(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_AD_StatusRemoved(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_Timer(NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_PreventKnockedOutPermaDefeated(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_CombatReact_AD_AppliedStatusToPlayer(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "");
NOT DB_CombatReact_AD_AppliedStatusToPlayerByOthers(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, "", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_DefeatedEvent(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_PermaDefeatedEvent(NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_PermanentlyEvil(NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Dominated(NULL_00000000-0000-0000-0000-000000000000);
DB_BooleanStrings(1, "True");
DB_BooleanStrings(1, "TRUE");
DB_BooleanStrings(1, "true");
DB_BooleanStrings(1, "T");
DB_BooleanStrings(1, "t");
DB_BooleanStrings(1, "1");
DB_BooleanStrings(0, "False");
DB_BooleanStrings(0, "FALSE");
DB_BooleanStrings(0, "false");
DB_BooleanStrings(0, "F");
DB_BooleanStrings(0, "f");
DB_BooleanStrings(0, "0");
NOT DB_RandomizeStartOrigin(1);
DB_PredefinedOriginOptions("Astarion", S_Player_Astarion_c7c13742-bacd-460a-8f65-f864fe41f255);
DB_PredefinedOriginOptions("Gale", S_Player_Gale_ad9af97d-75da-406a-ae13-7071c563f604);
DB_PredefinedOriginOptions("Laezel", S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12);
DB_PredefinedOriginOptions("Wyll", S_Player_Wyll_c774d764-4a17-48dc-b470-32ace9ce447d);
DB_PredefinedOriginOptions("Shadowheart", S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679);
DB_PredefinedOriginOptions("Karlach", S_Player_Karlach_2c76687d-93a2-477b-8b18-8a14b549304c);
DB_PredefinedOriginOptions("DarkUrge", S_Player_DarkUrge_c66bc36f-7cb0-41fa-92f0-6d81d7d17ba3);
NOT DB_DefeatedCauses(NULL_00000000-0000-0000-0000-000000000000, "", 0);

KBSECTION
IF
DialogRequestFailed((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GetInvolvedPlayers(_Var2);
PROC_GetInvolvedNPCs(_Var2);
PROC_SaveNumActors(_Var2);
DB_DialogRequestFailed(_Var1, _Var2);

IF
AutomatedDialogRequestFailed((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GetInvolvedPlayers(_Var2);
PROC_GetInvolvedNPCs(_Var2);
PROC_SaveNumActors(_Var2);
DB_AutomatedDialog(_Var2);
DB_DialogRequestFailed(_Var1, _Var2);

IF
DialogStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GetInvolvedPlayers(_Var2);
PROC_GetInvolvedNPCs(_Var2);
PROC_SaveNumActors(_Var2);
PROC_SetDialogGoldCheckAmount(_Var1, _Var2);
PROC_SetDialogItemTemplateCheckAmount(_Var1);
DB_DialogName(_Var1, _Var2);
PROC_DialogStarted_CheckForStopConditions(_Var1, _Var2);
PROC_DialogStarted(_Var1, _Var2);

IF
InstanceDialogChanged((INTEGER)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, _, (INTEGER)_Var1)
AND
DB_DialogName(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_DialogName(_Var2, _Var1);
DB_DialogName(_Var3, _Var1);

IF
ActorSpeakerIndexChanged((INTEGER)_Var1, _, _, _, (INTEGER)_Var1)
THEN
DB_DialogInstance_SpeakersRemapped(_Var1);

IF
InstanceDialogChanged((INTEGER)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, _, (INTEGER)_Var1)
AND
DB_DialogInstance_SpeakersRemapped(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_DialogInstance_SpeakersRemapped(_Var1);
PROC_RefreshInvolvedPlayers(_Var1);
PROC_RefreshInvolvedNPCs(_Var1);

IF
InstanceDialogChanged((INTEGER)_Var1, _, (GUIDSTRING)_Var3, _, (INTEGER)_Var1)
THEN
PROC_SetDialogGoldCheckAmount(_Var3, _Var1);
PROC_SetDialogItemTemplateCheckAmount(_Var3);

IF
InstanceDialogChanged((INTEGER)_Var1, _, (GUIDSTRING)_Var3, 0, (INTEGER)_Var1)
THEN
PROC_DialogStarted(_Var3, _Var1);

PROC
PROC_DialogStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_DialogEnding(_Var1, _Var2);

IF
AutomatedDialogEnded((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_DialogEnding(_Var1, _Var2);

IF
DialogActorJoined((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (INTEGER)_Var4, (GUIDSTRING)_Var1)
AND
IntegerSum(_Var4, 1, _Var5, _Var1, _Var1)
THEN
DB_DialogSpeakers(_Var2, _Var3, _Var5);
PROC_AddActorToDialogList(_Var2, _Var3);

IF
VoiceBarkStarted(_, (INTEGER)_Var2, (VOICEBARKRESOURCE)_, (VOICEBARKRESOURCE)_, (VOICEBARKRESOURCE)_)
THEN
DB_AutomatedDialogIsVB(_Var2);

IF
AutomatedDialogStarted((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_GetInvolvedPlayers(_Var2);
PROC_GetInvolvedNPCs(_Var2);
PROC_SaveNumActors(_Var2);
DB_AutomatedDialog(_Var2);
DB_DialogName(_Var1, _Var2);
PROC_DialogStarted_CheckForStopConditions(_Var1, _Var2);

QRY
QRY_IsPlayerActor((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_IsPlayerActor((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsCharacter(_Var1, 1, _Var1, _Var1, _Var1)
AND
IsPartyMember(_Var1, 0, 1, _Var1, _Var1)
AND
IsSummon(_Var1, 0, _Var1, _Var1, _Var1)
AND
IsPartyFollower(_Var1, 0, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_DialogStarted_CheckForStopConditions((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_DialogStarted_IgnoreStopConditions(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce_Reset("DialogStarted_StopRequested", _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var2, _Var3, _, _Var1, _Var1)
AND
QRY_DialogStarted_CheckPlayerForStopConditions(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("DialogStarted_StopRequested", _Var1, _Var1, _Var1, _Var1)
THEN
DialogRequestStopForDialog(_Var1, _Var3);
PROC_DialogStoppedBecauseDeadDownedPlayer(_Var1, _Var3);

PROC
PROC_DialogStoppedBecauseDeadDownedPlayer((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

QRY
QRY_DialogStarted_CheckPlayerForStopConditions((INTEGER)_Var1, (CHARACTER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_DialogDeath(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Dead(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DialogStarted_CheckPlayerForStopConditions((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
QRY_DialogStarted_CheckPlayerForStopConditions_IgnoreDowned(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Downed(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_DialogStarted_CheckPlayerForStopConditions_IgnoreDowned((INTEGER)_Var1, (CHARACTER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
1 == 2
THEN
DB_NOOP(1);

QRY
QRY_DialogStarted_CheckPlayerForStopConditions((INTEGER)_Var1, (CHARACTER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_Is_Banished(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_AddActorToDialogList((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_IsPlayerActor(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_AddPlayerActorToDialogList(_Var1, _Var2);
DB_ActorAddedToList(1);

PROC
PROC_AddActorToDialogList((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_ActorAddedToList(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_AddNPCActorToDialogList(_Var1, _Var2);

PROC
PROC_AddActorToDialogList(_, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
NOT DB_ActorAddedToList(1);

PROC
PROC_AddPlayerActorToDialogList((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_DialogNumPlayers(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var4, 1, _Var5, _Var1, _Var1)
THEN
DB_DialogPlayers(_Var1, _Var2, _Var5);
PROC_SetNumberOfInvolvedActors(_Var1);

PROC
PROC_AddNPCActorToDialogList((INTEGER)_Var1, (GUIDSTRING)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_DialogNPCs(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_DialogNumNPCs(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var4, 1, _Var5, _Var1, _Var1)
THEN
DB_DialogNPCs(_Var1, _Var2, _Var5);
PROC_SetNumberOfInvolvedActors(_Var1);

IF
DB_DialogSpeakers(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_DialogSpeakers(_Var1, _Var4, _Var3, _Var1, _Var1)
AND
_Var2 != _Var4
THEN
NOT DB_DialogSpeakers(_Var1, _Var4, _Var3);

PROC
PROC_SetNumberOfInvolvedActors((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogNumPlayers(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_DialogNumNPCs(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_DialogNumPlayers(_Var1, _Var2);
NOT DB_DialogNumNPCs(_Var1, _Var3);
PROC_SaveNumActors(_Var1);

PROC
PROC_SaveNumActors((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DialogGetNumberOfInvolvedNPCs(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DialogGetNumberOfInvolvedPlayers(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
DB_DialogNumPlayers(_Var1, _Var3);
DB_DialogNumNPCs(_Var1, _Var2);

PROC
PROC_GetInvolvedNPCs((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_GetInvolveNPC(_Var1, 1);

PROC
PROC_GetInvolveNPC((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DialogGetInvolvedNPC(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
IntegerSum(_Var2, 1, _Var4, _Var1, _Var1)
THEN
DB_DialogNPCs(_Var1, _Var3, _Var2);
PROC_GetInvolveNPC(_Var1, _Var4);

PROC
PROC_GetInvolvedPlayers((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_GetInvolvePlayer(_Var1, 1);

PROC
PROC_GetInvolvePlayer((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DialogGetInvolvedPlayer(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
IntegerSum(_Var2, 1, _Var4, _Var1, _Var1)
THEN
DB_DialogPlayers(_Var1, _Var3, _Var2);
PROC_GetInvolvePlayer(_Var1, _Var4);

PROC
PROC_RefreshInvolvedPlayers((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_RefreshInvolvedPlayer(_Var1, 1);

PROC
PROC_RefreshInvolvedPlayer((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var3, _Var2, _Var1, _Var1)
AND
DialogGetInvolvedPlayer(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
IntegerSum(_Var2, 1, _Var5, _Var1, _Var1)
THEN
PROC_UpdateInvolvedPlayer(_Var1, _Var2, _Var4, _Var3);
PROC_RefreshInvolvedPlayer(_Var1, _Var5);

PROC
PROC_UpdateInvolvedPlayer((INTEGER)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (INTEGER)_Var1)
AND
_Var3 != _Var4
THEN
DB_DialogPlayers(_Var1, _Var3, _Var2);
DB_DialogPlayersToRemove(_Var1, _Var4, _Var2);

PROC
PROC_RefreshInvolvedNPCs((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_RefreshInvolvedNPC(_Var1, 1);

PROC
PROC_RefreshInvolvedNPC((INTEGER)_Var1, (INTEGER)_Var2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogNPCs(_Var1, _Var3, _Var2, _Var1, _Var1)
AND
DialogGetInvolvedNPC(_Var1, _Var2, _Var4, _Var1, _Var1)
AND
IntegerSum(_Var2, 1, _Var5, _Var1, _Var1)
THEN
PROC_UpdateInvolvedNPC(_Var1, _Var2, _Var4, _Var3);
PROC_RefreshInvolvedNPC(_Var1, _Var5);

PROC
PROC_UpdateInvolvedNPC((INTEGER)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (INTEGER)_Var1)
AND
_Var3 != _Var4
THEN
DB_DialogNPCs(_Var1, _Var3, _Var2);
DB_DialogNPCsToRemove(_Var1, _Var4, _Var2);

PROC
PROC_RefreshInvolvedPlayers((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayersToRemove(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_DialogPlayers(_Var1, _Var2, _Var3);

PROC
PROC_RefreshInvolvedNPCs((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogNPCsToRemove(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_DialogNPCs(_Var1, _Var2, _Var3);

PROC
PROC_SetDialogGoldCheckAmount((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogMoneyTransfer(_Var3, _Var1, _Var4, _Var5, _)
AND
DB_DialogNPCs(_Var2, _Var7, 1, _Var1, _Var1)
AND NOT
DB_DialogMoneyTransfer_ForInstanceWaitingForStart(_Var3, _Var1, _Var7, _Var1, _Var1)
AND
DB_FirstGoal_MoneyDialogVar(_Var3, _Var8, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_CheckPocketGoldSpeakerVar(_Var3, _Var9, _Var1, _Var1, _Var1)
THEN
DialogSetVariableInt(_Var1, _Var8, _Var4);
DialogSetVariableInt(_Var1, _Var9, _Var5);

PROC
PROC_SetDialogGoldCheckAmount((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogMoneyTransfer(_Var3, _Var1, _Var4, _Var5, _Var6)
AND
DB_DialogNPCs(_Var2, _Var7, 1, _Var1, _Var1)
AND
DB_DialogMoneyTransfer_ForInstanceWaitingForStart(_Var3, _Var1, _Var7, _Var1, _Var1)
AND
DB_FirstGoal_MoneyDialogVar(_Var3, _Var8, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_CheckPocketGoldSpeakerVar(_Var3, _Var9, _Var1, _Var1, _Var1)
THEN
NOT DB_DialogMoneyTransfer_ForInstance(_Var3, _Var1, _Var7);
DB_DialogMoneyTransfer_InstanceData(_Var2, _Var3, _Var4, _Var5, _Var6);
DialogSetVariableIntForInstance(_Var2, _Var8, _Var4);
DialogSetVariableIntForInstance(_Var2, _Var9, _Var5);

IF
DB_StartedDialog(_Var1, _Var2, _Var3, _Var4, _Var5, _Var6, _Var7, _Var1, _Var1, _Var1)
AND
DB_DialogMoneyTransfer_ForInstance(_Var8, _Var1, _Var2, _Var1, _Var1)
THEN
NOT DB_DialogMoneyTransfer_ForInstance(_Var8, _Var1, _Var2);
DB_DialogMoneyTransfer_ForInstanceWaitingForStart(_Var8, _Var1, _Var2);

IF
DialogRequestFailed((DIALOGRESOURCE)_Var1, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_DialogNPCs(_Var3, _Var4, 1, _Var1, _Var1)
AND
DB_DialogMoneyTransfer_ForInstanceWaitingForStart(_Var5, _Var1, _Var4, _Var1, _Var1)
THEN
NOT DB_DialogMoneyTransfer_ForInstanceWaitingForStart(_Var5, _Var1, _Var4);

QRY
QRY_StartDialogFailed((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5, (GUIDSTRING)_Var6, (GUIDSTRING)_Var7, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_DialogMoneyTransfer_ForInstance(_Var8, _Var1, _Var2, _Var1, _Var1)
THEN
NOT DB_DialogMoneyTransfer_ForInstance(_Var8, _Var1, _Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_DialogMoneyTransfer_InstanceData(_Var2, _Var3, _Var4, _Var5, _Var6)
THEN
NOT DB_DialogMoneyTransfer_InstanceData(_Var2, _Var3, _Var4, _Var5, _Var6);

PROC
PROC_SetDialogItemTemplateCheckAmount((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_HasItemTemplateScriptFlag(_Var2, _Var1, _Var3, _Var4, _Var5, _Var6, _Var1, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_HasItemTemplate_TemplateVar(_Var2, _Var7, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_HasItemTemplate_SpeakerVar(_Var2, _Var8, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_HasItemTemplate_AmountVar(_Var2, _Var9, _Var1, _Var1, _Var1)
AND
DB_FirstGoal_HasItemTemplate_MoveAndReportVar(_Var2, _Var10, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var3, _Var11, _Var1, _Var1, _Var1)
THEN
DialogSetVariableString(_Var1, _Var7, _Var11);
DialogSetVariableInt(_Var1, _Var8, _Var4);
DialogSetVariableInt(_Var1, _Var9, _Var5);
DialogSetVariableInt(_Var1, _Var10, _Var6);

IF
TeleportedToCamp((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsSpeakerReserved(_Var1, 0, _Var1, _Var1, _Var1)
THEN
PROC_ForceStopDialog(_Var1);

PROC
PROC_CheckIfOtherPlayersCanSeeNPC(_, _, _, _, _)
AND
DB_OtherPlayersSee(_Var3, _, _, _, _)
THEN
NOT DB_OtherPlayersSee(_Var3);

PROC
PROC_CheckIfOtherPlayersCanSeeNPC((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 != _Var1
AND
DB_Sees(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
DB_OtherPlayersSee(_Var2);

QRY
QRY_CheckOtherPlayersInTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 != _Var1
AND
DB_InRegion(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_CheckOtherPartyMembersInTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 != _Var1
AND
DB_InRegion(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_AnyCharacterInTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_InRegion(_, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_AnyAvatarInTrigger((TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
DB_Avatars(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_AnyPlayerInTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_AnyPlayerNotInTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_AnyPartyMemberInTrigger((TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_RegisterLevelObject((STRING)_Var1, (TRIGGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
GetRegion(_Var2, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_RegisteredLevelObjects(_Var1, _Var3, _Var2, _Var1, _Var1)
THEN
DB_RegisteredLevelObjects(_Var1, _Var3, _Var2);
PROC_DoRegisterLevelObject(_Var1, _Var3, _Var2);

PROC
PROC_DoRegisterLevelObject((STRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (STRING)_Var1, (STRING)_Var1)
AND
Exists(_Var3, 0, _Var1, _Var1, _Var1)
THEN
DB_LevelObjectsToRegister(_Var1, _Var2, _Var3);

PROC
PROC_DoRegisterLevelObject((STRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, (STRING)_Var1, (STRING)_Var1)
AND
Exists(_Var3, 1, _Var1, _Var1, _Var1)
AND NOT
GetRegion(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
DB_LevelObjectsToRegister(_Var1, _Var2, _Var3);

PROC
PROC_DoRegisterLevelObject((STRING)_Var1, (STRING)_Var2, (TRIGGER)_Var3, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_LevelObjectsToRegister(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_LevelObjectRegistered(_Var1, _Var3);

PROC
PROC_UnregisterLevelObject((STRING)_Var1, (TRIGGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_RegisteredLevelObjects(_Var1, _Var3, _Var2, _Var1, _Var1)
AND NOT
DB_CurrentLevel(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LevelObjectsToUnregister(_Var1, _Var3, _Var2);

PROC
PROC_UnregisterLevelObject((STRING)_Var1, (TRIGGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_RegisteredLevelObjects(_Var1, _Var3, _Var2, _Var1, _Var1)
AND NOT
DB_LevelObjectsToUnregister(_Var1, _Var3, _Var2, _Var1, _Var1)
THEN
PROC_LevelObjectUnregistered(_Var1, _Var2);

PROC
PROC_UnregisterLevelObject((STRING)_Var1, (TRIGGER)_Var2, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_RegisteredLevelObjects(_Var1, _Var3, _Var2, _Var1, _Var1)
THEN
NOT DB_RegisteredLevelObjects(_Var1, _Var3, _Var2);

IF
DB_LevelObjectsToUnregister(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_LevelObjectsToRegister(_Var1, _Var2, _Var3);

IF
DB_LevelObjectsToRegister(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_LevelObjectsToUnregister(_Var1, _Var2, _Var3);

IF
LevelLoaded((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_RegisteredObjectsLevel(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SysClear("DB_RegisteredObjectsLevel", 1);
DB_RegisteredObjectsLevel(_Var1);
PROC_UnregisterObjectsForRegion(_Var1);
PROC_RegisterObjectsForRegion(_Var1);

PROC
PROC_UnregisterObjectsForRegion((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LevelObjectsToUnregister(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_LevelObjectUnregistered(_Var2, _Var3);
NOT DB_LevelObjectsToUnregister(_Var2, _Var1, _Var3);

PROC
PROC_UnregisterObjectsForRegion((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LevelObjectsToUnregister(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_LevelObjectUnregistered(_Var2, _Var3);
NOT DB_LevelObjectsToUnregister(_Var2, _Var1, _Var3);

PROC
PROC_RegisterObjectsForRegion((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_ReregisterObjectsOnRegionSwap(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_RegisteredLevelObjects(_Var2, _Var1, _Var3, _Var1, _Var1)
AND NOT
DB_LevelObjectsToRegister(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_LevelObjectRegistered(_Var2, _Var3);

PROC
PROC_RegisterObjectsForRegion((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_LevelObjectsToRegister(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_LevelObjectRegistered(_Var2, _Var3);
NOT DB_LevelObjectsToRegister(_Var2, _Var1, _Var3);

IF
Saw((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_Sees(_Var1, _Var2);

IF
LostSightOf((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_Sees(_Var1, _Var2);

QRY
QRY_IsDefaultSightGenerator((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_IsDefaultSightGenerator((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_PartyFollowers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_StartNPCSightEvents((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_IsDefaultSightGenerator(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
Concatenate("Trying to enable sight events for character, but it's a player or party follower and those always generate sight events: ", _Var2, _Var3, _Var1, _Var1)
THEN
DebugBreak(_Var3);

PROC
PROC_StartNPCSightEvents((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
QRY_IsDefaultSightGenerator(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount");
PROC_RegisterLevelObject("GLO_StartNPCSightEvents", _Var1);

PROC
PROC_LevelObjectRegistered("GLO_StartNPCSightEvents", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
StartSightEvents(_Var1);

PROC
PROC_ForceStopNPCSightEvents((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2, _Var1, _Var1)
AND
_Var2 >= 1
THEN
NOT DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2);
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", 1);
PROC_StopNPCSightEvents(_Var1);

PROC
PROC_StopNPCSightEvents((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("Trying to disable sight events for NPC, but sight events were never started for it: ", _Var3, _Var4, _Var1, _Var1)
THEN
DebugBreak(_Var4);

PROC
PROC_StopNPCSightEvents((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2, _Var1, _Var1)
AND
_Var2 == 0
AND
GUIDToString(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("Trying to disable sight events for NPC, but its sight events refcount is already 0: ", _Var3, _Var4, _Var1, _Var1)
THEN
DebugBreak(_Var4);

PROC
PROC_StopNPCSightEvents((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", 1, _Var1, _Var1)
THEN
PROC_UnregisterLevelObject("GLO_StartNPCSightEvents", _Var1);

PROC
PROC_StopNPCSightEvents((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2, _Var1, _Var1)
AND
_Var2 > 0
THEN
PROC_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", -1);

PROC
PROC_LevelObjectUnregistered("GLO_StartNPCSightEvents", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
QRY_IsDefaultSightGenerator(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
StopSightEvents(_Var1);

IF
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2, _Var1, _Var1)
AND
_Var2 > 0
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ObjectCountHelperReset(_Var1, "GLO_NPCSightEventsRefCount");
PROC_UnregisterLevelObject("GLO_StartNPCSightEvents", _Var1);

IF
DB_ObjectCountHelper(_Var1, "GLO_NPCSightEventsRefCount", _Var2, _Var1, _Var1)
AND
_Var2 > 0
AND
DB_PartyFollowers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_ObjectCountHelperReset(_Var1, "GLO_NPCSightEventsRefCount");
PROC_UnregisterLevelObject("GLO_StartNPCSightEvents", _Var1);

IF
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_SeenAliveNPCPartyFlag(_Var2, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var3, _Var1);

PROC
PROC_ForceUpdateDBSees((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
CanSee(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_UpdateDBSees(_Var1, _Var2, _Var3);

PROC
PROC_UpdateDBSees((CHARACTER)_Var1, (CHARACTER)_Var2, 0, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Sees(_Var1, _Var2);

PROC
PROC_UpdateDBSees((CHARACTER)_Var1, (CHARACTER)_Var2, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_Sees(_Var1, _Var2);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_InRegion(_Var1, _Var2);

IF
LeftTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_InRegion(_Var1, _Var2);
DB_WasInRegion(_Var1, _Var2);

IF
Dying((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_DefeatedCauses(_Var1, "Dead", 0);
DB_Dead(_Var1);

IF
Died((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_DefeatedCauses(_Var1, "Dead", 0);
DB_Dead(_Var1);

IF
Resurrected((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RemoveStatus(_Var1, "RESURRECTING", NULL_00000000-0000-0000-0000-000000000000);
NOT DB_DefeatedCauses(_Var1, "Dead", 0);
NOT DB_Dead(_Var1);

IF
DestroyedBy((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
THEN
DB_DefeatedCauses(_Var1, "Destroyed", 0);
DB_Destroyed(_Var1);

IF
StatusApplied((CHARACTER)_Var1, "SURRENDERED", (GUIDSTRING)_Var2, _, (CHARACTER)_Var1)
AND NOT
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_DefeatedCauses(_Var1, "Surrendered", 0);
DB_Surrendered(_Var1);
PROC_Surrendered(_Var1, _Var2);

PROC
PROC_Surrendered((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

IF
StatusAttempt((GUIDSTRING)_Var1, "KNOCKED_OUT", _, _, (GUIDSTRING)_Var1)
AND
HasActiveStatus(_Var1, "KNOCKED_OUT", 0, _Var1, _Var1)
THEN
DB_KnockingOut(_Var1);

IF
StatusAttemptFailed((CHARACTER)_Var1, "KNOCKED_OUT", _, _, (CHARACTER)_Var1)
AND
DB_KnockingOut(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_KnockingOut(_Var1);

IF
StatusRemoved((CHARACTER)_Var1, "SURRENDERED", _, _, (CHARACTER)_Var1)
AND
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockingOut(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Surrendered_Removed(_Var1);

PROC
PROC_Surrendered_Removed((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "Surrendered", 0);
NOT DB_Surrendered(_Var1);
PROC_Surrender_Restore(_Var1);

IF
StatusApplied((GUIDSTRING)_Var1, "KNOCKED_OUT", (GUIDSTRING)_Var2, _, (GUIDSTRING)_Var1)
AND NOT
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
CanFight(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
CanJoinCombat(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
GetHasOsirisDialog(_Var1, _Var6, _Var1, _Var1, _Var1)
THEN
NOT DB_KnockingOut(_Var1);
DB_DefeatedCauses(_Var1, "KnockedOut", 0);
DB_KnockedOut(_Var1);
DB_KnockedOut_RestoreProperties(_Var1, _Var4, _Var5, _Var6);
PROC_SetCanFight(_Var1, 0);
SetCanJoinCombat(_Var1, 0);
SetHasDialog(_Var1, 1);
PROC_KnockedOut(_Var1, _Var2);

PROC
PROC_KnockedOut((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
StatusRemoved((CHARACTER)_Var1, "KNOCKED_OUT", _, _, (CHARACTER)_Var1)
AND
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
Concatenate("Waking up NPC from KNOCKED_OUT but it was not in DB_PreventKnockedOutPermaDefeated (nor a playable character, nor in DB_PreventPermaDefeated), so it was in and will remain in DB_PermaDefeated: ", _Var4, _Var5, _Var1, _Var1)
THEN
DebugBreak(_Var5);

IF
StatusRemoved((GUIDSTRING)_Var1, "KNOCKED_OUT", _, _, (GUIDSTRING)_Var1)
AND
DB_KnockedOut_RestoreProperties(_Var1, _Var4, _Var5, _Var6, _Var1)
THEN
PROC_SetCanFight(_Var1, _Var4);
SetCanJoinCombat(_Var1, _Var5);
SetHasDialog(_Var1, _Var6);
NOT DB_DefeatedCauses(_Var1, "KnockedOut", 0);
NOT DB_KnockedOut(_Var1);
NOT DB_KnockedOut_RestoreProperties(_Var1, _Var4, _Var5, _Var6);
PROC_KnockedOut_Ended(_Var1);

PROC
PROC_KnockedOut_Ended((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DownedChanged((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "GLO_Downed_VerifyStillDowned", 500);

IF
DownedChanged((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RealtimeObjectTimerCancel(_Var1, "GLO_Downed_VerifyStillDowned");

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "GLO_Downed_VerifyStillDowned", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_DefeatedCauses(_Var1, "Downed", 0);
DB_Downed(_Var1);

IF
DownedChanged((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "Downed", 0);
NOT DB_Downed(_Var1);

PROC
PROC_GLO_CursedIronFlask_CaptureCreature((CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_DefeatedCauses(_Var1, "IronFlasked", 0);
DB_IronFlasked(_Var1);

PROC
PROC_GLO_CursedIronFlask_CreatureWasReleased((CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "IronFlasked", 0);
NOT DB_IronFlasked(_Var1);

IF
InteractionCapabilityChanged((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_Is_EngineBlock_Act(_Var1);

IF
InteractionCapabilityChanged((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_Is_EngineBlock_Act(_Var1);

IF
ShapeshiftChanged((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
AND
HasActiveStatusWithGroup(_Var1, "SG_Polymorph_BeastShape", 1, _Var1, _Var1)
THEN
DB_Is_WildShaped(_Var1);

IF
ShapeshiftChanged((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
AND
DB_CurrentMutingStatuses(_Var1, _Var5, _Var6, _Var1, _Var1)
AND
HasActiveStatus(_Var1, _Var5, 0, _Var1, _Var1)
THEN
NOT DB_CurrentMutingStatuses(_Var1, _Var5, _Var6);
PROC_TryClearMuted(_Var1);

IF
ShapeshiftChanged((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
AND
DB_Is_WildShaped(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
HasActiveStatusWithGroup(_Var1, "SG_Polymorph_BeastShape", 0, _Var1, _Var1)
THEN
NOT DB_Is_WildShaped(_Var1);

IF
DialogueCapabilityChanged((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_Is_EngineBlock_Talk(_Var1);

IF
DialogueCapabilityChanged((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_Is_EngineBlock_Talk(_Var1);

IF
MoveCapabilityChanged((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_Is_EngineBlock_Move(_Var1);

IF
MoveCapabilityChanged((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_Is_EngineBlock_Move(_Var1);

IF
WentOnStage((GUIDSTRING)_Var1, 0, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_OffStage(_Var1);

IF
WentOnStage((GUIDSTRING)_Var1, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_OffStage(_Var1);

IF
DB_DialogRequestCache_SpeakerList_Speakers(_, _Var2, _Var3, _, _)
AND NOT
DB_AutomatedDialog(_Var2, _, _, _, _)
THEN
DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
DialogActorJoined(_, (INTEGER)_Var2, (GUIDSTRING)_Var3, _, _)
AND NOT
DB_AutomatedDialog(_Var2, _, _, _, _)
AND NOT
DB_InteractiveDialogSpeaker(_Var2, _Var3, _, _, _)
THEN
DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
DialogRequestFailed(_, (INTEGER)_Var2, _, _, _)
AND
DB_InteractiveDialogSpeaker(_Var2, _Var3, _, _, _)
THEN
NOT DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
DialogActorJoinFailed((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_InteractiveDialogSpeaker(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
DialogActorLeft((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var3, 0, (GUIDSTRING)_Var1)
AND
DB_InteractiveDialogSpeaker(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_InteractiveDialogSpeaker(_Var2, _Var3, _, _, _)
THEN
NOT DB_InteractiveDialogSpeaker(_Var2, _Var3);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND NOT
DB_DefeatedCauses(_Var1, "PermaPetrified", 0, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
AND
GetStatusTurns(_Var1, _Var2, -1, _Var1, _Var1)
THEN
DB_DefeatedCauses(_Var1, "PermaPetrified", 0);

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_DefeatedCauses(_Var1, "PermaPetrified", 0, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
AND
HasActiveStatusWithGroup(_Var1, "SG_Petrified", 0, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "PermaPetrified", 0);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND NOT
DB_DefeatedCauses(_Var1, "TempPetrified", 0, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
AND
GetStatusTurns(_Var1, _Var2, _Var5, _Var1, _Var1)
AND
_Var5 > -1
THEN
DB_DefeatedCauses(_Var1, "TempPetrified", 0);

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_DefeatedCauses(_Var1, "TempPetrified", 0, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
AND
HasActiveStatusWithGroup(_Var1, "SG_Petrified", 0, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "TempPetrified", 0);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND NOT
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
THEN
DB_Petrified(_Var1);
DebugText(_Var1, "Petrified added");

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Petrified", 1, _Var1, _Var1)
AND
HasActiveStatusWithGroup(_Var1, "SG_Petrified", 0, _Var1, _Var1)
THEN
NOT DB_Petrified(_Var1);
DebugText(_Var1, "Petrified removed");

IF
StatusApplied((GUIDSTRING)_Var1, "FEIGN_DEATH", _, _, (GUIDSTRING)_Var1)
AND NOT
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_FeignDeath(_Var1);

IF
StatusRemoved((GUIDSTRING)_Var1, "FEIGN_DEATH", _, _, (GUIDSTRING)_Var1)
AND
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_FeignDeath(_Var1);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
GetStatusType(_Var2, "POLYMORPHED", _Var1, _Var1, _Var1)
THEN
DB_Is_Polymorphed(_Var1);

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_Is_Polymorphed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetStatusType(_Var2, "POLYMORPHED", _Var1, _Var1, _Var1)
AND
HasAppliedStatusOfType(_Var1, "POLYMORPHED", 0, _Var1, _Var1)
THEN
NOT DB_Is_Polymorphed(_Var1);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
IsStatusFromGroup(_Var2, "SG_Polymorph", 1, _Var1, _Var1)
THEN
DB_Is_PolymorphedByPlayer(_Var1);

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_Is_PolymorphedByPlayer(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
HasAppliedStatusWithGroup(_Var1, "SG_Polymorph", 0, _Var1, _Var1)
THEN
NOT DB_Is_PolymorphedByPlayer(_Var1);

IF
StatusApplied((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND NOT
DB_DefeatedCauses(_Var1, "PermaBanished", 0, _Var1, _Var1)
AND
GetStatusTurns(_Var1, "BANISHED", -1, _Var1, _Var1)
THEN
DB_DefeatedCauses(_Var1, "PermaBanished", 0);

IF
StatusRemoved((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND
DB_DefeatedCauses(_Var1, "PermaBanished", 0, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "PermaBanished", 0);

IF
StatusApplied((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND NOT
DB_DefeatedCauses(_Var1, "TempBanished", 0, _Var1, _Var1)
AND
GetStatusTurns(_Var1, "BANISHED", _Var4, _Var1, _Var1)
AND
_Var4 > -1
THEN
DB_DefeatedCauses(_Var1, "TempBanished", 0);

IF
StatusRemoved((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND
DB_DefeatedCauses(_Var1, "TempBanished", 0, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, "TempBanished", 0);

IF
StatusApplied((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND NOT
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Is_Banished(_Var1);

IF
StatusRemoved((CHARACTER)_Var1, "BANISHED", _, _, (CHARACTER)_Var1)
AND
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Is_Banished(_Var1);

IF
DB_Shapeshifting_Inconspicuous_TagExpr(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_Is_InconspicuousPartyMember(_Var1);

IF
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Shapeshifting_Inconspicuous_TagExpr(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
SatisfiesTagExpression(_Var1, _Var2, 1, _Var1, _Var1)
THEN
DB_Is_InconspicuousPartyMember(_Var1);

IF
ShapeshiftChanged((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InconspicuousPartyMember(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Shapeshifting_Inconspicuous_TagExpr(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
SatisfiesTagExpression(_Var1, _Var5, 1, _Var1, _Var1)
THEN
DB_Is_InconspicuousPartyMember(_Var1);

IF
ShapeshiftChanged((GUIDSTRING)_Var1, _, _, _, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InconspicuousPartyMember(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Shapeshifting_Inconspicuous_TagExpr(_Var1, _Var5, _Var1, _Var1, _Var1)
AND
SatisfiesTagExpression(_Var1, _Var5, 0, _Var1, _Var1)
THEN
NOT DB_Is_InconspicuousPartyMember(_Var1);

IF
DB_Is_InconspicuousPartyMember(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_Is_InconspicuousPartyMember(_Var1);

IF
StatusAttempt((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
IsStatusFromGroup(_Var2, "SG_DropForNonMutingDialog", 1, _Var1, _Var1)
THEN
DB_AttemptingMutingStatuses(_Var1, _Var2, _Var3);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
DB_AttemptingMutingStatuses(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
DB_CurrentMutingStatuses(_Var1, _Var2, _Var3);
NOT DB_AttemptingMutingStatuses(_Var1, _Var2, _Var3);
SetTag(_Var1, MUTED_150ee63f-4d47-4951-b944-a853d8beb9a8);

IF
StatusAttemptFailed((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
DB_AttemptingMutingStatuses(_Var5, _Var2, _Var3, _Var1, _Var1)
THEN
NOT DB_AttemptingMutingStatuses(_Var5, _Var2, _Var3);

QRY
QRY_HasMutingStatusAndCache((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_CurrentMutingStatuses(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_HasMutingStatusAndCache((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_AttemptingMutingStatuses(_Var1, _, _, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_HasMutingStatusAndCache((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_AttemptingMutingStatuses(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_CurrentMutingStatuses(_Var1, _, _, _Var1, _Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
AND
HasAppliedStatusWithGroup(_Var1, "SG_DropForNonMutingDialog", 1, _Var1, _Var1)
THEN
DB_AttemptingMutingStatuses(_Var1, "SG_DropForNonMutingDialog_Dummy", NULL_00000000-0000-0000-0000-000000000000);

IF
StatusAttempt((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
DB_AttemptingMutingStatuses(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
DB_AttemptingMutingStatuses(_Var1, "SG_DropForNonMutingDialog_Dummy", NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1)
THEN
NOT DB_AttemptingMutingStatuses(_Var1, "SG_DropForNonMutingDialog_Dummy", NULL_00000000-0000-0000-0000-000000000000);

IF
StatusAttemptFailed((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var3, _, (GUIDSTRING)_Var1)
AND
DB_AttemptingMutingStatuses(_Var1, "SG_DropForNonMutingDialog_Dummy", NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1)
AND
HasAppliedStatusWithGroup(_Var1, "SG_DropForNonMutingDialog", 0, _Var1, _Var1)
THEN
NOT DB_AttemptingMutingStatuses(_Var1, "SG_DropForNonMutingDialog_Dummy", NULL_00000000-0000-0000-0000-000000000000);

IF
StatusRemoved((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_CurrentMutingStatuses(_Var1, _Var2, _Var5, _Var1, _Var1)
AND
HasActiveStatus(_Var1, _Var2, 0, _Var1, _Var1)
THEN
NOT DB_CurrentMutingStatuses(_Var1, _Var2, _Var5);
PROC_TryClearMuted(_Var1);

PROC
PROC_TryClearMuted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_CurrentMutingStatuses(_Var1, _, _, _Var1, _Var1)
THEN
ClearTag(_Var1, MUTED_150ee63f-4d47-4951-b944-a853d8beb9a8);

IF
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_CRIME_FledOutOfSight(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CRIME_FledOutOfSight(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatDead(_Var1);

IF
DB_Is_EngineBlock_Talk(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatDead(_Var1);

IF
DB_Is_WildShaped(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatDead(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombatDead(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_EngineBlock_Talk(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_WildShaped(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreDialogsCombatDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreDialogsCombatDead(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombat(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDialogsCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreDialogsCombat(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreDialogsCombat(_Var1);
PROC_StateCleared_CantTalk_IgnoreDialogsCombat(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatusesCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreStatusesCombatDead(_Var1);

IF
DB_InteractiveDialogSpeaker(_, _Var2, _, _, _)
AND NOT
DB_ObjectIsDialogSoftLocked(_, _Var2, _, _, _)
AND NOT
DB_CantTalk_IgnoreStatusesCombatDead(_Var2, _, _, _, _)
THEN
DB_CantTalk_IgnoreStatusesCombatDead(_Var2);
PROC_StateSet_CantTalk_IgnoreStatusesCombatDead(_Var2);

IF
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreStatusesCombatDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatusesCombatDead(_Var1);

IF
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatusesCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreStatusesCombat(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatusesCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreStatusesCombat(_Var1);

IF
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreStatusesCombat(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatusesCombat(_Var1);

IF
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreCombat(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreCombat(_Var1);
PROC_StateSet_CantTalk_IgnoreCombat(_Var1);

IF
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreCombat(_Var1);
PROC_StateCleared_CantTalk_IgnoreCombat(_Var1);

IF
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreCombatDead(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreCombatDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDead(_Var1);

IF
DB_CantTalk_IgnoreCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreCombatDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreCombatDead(_Var1);

IF
DB_CantTalk_IgnoreCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDead(_Var1);

IF
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreDead(_Var1);
PROC_StateSet_CantTalk_IgnoreDead(_Var1);

IF
DB_CantTalk_IgnoreDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreDead(_Var1);

IF
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatusesDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatusesDead(_Var1);

IF
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatusesDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatusesDead(_Var1);

IF
DB_CantTalk_IgnoreStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesCombatDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreStatusesDead(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatusesDead(_Var1);

IF
DB_CantTalk_IgnoreStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatuses(_Var1);
PROC_StateSet_CantTalk_IgnoreStatuses(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk_IgnoreStatuses(_Var1);
PROC_StateSet_CantTalk_IgnoreStatuses(_Var1);

IF
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatusesDead(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk_IgnoreStatuses(_Var1);
PROC_StateCleared_CantTalk_IgnoreStatuses(_Var1);

IF
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk(_Var1);
PROC_StateSet_CantTalk(_Var1);

IF
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk(_Var1);
PROC_StateSet_CantTalk(_Var1);

IF
DB_CantTalk_IgnoreDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk(_Var1);
PROC_StateSet_CantTalk(_Var1);

IF
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantTalk(_Var1);
PROC_StateSet_CantTalk(_Var1);

IF
DB_CantTalk(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreStatuses(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreDialogsCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantTalk(_Var1);
PROC_StateCleared_CantTalk(_Var1);

PROC
PROC_StateCleared_CantTalk_IgnoreDialogsCombatStatusesDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreDialogsCombatStatusesDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreStatusesCombatDead((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreStatusesCombatDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreStatusesCombat((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreStatusesCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreDialogsCombatDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreDialogsCombatDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreDialogsCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreDialogsCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreCombatDead((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreCombatDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreCombat((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreStatusesDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreStatusesDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreStatuses((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreStatuses((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk_IgnoreDead((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk_IgnoreDead((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateSet_CantTalk((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantTalk((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DB_Is_EngineBlock_Move(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_InteractiveDialogSpeaker(_, _Var2, _, _, _)
AND NOT
DB_CantMove(_Var2, _, _, _, _)
THEN
DB_CantMove(_Var2);
PROC_StateSet_CantMove(_Var2);

IF
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantMove(_Var1);
PROC_StateSet_CantMove(_Var1);

IF
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_EngineBlock_Move(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantMove(_Var1);
PROC_StateCleared_CantMove(_Var1);

PROC
PROC_StateSet_CantMove((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantMove((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DB_Origins(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Playable(_Var1);

IF
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_Playable(_Var1);

IF
DB_Hirelings_HACK_Classes(_, _Var2, _, _, _)
THEN
DB_GLO_Playable(_Var2);

IF
DB_GLO_Playable(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetTag(_Var1, PLAYABLE_25bf5042-5bf6-4360-8df8-ab107ccb0d37);

IF
DB_GLO_Playable(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, BLOCK_RESURRECTION_22a75dbb-1588-407e-b559-5aa4e6d4e6a6, 0, _Var1, _Var1)
THEN
DB_CanBeResurrected(_Var1);

IF
TagSet((GUIDSTRING)_Var1, BLOCK_RESURRECTION_22a75dbb-1588-407e-b559-5aa4e6d4e6a6, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_CanBeResurrected(_Var1);

IF
TagCleared((GUIDSTRING)_Var1, BLOCK_RESURRECTION_22a75dbb-1588-407e-b559-5aa4e6d4e6a6, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_GLO_Playable(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CanBeResurrected(_Var1);

IF
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, PLAYABLE_25bf5042-5bf6-4360-8df8-ab107ccb0d37, 1, _Var1, _Var1)
THEN
DB_GLO_Playable(_Var1);

IF
DB_Origins(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, PLAYABLE_25bf5042-5bf6-4360-8df8-ab107ccb0d37, 1, _Var1, _Var1)
THEN
DB_GLO_Playable(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CanBeResurrected(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventKnockedOutPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CanBeResurrected(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_ForceRemoveKnockedOutCharacterOnLongRest(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventKnockedOutPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CanBeResurrected(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
HasAppliedStatus(_Var1, "KNOCKED_OUT_TEMPORARILY", 0, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

IF
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

IF
LeftLevel((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsSummon(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

IF
DB_PermanentlyEvil(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PreventPermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

PROC
PROC_Surrender_Fled((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_PermaDefeated(_Var1);
PROC_StateSet_PermaDefeated(_Var1);

PROC
PROC_StateSet_PermaDefeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
SetTag(_Var1, PERMA_DEFEATED_867f3a1e-1e4b-48c2-869e-343415231727);

PROC
PROC_StateSet_PermaDefeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PermaDefeatedEvent(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000);

IF
DB_CustomDefeatedState(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
DB_DefeatedCauses(_Var1, _Var2, 1);
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_DefeatedCauses(_Var1, _Var2, 1, _Var1, _Var1)
AND NOT
DB_CustomDefeatedState(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_DefeatedCauses(_Var1, _Var2, 1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
LeftLevel((GUIDSTRING)_Var1, (STRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_CurrentLevel(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsSummon(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_Defeated(_Var1);
PROC_StateSet_Defeated(_Var1);

IF
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CustomDefeatedState(_Var1, _, _Var1, _Var1, _Var1)
THEN
NOT DB_Defeated(_Var1);
PROC_StateCleared_Defeated(_Var1);

PROC
PROC_StateSet_Defeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
SetTag(_Var1, DEFEATED_f0020818-86f1-4ee9-a5a9-9ace9ecc9010);

PROC
PROC_StateCleared_Defeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
_Var1 != NULL_00000000-0000-0000-0000-000000000000
THEN
ClearTag(_Var1, DEFEATED_f0020818-86f1-4ee9-a5a9-9ace9ecc9010);

PROC
PROC_StateSet_Defeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DefeatedEvent(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000);

PROC
PROC_StateCleared_Defeated((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DefeatedEvent(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Is_EngineBlock_Act(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_InteractiveDialogSpeaker(_, _Var2, _, _, _)
AND NOT
DB_CantAct(_Var2, _, _, _, _)
THEN
DB_CantAct(_Var2);
PROC_StateSet_CantAct(_Var2);

IF
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Dominated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CantAct(_Var1);
PROC_StateSet_CantAct(_Var1);

IF
DB_CantAct(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_EngineBlock_Act(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Surrendered(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockedOut(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_IronFlasked(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Downed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Dominated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_Banished(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Destroyed(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Petrified(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FeignDeath(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_CantAct(_Var1);
PROC_StateCleared_CantAct(_Var1);

PROC
PROC_StateSet_CantAct((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_NOOP(1);

PROC
PROC_StateCleared_CantAct((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeatedOrOffstage(_Var1);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PermaDefeatedOrOffstage(_Var1);

IF
DB_PermaDefeatedOrOffstage(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetTag(_Var1, PERMA_DEFEATED_OR_OFFSTAGE_b9e63705-637a-4d3b-87ef-a49324cf703f);

IF
DB_PermaDefeatedOrOffstage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_OffStage(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
ClearTag(_Var1, PERMA_DEFEATED_OR_OFFSTAGE_b9e63705-637a-4d3b-87ef-a49324cf703f);
NOT DB_PermaDefeatedOrOffstage(_Var1);

IF
DB_Dead(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_DeadEvent(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000, 0, _Var1, _Var1)
THEN
SetFlag(_Var2, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
LevelLoaded((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_CurrentLevel(_Var1);

IF
LevelUnloading((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
NOT DB_CurrentLevel(_Var1);
NOT DB_ActiveLevel(_Var1);

IF
LevelGameplayStarted((STRING)_Var1, _, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_ActiveLevel(_Var1);

QRY
QRY_AnyRegionActive()
AND
DB_CurrentLevel(_, _, _, _, _)
THEN
DB_NOOP(1);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_SeenDeadNPCPartyFlag(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Sees(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2, _Var3);

IF
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_SeenDeadNPCGlobalFlag(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Sees(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(_Var2);

IF
DB_OneShotPlayerTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var1);

PROC
PROC_RemoveOneShotTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_OneShotPlayerTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TriggerUnregisterForPlayers(_Var1);
NOT DB_OneShotPlayerTrigger(_Var1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_OneShotPlayerTrigger(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_RemoveOneShotTrigger(_Var2);
PROC_OneShotTriggerEntered(_Var1, _Var2);

PROC
PROC_OneShotTriggerEntered((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DB_OneShotPartyTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TriggerRegisterForParty(_Var1);

PROC
PROC_RemoveOneShotTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_OneShotPartyTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TriggerUnregisterForParty(_Var1);
NOT DB_OneShotPartyTrigger(_Var1);
PROC_TriggerUnregisterForPlayers(_Var1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_OneShotPartyTrigger(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_RemoveOneShotTrigger(_Var2);
PROC_OneShotTriggerEntered(_Var1, _Var2);

PROC
PROC_OneShotTriggerEntered((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_NOOP(1);

IF
DB_OneShotPartyTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_OneShotPlayerTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
Concatenate("Warning: Trigger ", _Var2, _Var3, _Var1, _Var1)
AND
Concatenate(_Var3, " is both a Oneshot Party and Oneshot Player trigger. Removing Oneshot Player entry.", _Var4, _Var1, _Var1)
THEN
DebugBreak(_Var4);

IF
DB_OneShotPartyTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_OneShotPlayerTrigger(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_OneShotPlayerTrigger(_Var1);

IF
CharacterJoinedParty((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsSummon(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_PlayerSummons(_Var1);

IF
CharacterJoinedParty((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_PlayerSummons(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsPartyFollower(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_PartyFollowers(_Var1);

IF
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PartyMembers(_Var1);

IF
DB_PlayerSummons(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PartyMembers(_Var1);

IF
DB_PartyFollowers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PartyMembers(_Var1);

IF
DB_TutorialCompanion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_PartyMembers(_Var1);

IF
GameOption("randomStartOrigin", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_BooleanStrings(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_RandomizeStartOrigin(1);

IF
GameOption("randomStartOrigin", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_BooleanStrings(0, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_RandomizeStartOrigin(1);

IF
GameOption("startOrigin", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_PredefinedOriginOptions(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_PredefinedStartOrigin(_Var2);

IF
GameOption("partyPreset", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
THEN
DB_PredefinePartyPreset(_Var1);

IF
GameModeStarted(_, _, 0, _, _)
AND
DB_PredefinePartyPreset(_Var3, _, _, _, _)
AND
GetHostCharacter(_Var4, _, _, _, _)
THEN
LoadPartyPreset(_Var3, _Var4);
NOT DB_PredefinePartyPreset(_Var3);
DB_PredefinePartyPreset_Loaded(_Var3);

IF
DB_CharacterCreationStarted(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PredefinePartyPreset(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_PredefinePartyPreset(_Var1);

IF
EnteredForceTurnBased((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_Is_InFTB(_Var1);

IF
LeftForceTurnBased((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
NOT DB_Is_InFTB(_Var1);


EXITSECTION
ENDEXITSECTION

