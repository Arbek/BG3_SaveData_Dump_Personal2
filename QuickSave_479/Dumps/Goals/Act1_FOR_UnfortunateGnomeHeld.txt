Version 1
SubGoalCombiner SGC_AND

INITSECTION
SetHasDialog(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, 1);
SetHasDialog(S_FOR_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, 1);
SetHasDialog(S_FOR_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, 1);
SetHasDialog(S_FOR_GnomeGoblin4_20eba5fb-3e93-4887-9700-d7fd7f2c418f, 1);
SetHasDialog(S_FOR_GnomeGoblin5_0e54fa5d-e2dd-4e15-acbb-82a4e0c63012, 1);
SetHasDialog(S_FOR_GnomeGoblin6_f0f4d3e2-8081-489a-b4ee-aee7b1ecee12, 1);
SetHasDialog(S_FOR_GnomeWorg1_e595394b-fbc9-438a-be7a-5b6fb5c3261d, 1);
SetHasDialog(S_FOR_GnomeWorg2_a5b311ad-5c73-4e88-9f77-106e8350f1d0, 1);
DB_FOR_GnomeGoblins(S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, S_MOO_GnomeGoblinTrigger1_3e7a9523-c7b1-42fb-a94a-c7432267880c, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, 300);
DB_FOR_GnomeGoblins(S_WLD_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, S_MOO_GnomeGoblinTrigger2_8e5d9723-cbe9-41f7-964d-becbe7490dfd, DIALOGRESOURCEGUID_FOR_GnomeGoblin2_0c427c88-ac3b-157f-3bd1-b03baeba1da5, 1000);
DB_FOR_GnomeGoblins(S_WLD_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, S_MOO_GnomeGoblinTrigger3_419097ca-c29c-4517-9f85-8daa436e11d5, DIALOGRESOURCEGUID_FOR_GnomeGoblin3_7d2d84c1-aa91-a5d4-c29c-adf3a77e8e7b, 1500);
DB_FOR_GnomeGoblins(S_FOR_GnomeGoblin4_20eba5fb-3e93-4887-9700-d7fd7f2c418f, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeGoblin4_c1e1d0d7-325a-8dc0-01f3-ada8b5c4d94e, 7000);
DB_FOR_GnomeGoblins(S_FOR_GnomeGoblin5_0e54fa5d-e2dd-4e15-acbb-82a4e0c63012, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeGoblin5_1cf9960c-d2e6-99a2-101e-7a7f77e704ca, 2800);
DB_FOR_GnomeGoblins(S_FOR_GnomeGoblin6_f0f4d3e2-8081-489a-b4ee-aee7b1ecee12, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeGoblin6_d3095e1c-44cd-a1c7-43cf-226f81a79775, 1500);
DB_FOR_GnomeGoblins(S_FOR_GnomeGoblin7_4b2be2ad-f9e3-4aa0-9a0a-aae7f7813fd3, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeGoblin7_18a97f81-c70d-64e7-3e31-04fc48f1344e, 5500);
DB_FOR_GnomeGoblins(S_FOR_GnomeWorg1_e595394b-fbc9-438a-be7a-5b6fb5c3261d, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeWorg1_faa66fcb-f791-b32e-5402-893b2bb39361, 8000);
DB_FOR_GnomeGoblins(S_FOR_GnomeWorg2_a5b311ad-5c73-4e88-9f77-106e8350f1d0, NULL_00000000-0000-0000-0000-000000000000, FOR_GnomeWorg2_04166e83-37c9-0009-e501-0e0b4b4ffc5a, 3400);
Use(S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_WLD_FOR_UnfortunateGnomePyre_74cf2839-80b6-4f42-ab7c-679f0b6b74ac, "");
DB_FallibleCheckItem("FOR_UnfortunateGnomeChains", S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, "SleightOfHand", DC_Legacy_10_625be976-7a67-4394-97c8-14c69715ae4b, "", ANIMATION_Fidget_Forward_01_00000000-0000-0000-0000-000000000000);
DB_TrespassTrigger(TRIGGERGUID_S_WLD_WIL_NearCapturedGnome_a877c0ce-1016-4120-9c51-6557fea123b0, NULL_00000000-0000-0000-0000-000000000000, "WLD_FOR_ApproachUnfortunateGnome");
DB_TrespassTrigger(FOR_UnfortunateGnome_Trespass_Combat_2639acb2-11c3-480b-87ae-34d99421ae32, NULL_00000000-0000-0000-0000-000000000000, "WLD_FOR_UnfortunateGnome_ApproachHighPerch");
DB_Inclusion_Object(S_FOR_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, FOR_GnomeGoblin2_StartInclusion_48674792-60cd-97ea-3b07-850df0ea880c, FOR_GnomeGoblin2_EndInclusion_94e35f8f-e63d-c131-515c-79af0f889b2d);
DB_Inclusion_NPCDialog(FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, S_FOR_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318);
DB_Inclusion_Object(S_FOR_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, FOR_GnomeGoblin3_StartInclusion_17cd6948-2ddb-4822-8bc0-7cc6f1e7805f, FOR_GnomeGoblin3_EndInclusion_ed369ebc-6d32-4ca0-88b6-c676d33b7554);
DB_Inclusion_Object(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, FOR_UnfortunateGnome_StartInclusion_b0183150-35a0-4777-9c87-faa523f1ddb4, FOR_UnfortunateGnome_EndInclusion_05242d63-48b8-4281-bc91-37037093e25b);
DB_DialogMoneyTransfer(1, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, 1000, 3);
DB_DialogMoneyTransfer(2, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, 5, 3);
DB_DeadEvent(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, FOR_GnomeGoblin1_State_Dead_130e60e5-4559-490e-b8fd-890e400253ba);
SetOnStage(ITEMGUID_S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 0);
DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(0);
DB_GLO_CompoundFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, WLD_FOR_GnomeGoblinStopSpot_283b6c8d-77e3-4575-8262-3d729a3b36ec);
DB_GLO_CompoundFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, WLD_FOR_GnomeGoblinStopSpot_283b6c8d-77e3-4575-8262-3d729a3b36ec);
DB_GLO_CompoundFlag(FOR_GnomeGoblinsPromisedLeave_b957a042-bef5-b837-597c-97e529f61357, WLD_FOR_GnomeGoblinStopSpot_283b6c8d-77e3-4575-8262-3d729a3b36ec);
DB_SpotPlayers_SpotTrigger_ManualRegistering(S_FOR_GnomeGoblinSpotArea_5c4d7246-3f71-4a87-a31d-159ef394b66f);
PROC_TriggerRegisterForPlayers(S_FOR_GnomeGoblinSpotArea_5c4d7246-3f71-4a87-a31d-159ef394b66f);
DB_HasItemEvent(S_FOR_UnfortunateGnome_Amulet_899635f4-d00f-472f-b856-cba4f9fc2678, FOR_UnfortunateGnome_State_HasAmulet_632de610-a024-47d1-90dd-78537db48898);
DB_GiveItemToEventWithClear(S_FOR_UnfortunateGnome_Amulet_899635f4-d00f-472f-b856-cba4f9fc2678, FOR_UnfortunateGnome_Event_GiveAmulet_85ffa219-7941-446f-bb65-7ca826c45608);
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(1, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, 0);
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(2, S_FOR_GnomeGoblin4_20eba5fb-3e93-4887-9700-d7fd7f2c418f, 1);
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(3, S_FOR_GnomeGoblin5_0e54fa5d-e2dd-4e15-acbb-82a4e0c63012, 1);
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(4, S_FOR_GnomeGoblin6_f0f4d3e2-8081-489a-b4ee-aee7b1ecee12, 1);
DB_Dialogs_DialogBlockStatusesDialogOverride(FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, FOR_GnomeGoblin1_StatusFallback_5cb8777c-2dd3-9bf0-0b25-85bbc5db719d);
DB_CombatReact_AD_OnNextTurn(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, FOR_AD_Combat_GnomeGoblin1_000_cc7ce962-e45b-6ca8-2c83-05dc111d00ac);
DB_CombatReact_AD_OnNextTurn(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, FOR_AD_Combat_GnomeGoblin1_001_ee5781c9-4d66-c613-16c7-13b621767f04);
DB_CombatReact_AD_OnNextTurn(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, FOR_AD_Combat_GnomeGoblin1_002_9afb20e0-874f-d525-1b85-05ef921da702);
DB_CombatReact_AD_OnNextTurn(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, FOR_AD_Combat_GnomeGoblin1_003_6db2135a-3f52-3ae7-6420-c59121b2fb69);
DB_CombatReact_AD_OnNextTurn(S_FOR_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, FOR_AD_Combat_GnomeGoblin2_c1d43819-1abc-f7e5-8510-c95062341089);

KBSECTION
IF
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
THEN
DB_SpotPlayers(_Var1, "FOR_GnomeGoblins", WLD_FOR_GnomeGoblinStartSpot_83a8e4d1-29aa-4c33-91b8-f622ed90b898, WLD_FOR_GnomeGoblinStopSpot_283b6c8d-77e3-4575-8262-3d729a3b36ec);
DB_SpotPlayers_SpotTrigger(_Var1, "FOR_GnomeGoblins", TRIGGERGUID_S_FOR_GnomeGoblinSpotArea_5c4d7246-3f71-4a87-a31d-159ef394b66f);
DB_SpotPlayers_SpotterIgnoreCantTalk(_Var1, "FOR_GnomeGoblins");
DB_SpotPlayers_TargetIgnoreCantTalk(_Var1, "FOR_GnomeGoblins");
DB_SpotPlayers_IncludeWildshapedPlayers(_Var1, "FOR_GnomeGoblins");
DB_SpotPlayers_IncludeSummons(_Var1, "FOR_GnomeGoblins");
DB_SpotPlayers_IncludeFollowers(_Var1, "FOR_GnomeGoblins");
DB_SpotPlayers(_Var1, "FOR_GnomeGoblins_NearLevers", NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
DB_SpotPlayers_SpotTrigger(_Var1, "FOR_GnomeGoblins_NearLevers", S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5);
DB_SpotPlayers_SpotterIgnoreCantTalk(_Var1, "FOR_GnomeGoblins_NearLevers");
DB_SpotPlayers_TargetIgnoreCantTalk(_Var1, "FOR_GnomeGoblins_NearLevers");
DB_SpotPlayers_IncludeWildshapedPlayers(_Var1, "FOR_GnomeGoblins_NearLevers");
DB_SpotPlayers_IncludeSummons(_Var1, "FOR_GnomeGoblins_NearLevers");
DB_SpotPlayers_IncludeFollowers(_Var1, "FOR_GnomeGoblins_NearLevers");
DB_NoLowAttitudeDialog(_Var1);
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins_NearLevers");
SetCanTrade(_Var1, 0);

IF
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND
_Var1 != S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404
THEN
TriggerRegisterForCharacter(TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, _Var1);

QRY
QRY_SelectCustomDialog((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND
QRY_FOR_UnfortunateGnome_GoblinRequestRedirected_Clear()
AND
1 == 0
THEN
DB_NOOP(1);

QRY
QRY_FOR_UnfortunateGnome_GoblinRequestRedirected_Clear()
THEN
NOT DB_FOR_UnfortunateGnome_GoblinRequestRedirected(1);

QRY
QRY_SelectCustomDialog((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND NOT
DB_InRegion(_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != CHARACTERGUID_S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404
AND NOT
DB_Defeated(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SelectAndStartDialog(CHARACTERGUID_S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var2, _Var1, _Var1, _Var1)
THEN
DB_FOR_UnfortunateGnome_GoblinRequestRedirected(1);

QRY
QRY_SelectCustomDialog((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var4, _, _Var1)
AND NOT
DB_InRegion(_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != CHARACTERGUID_S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404
AND NOT
DB_Defeated(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_FOR_UnfortunateGnome_GoblinRequestRedirected(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QRYRTN_StartDialog_FailReason("CrimeOverride", _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QRYRTN_StartDialog_FailReason("OriginMomentOverride", _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SelectedDialog(_Var4, _Var1, _Var2);

PROC
PROC_DialogFlagSetup((DIALOGRESOURCE)_Var1, (GUIDSTRING)_Var2, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_FOR_GnomeGoblins(_, _, _Var1, _, _Var1)
THEN
ClearFlag(FOR_UnfortunateGnome_Event_RedirectToGnomeGoblin1_282f91a8-e929-4fdd-bbc7-cf9ad5d41e5c, _Var2, 0);

PROC
PROC_DialogFlagSetup((DIALOGRESOURCE)_Var1, (CHARACTER)_Var2, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_FOR_GnomeGoblins(_, _, _Var1, _, _Var1)
AND
DB_DialogName(FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_Var2, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, _Var1, _Var1, _Var1)
THEN
SetFlag(FOR_UnfortunateGnome_Event_RedirectToGnomeGoblin1_282f91a8-e929-4fdd-bbc7-cf9ad5d41e5c, _Var2, 0);

PROC
PROC_SpotPlayers_Spotted((CHARACTER)_Var1, "FOR_GnomeGoblins", (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_SelectAndStartDialog(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_InteractiveDialogSpeaker(_, _Var1, _Var1, _Var1, _Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var5, _, _Var1)
AND NOT
QRY_StartDialog(_Var5, _Var1, _Var2, _Var1, _Var1)
AND NOT
DB_FOR_UnfortunateGnome_GoblinRequestRedirected(1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, Hero_a1542c81-6895-929e-4522-10ce218bb360, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, ACT1_FOR_UnfortunateGnome_b07fe550-1c04-7fed-03d4-f6ea6ff836f1, 0);

PROC
PROC_SpotPlayers_Spotted((CHARACTER)_Var1, "FOR_GnomeGoblins_NearLevers", (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_SelectAndStartDialog(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var4, _, _Var1)
AND NOT
QRY_StartDialog(_Var4, _Var1, _Var2, _Var1, _Var1)
THEN
SetFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, Hero_a1542c81-6895-929e-4522-10ce218bb360, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, ACT1_FOR_UnfortunateGnome_b07fe550-1c04-7fed-03d4-f6ea6ff836f1, 0);

QRY
QRY_SelectCustomDialog(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_Surrendered(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_KnockedOut(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1, _Var1)
THEN
DB_SelectedDialog(WLD_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1);

PROC
PROC_DialogFlagSetup(WLD_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _, _, _, _)
AND
DB_FOR_GnomeGoblins(_Var4, _, _, _, _)
THEN
PROC_SpotPlayers_StopSpotting(_Var4, "FOR_GnomeGoblins");

IF
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND NOT
DB_DialogNPCs(_, _Var1, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, _, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_InRegion(_, TRIGGERGUID_S_FOR_GnomeGoblinSpotArea_5c4d7246-3f71-4a87-a31d-159ef394b66f, _Var1, _Var1, _Var1)
THEN
SetFlag(WLD_FOR_GnomeGoblinStartSpot_83a8e4d1-29aa-4c33-91b8-f622ed90b898, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_LongRest()
THEN
NOT DB_OnlyOnce("FOR_GnomeGoblins_AD_ReactWindmillStop");

QRY
QRY_UnfortunateGnome_Slowdown_WithGoblins((GUIDSTRING)_Var1, (INTEGER)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_UnfortunateGnome_InvestiGoblinSpeakers()
AND
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(1, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(2, _Var3, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(3, _Var4, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(4, _Var5, _Var1, _Var1, _Var1)
AND
QRY_StartDialogCustom(FOR_UnfortunateGnome_SlowDown_e5a2eee5-2eef-e746-ff88-a461d03e336c, _Var1, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var3, _Var4, _Var5, 0, 0, 0, 0)
THEN
PROC_UnfortunateGnome_Slowdown_WithGoblins_SetFlag(_Var2);

PROC
PROC_UnfortunateGnome_Slowdown_WithGoblins_SetFlag(0, _, _, _, _)
THEN
ClearFlag(FOR_UnfortunateGnome_Slowdown_WithGoblins_SpeedingUp_04992a5a-6711-4ff4-9d26-0baf5d6ddc7d, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_UnfortunateGnome_Slowdown_WithGoblins_SetFlag(1, _, _, _, _)
THEN
SetFlag(FOR_UnfortunateGnome_Slowdown_WithGoblins_SpeedingUp_04992a5a-6711-4ff4-9d26-0baf5d6ddc7d, NULL_00000000-0000-0000-0000-000000000000, 0);

QRY
QRY_UnfortunateGnome_InvestiGoblinSpeakers()
THEN
SysClear("DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers", 2);

QRY
QRY_UnfortunateGnome_InvestiGoblinSpeakers()
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(_Var1, _Var2, _, _Var1, _Var1)
AND NOT
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_UnfortunateGnome_State_Fast_ad363172-0964-4f0c-9f1d-4fea67834e60, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
IsInTrigger(_Var2, S_FOR_GnomeGoblinApproach_5f593aa2-5e02-4da4-821c-c19390730370, 1, _Var1, _Var1)
THEN
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(_Var1, _Var2);

QRY
QRY_UnfortunateGnome_InvestiGoblinSpeakers()
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(_Var1, _Var2, _, _Var1, _Var1)
AND NOT
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(_Var1, NULL_00000000-0000-0000-0000-000000000000);

IF
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _, _, _, _)
AND NOT
DB_Is_InCombat(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _, _, _)
AND
QRY_OnlyOnce("FOR_GnomeGoblins_AD_ReactWindmillStop", _, _, _, _)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_FOR_GnomeGoblin1_AD_InvestigateMill_cf27ec59-299d-7a19-7d1b-7a20b4c4a7e3, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, S_FOR_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, _, _)
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(_, _Var3, 1, _, _)
THEN
SetEntityEvent(_Var3, "FOR_GnomeGoblins_Investigate");

IF
DB_DialogNPCs(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_DialogName(FOR_UnfortunateGnome_SlowDown_e5a2eee5-2eef-e746-ff88-a461d03e336c, _Var1, _Var1, _Var1, _Var1)
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(_, _Var2, 1, _Var1, _Var1)
THEN
DB_FOR_UnfortunateGnome_GnomeInvestiGoblinsInDialog(_Var1, _Var2);

IF
DB_FOR_UnfortunateGnome_GnomeInvestiGoblinsInDialog(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_DialogNPCs(_Var1, S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1)
THEN
DB_OnlyOnce("FOR_GnomeGoblins_AD_ReactWindmillStop");

IF
DialogEnded(FOR_UnfortunateGnome_SlowDown_e5a2eee5-2eef-e746-ff88-a461d03e336c, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblinsInDialog(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_FOR_UnfortunateGnome_GnomeInvestiGoblinsInDialog(_Var1, _Var2);
SetEntityEvent(_Var2, "FOR_GnomeGoblins_Investigate");

IF
AutomatedDialogEnded(DIALOGRESOURCEGUID_FOR_GnomeGoblin1_AD_InvestigateMill_cf27ec59-299d-7a19-7d1b-7a20b4c4a7e3, _, _, _, _)
AND
DB_FOR_UnfortunateGnome_GnomeInvestiGoblins(_, _Var3, 1, _, _)
THEN
SetEntityEvent(_Var3, "FOR_GnomeGoblins_Investigate");

IF
EnteredTrigger((CHARACTER)_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins");
PROC_SpotPlayers_RestartSpotting(_Var1, "FOR_GnomeGoblins_NearLevers");

IF
EnteredTrigger((GUIDSTRING)_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var3, _, _Var1)
AND
_Var3 != NULL_00000000-0000-0000-0000-000000000000
THEN
DB_Dialogs(_Var1, _Var3);

IF
LeftTrigger((GUIDSTRING)_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins_NearLevers");

IF
LeftTrigger((CHARACTER)_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_InternPlayerSpot_Spotting(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, "FOR_GnomeGoblins", _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SpotPlayers_RestartSpotting(_Var1, "FOR_GnomeGoblins");

IF
LeftTrigger((GUIDSTRING)_Var1, TRIGGERGUID_S_FOR_GnomeGoblins_NearLevers_ce545f6f-f2b3-4a87-9205-5d69edca93d5, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND NOT
DB_Defeated(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_RemoveAllDialogEntriesForSpeaker(_Var1);

PROC
PROC_DialogFlagSetup((DIALOGRESOURCE)_Var1, _, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
_Var1 != FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9
AND
DB_FOR_GnomeGoblins(_, _, _Var1, _, _Var1)
AND
DB_InternPlayerSpot_Spotting(_Var7, "FOR_GnomeGoblins_NearLevers", _Var1, _Var1, _Var1)
THEN
PROC_SpotPlayers_StopSpotting(_Var7, "FOR_GnomeGoblins_NearLevers");

IF
DestroyedBy(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, _, _, _, (CHARACTER)_)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

IF
FlagSet(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, NULL_00000000-0000-0000-0000-000000000000, _, _, _)
AND
DB_FOR_UnfortunateGnome_OnWindMill(_Var2, _, _, _, _)
THEN
TimerLaunch("FOR_WindmillRopesRemove", 1800);

IF
TimerFinished("FOR_WindmillRopesRemove", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FOR_UnfortunateGnome_OnWindMill(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 1);

IF
WentOnStage(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_FOR_UnfortunateGnome_OnWindMill(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "FOR_WindmillRopes");

IF
FlagCleared(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, NULL_00000000-0000-0000-0000-000000000000, _, _, _)
AND
DB_FOR_UnfortunateGnome_OnWindMill(_Var2, _, _, _, _)
THEN
TimerCancel("FOR_WindmillRopesRemove");
PROC_StopLoopEffect(_Var2, "FOR_WindmillRopes");
PROC_LoopEffect(VFX_Script_PUZ_GEN_Tied_Ropes_A_Gnome_A_01_25f36571-f664-fcd6-5ca5-1fce4ad85444, _Var2, "FOR_WindmillRopes", "WLD_Main_A", "");

IF
FlagCleared(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, NULL_00000000-0000-0000-0000-000000000000, _, (INTEGER)_, (INTEGER)_)
THEN
SetOnStage(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 0);

IF
UseStarted((CHARACTER)_Var1, S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2, S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomeFreed_d1c7a920-9624-339f-4fb3-5ef67d993d48, S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

IF
UseStarted((CHARACTER)_Var1, S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2, S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomeFreed_d1c7a920-9624-339f-4fb3-5ef67d993d48, S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

PROC
PROC_CharacterPassedItemSkillCheck((CHARACTER)_Var1, _, S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_StartDialog(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomeFreed_d1c7a920-9624-339f-4fb3-5ef67d993d48, S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

PROC
PROC_CharacterPassedItemSkillCheck((CHARACTER)_Var1, _, S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

PROC
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed()
THEN
SetOnStage(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 0);
EndRepose(S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);
PROC_Helper_SafeTeleportTo(S_WLD_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_Dismount_f7ff4e2b-072b-4355-815d-46ef7863c8d8, "FOR_GnomeGoblin1_ReadyForFlee", 0);

PROC
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed()
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
THEN
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins");
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins_NearLevers");

IF
Dying(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
AND
DB_FOR_UnfortunateGnome_OnWindMill(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
THEN
PROC_FOR_GnomeFreed();

IF
Dying(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
AND
DB_FOR_UnfortunateGnome_OnWindMill(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
THEN
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins");
PROC_SpotPlayers_StopSpotting(_Var1, "FOR_GnomeGoblins_NearLevers");

IF
FlagSet(FOR_UnfortunateGnome_Event_FreeGnomeDialog_5b0e932a-2e6c-8953-6673-f113d71b6a16, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed();

PROC
PROC_WLD_FOR_UnfortunateGnomeSkillCheckPassed()
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
THEN
PROC_ForceStopDialog(_Var1);
SetHasDialog(_Var1, 0);

IF
AutomatedDialogStarted(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomeFreed_d1c7a920-9624-339f-4fb3-5ef67d993d48, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
EndRepose(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);

IF
AutomatedDialogRequestFailed(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomeFreed_d1c7a920-9624-339f-4fb3-5ef67d993d48, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
TeleportTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_Dismount_f7ff4e2b-072b-4355-815d-46ef7863c8d8, "", 0, 0, 0);

IF
ReposeRemoved(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, (GUIDSTRING)_, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
SetOnStage(S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, 0);
PROC_FOR_GnomeFreed();

PROC
PROC_CharacterFailedItemSkillCheck((CHARACTER)_Var1, _, S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_TryStartAD(DIALOGRESOURCEGUID_WLD_FOR_AD_UnfortunateGnomePikeFail_05d00ea2-e676-0470-df8f-09dfbcfaf7b6, _Var1);

IF
DialogEnded(FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_GlobalFlag(FOR_UnfortunateGnome_Event_FreeGnomeDialog_5b0e932a-2e6c-8953-6673-f113d71b6a16, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
QRY_StartDialog(FOR_UnfortunateGnome_eb447f2f-14f4-df3f-24d3-f2aa0b2bc4f4, S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var2, _Var1, _Var1)
THEN
SetFlag(FOR_UnfortunateGnome_State_WasJustFreed_f4c90b9a-8ba0-4372-ae49-05fa920212d2, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
DialogStarted(FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
ClearFlag(FOR_UnfortunateGnome_State_WasJustFreed_f4c90b9a-8ba0-4372-ae49-05fa920212d2, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
DialogRequestFailed(FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
ClearFlag(FOR_UnfortunateGnome_State_WasJustFreed_f4c90b9a-8ba0-4372-ae49-05fa920212d2, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
FlagSet(FOR_UnfortunateGnome_Event_ThrowOff_87ddb5ee-952a-4513-8759-03d1a98e1afc, _, (INTEGER)_Var2, _, _)
AND
_Var2 != 0
THEN
DB_FOR_UnfortunateGnome_ThrowOffDialog(_Var2);

IF
DialogEnded((DIALOGRESOURCE)_Var1, (INTEGER)_Var2, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_FOR_UnfortunateGnome_ThrowOffDialog(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_AfterFasterPoint_eb149073-0723-40c6-8776-a34f306ba29e, "", 0, 0, 1);
Die(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 1);

IF
FlagSet(GLO_DuergarCamp_EverEnteredBefore_ac0bae57-7006-4676-88b8-7498dde79c41, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
SetFlag(FOR_UnfortunateGnome_Event_ThrowOff_87ddb5ee-952a-4513-8759-03d1a98e1afc, NULL_00000000-0000-0000-0000-000000000000, 0);
TeleportTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_AfterFasterPoint_eb149073-0723-40c6-8776-a34f306ba29e, "", 0, 0, 1);
Die(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 1);

IF
FlagSet(WLD_FOR_UnfortunateGnome_State_Fast_ad363172-0964-4f0c-9f1d-4fea67834e60, _, _, _, _)
AND NOT
DB_FOR_UnfortunateGnome_ThrowOffDialog(_, _, _, _, _)
AND NOT
DB_GlobalFlag(FOR_UnfortunateGnome_State_Freed_c829895d-aba7-46e5-bc10-eb2516c8ddd6, _, _, _, _)
AND NOT
DB_DialogName(FOR_UnfortunateGnome_SpeedUp_b7098519-067a-43ee-1446-1ef3a604de87, _, _, _, _)
AND NOT
DB_DialogName(FOR_UnfortunateGnome_SlowDown_e5a2eee5-2eef-e746-ff88-a461d03e336c, _, _, _, _)
THEN
SetFlag(FOR_UnfortunateGnome_Event_ThrowOff_87ddb5ee-952a-4513-8759-03d1a98e1afc, NULL_00000000-0000-0000-0000-000000000000, 0);
TeleportTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_AfterFasterPoint_eb149073-0723-40c6-8776-a34f306ba29e, "", 0, 0, 1);
Die(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 1);

PROC
PROC_LevelUnloading("WLD_Main_A", _, _, _, _)
THEN
SetFlag(FOR_UnfortunateGnome_Event_ThrowOff_87ddb5ee-952a-4513-8759-03d1a98e1afc, NULL_00000000-0000-0000-0000-000000000000, 0);
TeleportTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_AfterFasterPoint_eb149073-0723-40c6-8776-a34f306ba29e, "", 0, 0, 1);
Die(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, 0, NULL_00000000-0000-0000-0000-000000000000, 1, 1);

PROC
PROC_LevelUnloading("WLD_Main_A", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _Var2, _Var3, _Var4, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsOnStage(_Var1, 1, _Var1, _Var1, _Var1)
THEN
NOT DB_FOR_GnomeGoblins(_Var1, _Var2, _Var3, _Var4);
SetOnStage(_Var1, 0);
SetFlag(FOR_GnomeGoblinsReturnedHome_be23fd5b-22ed-b163-0204-779faf6e131c, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_RemoveDBTrespassTrigger(TRIGGERGUID_S_WLD_WIL_NearCapturedGnome_a877c0ce-1016-4120-9c51-6557fea123b0, NULL_00000000-0000-0000-0000-000000000000);

IF
FlagCleared(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_RemoveNPCADs(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);
PROC_RemoveAllDialogEntriesForSpeaker(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);
SetHasDialog(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, 0);

IF
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
AND
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _, _, _, _)
THEN
DB_Dialogs(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, DIALOGRESOURCEGUID_FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2);

IF
DB_GlobalFlag(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, _, _, _, _)
AND
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _, _, _, _)
THEN
DB_Dialogs(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, DIALOGRESOURCEGUID_FOR_UnfortunateGnome_TiedUp_7cfd03aa-cbd3-997b-1da3-db66622876a2);

IF
DB_GlobalFlag(GLO_UnfortunateGnome_State_Still_d58850bc-2eac-8105-99b1-fec5d247b746, _, _, _, _)
AND NOT
DB_GlobalFlag(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, _, _, _, _)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
THEN
DB_AD_Dialog(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, DIALOGRESOURCEGUID_WLD_AD_UnfortunateGnome_62294548-4e3c-b877-0798-a9b72630ccf5);

PROC
PROC_FOR_GnomeFreed()
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
THEN
SetFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, Hero_a1542c81-6895-929e-4522-10ce218bb360, 0);
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, ACT1_FOR_UnfortunateGnome_b07fe550-1c04-7fed-03d4-f6ea6ff836f1, 0);

PROC
PROC_FOR_GnomeFreed()
AND NOT
DB_PermaDefeated(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
THEN
SetFlag(FOR_UnfortunateGnome_State_Freed_c829895d-aba7-46e5-bc10-eb2516c8ddd6, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_FOR_GnomeFreed()
THEN
GoalCompleted;

PROC
PROC_StateSet_PermaDefeated(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _, _, _, _)
THEN
GoalCompleted;

IF
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
THEN
DB_GLO_DefeatCounter(_Var1, "FOR_GnomeGoblins");

PROC
PROC_GLO_DefeatCounter_AllDefeated("FOR_GnomeGoblins", _, _, _, _)
THEN
SetFlag(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_GLO_DefeatCounter_AllNoLongerDefeated("FOR_GnomeGoblins", _, _, _, _)
AND NOT
DB_Surrendered(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _, _, _)
THEN
ClearFlag(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
FlagSet(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_RemoveDBTrespassTrigger(TRIGGERGUID_S_WLD_WIL_NearCapturedGnome_a877c0ce-1016-4120-9c51-6557fea123b0, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);

IF
FlagSet(FOR_GnomeGoblinsDead_8910f084-c9ad-2336-c6a7-098d71914529, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
NOT DB_FallibleCheckItem("FOR_UnfortunateGnomeChains", S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, "SleightOfHand", DC_Legacy_10_625be976-7a67-4394-97c8-14c69715ae4b, "", ANIMATION_Fidget_Forward_01_00000000-0000-0000-0000-000000000000);

IF
FlagSet(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
NOT DB_FallibleCheckItem("FOR_UnfortunateGnomeChains", S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, "SleightOfHand", DC_Legacy_10_625be976-7a67-4394-97c8-14c69715ae4b, "", ANIMATION_Fidget_Forward_01_00000000-0000-0000-0000-000000000000);

IF
FlagSet(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
AND
DB_FOR_GnomeGoblins(_Var3, _, _, _, _)
THEN
SetCanTrade(_Var3, 0);
PROC_SpotPlayers_StopSpotting(_Var3, "FOR_GnomeGoblins_NearLevers");

IF
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND NOT
DB_DialogNPCs(_, _Var1, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, _, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, S_WLD_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, _, _Var1, _Var1)
AND
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("FOR_GnomeGoblinsLeavePacified", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FOR_GnomeGoblins_LeavePacified();

IF
AttackedBy(S_FOR_UnfortunateGnome_BlackpowderSatchel_67a1414e-354e-433a-9ca5-745bd688c939, (GUIDSTRING)_Var1, (GUIDSTRING)_Var2, "Fire", _, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetDistanceTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, S_FOR_UnfortunateGnome_BlackpowderSatchel_67a1414e-354e-433a-9ca5-745bd688c939, _Var6, _Var1, _Var1)
AND
_Var6 <= 18
AND
QRY_GetCharacterOwnerIfItemSummon(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_QRYRTN_GetCharacterOwnerIfItemSummon(_Var7, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_FOR_UnfortunateGnome_SatchelExploded(_Var7);

PROC
PROC_FOR_UnfortunateGnome_SatchelExploded((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(FOR_UnfortunateGnome_State_SatchelExploded_9e10fc33-8904-4809-8379-81f38a5a6139, _Var3);

PROC
PROC_FOR_UnfortunateGnome_SatchelExploded((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetFlag(FOR_UnfortunateGnome_State_SatchelExploded_9e10fc33-8904-4809-8379-81f38a5a6139, _Var1);

PROC
PROC_FOR_UnfortunateGnome_SatchelExploded((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetDistanceTo(S_FOR_UnfortunateGnome_BlackpowderSatchel_67a1414e-354e-433a-9ca5-745bd688c939, _Var2, _Var3, _Var1, _Var1)
AND
_Var3 <= 18
THEN
SetFlag(FOR_UnfortunateGnome_State_SatchelExploded_9e10fc33-8904-4809-8379-81f38a5a6139, _Var2);

IF
AddedTo(S_FOR_UnfortunateGnome_BlackpowderSatchel_67a1414e-354e-433a-9ca5-745bd688c939, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetDistanceTo(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var3, _Var1, _Var1)
AND
_Var3 <= 18
THEN
SetFlag(FOR_UnfortunateGnome_State_HadSatchel_bee0372e-aa78-45e2-8c65-d5ab0372b5e4, _Var1);

IF
DB_DialogMoneyTransfer(1, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _Var1, 3, _Var1)
AND
IntegerDivide(_Var1, 2, _Var2, _Var1, _Var1)
AND
IntegerDivide(_Var1, 4, _Var3, _Var1, _Var1)
AND
IntegerDivide(_Var1, 10, _Var4, _Var1, _Var1)
THEN
DB_DialogMoneyTransfer(3, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _Var2, 3);
DB_DialogMoneyTransfer(4, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _Var3, 3);
DB_DialogMoneyTransfer(5, FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9, _Var4, 3);

PROC
PROC_StateSet_Defeated(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _, _, _)
AND NOT
DB_GlobalFlag(WLD_FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714, _, _, _, _)
AND NOT
DB_Surrendered(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, _, _, _, _)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var3, _, _Var1)
AND
_Var1 != S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404
THEN
DB_Dialogs(_Var1, _Var3);
SetFlag(FOR_GnomeGoblin1_State_Incapacitated_6effeebc-285b-4846-9098-488f6f192139, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_StateCleared_Defeated(S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _Var3, _, _Var1)
AND
_Var3 != NULL_00000000-0000-0000-0000-000000000000
AND
_Var1 != S_FOR_GnomeGoblin1_b2c582af-bc69-48b3-a004-648562dab404
THEN
PROC_RemoveAllDialogEntriesForSpeaker(_Var1);
ClearFlag(FOR_GnomeGoblin1_State_Incapacitated_6effeebc-285b-4846-9098-488f6f192139, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
FlagSet(WLD_FOR_GnomeGoblinsAngry_42a4e444-5e6e-c574-f360-ea3cf57e4426, _, (INTEGER)_Var2, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
DB_FOR_GnomeGoblins_HostileAfterDialog(_Var2);

IF
DialogEnded(_, (INTEGER)_Var2, _, _, _)
AND
DB_FOR_GnomeGoblins_HostileAfterDialog(_Var2, _, _, _, _)
THEN
PROC_SetRelationMutual(WLD_FOR_GnomeGoblins_c7f36445-ea01-a654-f76d-3511d32ba226, Hero_a1542c81-6895-929e-4522-10ce218bb360, 0);

IF
EnteredCombat((CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_FOR_GnomeGoblins(_Var1, _, _, _, _Var1)
AND
DB_FOR_GnomeGoblins(_Var6, _, _, _, _Var1)
AND
IsSpeakerReserved(_Var6, 1, _Var1, _Var1, _Var1)
THEN
PROC_ForceStopDialog(_Var6);

IF
DualEntityEvent(_, _, "FOR_UnfortunateGnome_Lever", _, _)
AND NOT
DB_GlobalFlag(WLD_FOR_UnfortunateGnome_State_Fast_ad363172-0964-4f0c-9f1d-4fea67834e60, _, _, _, _)
THEN
PROC_FOR_UnfortunateGnomeMillRotatingFasterReaction();

PROC
PROC_FOR_UnfortunateGnomeMillRotatingFasterReaction()
AND
DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailable(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, _Var1, _Var1, _Var1, _Var1)
AND
IntegerSum(_Var1, 1, _Var2, _Var1, _Var1)
THEN
NOT DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(_Var1);
DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(_Var2);
PROC_TryStartAD(DIALOGRESOURCEGUID_FOR_UnfortunateGnome_AD_RotatingFasterReaction_c7a37e9f-0406-5e21-532f-46f111158aef, S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);

IF
DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(3, _, _, _, _)
THEN
NOT DB_FOR_UnfortunateGnomeMillRotatingFasterReaction(3);


EXITSECTION
SetHasDialog(S_WLD_GnomeGoblin2_51300d83-e9f1-4f01-a27e-27c73f9e6318, 0);
SetHasDialog(S_WLD_GnomeGoblin3_bff8ab5f-739d-422a-9ad3-92f4b897f1bc, 0);
PROC_RemoveNPCADs(S_WLD_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);
PROC_RemoveAllDialogEntriesForSpeaker(S_WLD_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976);
DB_Dialogs(S_WLD_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, DIALOGRESOURCEGUID_FOR_UnfortunateGnome_eb447f2f-14f4-df3f-24d3-f2aa0b2bc4f4);
DB_SpotPlayers(S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, "FOR_UnfortunateGnome", NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000);
NOT DB_FallibleCheckItem("FOR_UnfortunateGnomeChains", S_FOR_UnfortunateGnomeChains_Free_6c85929a-dfa7-4a2e-8cf3-60a31493e5fa, "SleightOfHand", DC_Legacy_10_625be976-7a67-4394-97c8-14c69715ae4b, "", ANIMATION_Fidget_Forward_01_00000000-0000-0000-0000-000000000000);
PROC_UND_DEBUG_UnfortunateGnome_Setup();
SysClear("DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers", 2);
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(1, NULL_00000000-0000-0000-0000-000000000000);
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(2, NULL_00000000-0000-0000-0000-000000000000);
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(3, NULL_00000000-0000-0000-0000-000000000000);
DB_QRYRTN_UnfortunateGnome_InvestiGoblinSpeakers(4, NULL_00000000-0000-0000-0000-000000000000);
ENDEXITSECTION

ParentTargetEdge "Act1"
