Version 1
SubGoalCombiner SGC_AND

INITSECTION
SetVisible(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, 0);
PROC_CharacterDisableAllCrimes(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7);
PROC_CharacterDisableAllCrimes(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1);
PROC_SelfHealing_Disable(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7);
PROC_SelfHealing_Disable(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1);
SetTag(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, IGNORE_DANGEROUS_SURFACES_bbf62461-4af4-4631-807a-eb0bd988d9a6);
SetTag(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1, IGNORE_DANGEROUS_SURFACES_bbf62461-4af4-4631-807a-eb0bd988d9a6);
SetDetached(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, 1);
SetOnStage(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, 0);
SetVisible(S_TUT_Misc_HackChair_5aa4e961-af89-44b6-802f-7f87e21015b7, 0);
SetCanInteract(S_TUT_Misc_HackChair_5aa4e961-af89-44b6-802f-7f87e21015b7, 0);
SetDetached(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1, 1);
Use(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1, S_TUT_Misc_HackChair_5aa4e961-af89-44b6-802f-7f87e21015b7, 1, 1, "");
DB_OneShotPlayerTrigger(S_TUT_Misc_UpperFloorJournalPos_7789fd25-490a-4885-9c17-f214ecb1c745);
DB_OneShotPlayerTrigger(S_TUT_Misc_AntechamberJournalPos_b97895e5-f509-44f0-a771-0b7d1741afbe);
DB_OneShotPlayerTrigger(S_TUT_Misc_StartRoomJournalPos_d426edee-d7e0-4faa-86a1-510a0eaf9eaf);
DB_TUT_Misc_JournalHelmPos(S_TUT_Misc_UpperFloorJournalPos_7789fd25-490a-4885-9c17-f214ecb1c745, "UpperFloor");
DB_TUT_Misc_JournalHelmPos(S_TUT_Misc_AntechamberJournalPos_b97895e5-f509-44f0-a771-0b7d1741afbe, "Antechamber");
DB_TUT_Misc_JournalHelmPos(S_TUT_Helm_ConsolePointArea_870b647f-5853-4f1a-9c39-a4915808201a, "Transponder");
DB_TUT_Misc_Aquariums(FUR_MF_Aquarium_A_3e45e634-a585-415b-bfa1-d72699e3f52f);
DB_TUT_Misc_Aquariums(FUR_MF_Aquarium_A_Destruct_20213cab-012a-4f5c-b107-6686a03a8ac9);
DB_TUT_Misc_Aquariums(FUR_MF_Aquarium_A_Glowing_760b9f69-d486-4844-988a-9a2a4789b88f);
DB_TUT_Misc_AquariumNotBrain(FUR_MF_Aquarium_B_Destruct_e6eeaa3f-d862-4288-9cf1-799661c17dc1);
DB_TUT_Misc_AquariumNotBrain(FUR_MF_Aquarium_B_a3aae9e6-505f-4a7c-ac71-d0f74f0385a4);
DB_TUT_Misc_TankTemplate(PUZ_MF_Explosive_Contraption_A_24e01b77-0a74-410d-869f-919918f20278);
DB_TUT_Misc_TankTemplate(PUZ_MF_Explosive_Contraption_B_29a36662-ccd9-4599-b2a1-16fb2cb31366);
DB_FlagReactionAfterDialog(TUT_Misc_State_SeenTransformation_407e132e-bcde-49f3-8e42-8100e7bad9cb, TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47);
DB_TUT_Misc_Pods(S_TUT_Misc_TransformPod_000_5c4561ef-26e5-49c6-8d19-11cc0f1e428b);
DB_TUT_Misc_GuideInclusion(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, S_TUT_TransformChamber_SpotPodStorage_a4ac6721-fa25-4973-81c3-1e497a5a8af7, "TUT_TransformChamber_PodStorage", TUT_TransformChamber_VB_PodStorage_f0c7472f-c449-2bef-2e1e-2f638aab0e96, TUT_TransformChamber_AD_LaezelPodStorage_5f95c11c-4335-f2e4-eb69-df5022d97d47);
DB_TUT_Misc_GuideInclusion(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, S_TUT_LowerDeck_RoomTrigger_ebbf3bb5-d79a-49f0-b085-eae705c8fc66, "TUT_LowerDeck_AfterFight", TUT_LowerDeck_VB_AfterFight_907a3adf-46fe-533f-9c17-c41a2a015761, TUT_LowerDeck_AD_LaezelAfterFight_7e259d7b-eb4f-0b55-b87a-61d8704bedd1);
DB_TUT_Misc_GuideInclusion(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, S_TUT_Helm_MindflayerFall_bbbfe493-b66d-4d54-856b-5d862e4a94ad, "TUT_Helm_MindflayerDefeated", TUT_Helm_VB_MindflayerFall_e8a94613-b645-8723-9306-ea440732be51, TUT_Helm_AD_LaezelMindflayerFall_07cf8f03-d5a4-0d6d-abdb-4866a1fcdb90);
DB_TUT_Misc_GuideInclusion(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, S_TUT_TransformChamber_PanelProximity_7e338e5b-846b-4fb7-b289-8354009dbb7f, "TUT_TransformChamber_ControlPanel", TUT_TransformChamber_VB_ControlPanel_d561cc80-2941-85fd-7580-1cdd1dc8a2e4, TUT_TransformChamber_AD_LaezelControlPanel_5fd10cae-0d48-e3a0-57cf-7614bd41fc91);
DB_TUT_Misc_GuideInclusion(S_TUT_GithGuide_201a0ee6-6411-4564-aaea-1ca057bfea04, S_TUT_TransformChamber_SpotPodStorage_a4ac6721-fa25-4973-81c3-1e497a5a8af7, "TUT_TransformChamber_PodStorage", TUT_TransformChamber_VB_PodStorage_f0c7472f-c449-2bef-2e1e-2f638aab0e96, TUT_TransformChamber_AD_AltGuide_PodStorage_231d298d-4b82-1cb2-2d97-f7a3af1950d9);
DB_TUT_Misc_GuideInclusion(S_TUT_GithGuide_201a0ee6-6411-4564-aaea-1ca057bfea04, S_TUT_LowerDeck_RoomTrigger_ebbf3bb5-d79a-49f0-b085-eae705c8fc66, "TUT_LowerDeck_AfterFight", TUT_LowerDeck_VB_AfterFight_907a3adf-46fe-533f-9c17-c41a2a015761, TUT_LowerDeck_AD_AltGuide_AfterFight_56ce74ad-fdbc-91f2-6a18-bafee9baa510);
DB_TUT_Misc_GuideInclusion(S_TUT_GithGuide_201a0ee6-6411-4564-aaea-1ca057bfea04, S_TUT_Helm_MindflayerFall_bbbfe493-b66d-4d54-856b-5d862e4a94ad, "TUT_Helm_MindflayerDefeated", TUT_Helm_VB_MindflayerFall_e8a94613-b645-8723-9306-ea440732be51, TUT_Helm_AD_AltGuide_MindflayerFall_35bb2fbe-7438-01a4-1743-2119a339086b);
DB_TUT_Misc_GuideInclusion(S_TUT_GithGuide_201a0ee6-6411-4564-aaea-1ca057bfea04, S_TUT_TransformChamber_PanelProximity_7e338e5b-846b-4fb7-b289-8354009dbb7f, "TUT_TransformChamber_ControlPanel", TUT_TransformChamber_VB_ControlPanel_d561cc80-2941-85fd-7580-1cdd1dc8a2e4, TUT_TransformChamber_AD_AltGuide_ControlPanel_db32acfd-a7ca-165d-400c-1cee2c5eb433);
DB_TUT_Misc_GuideBacktrackADs(TUT_Misc_AD_LaezelBacktrack_02e1902d-4be6-49be-83ec-cb0d0901c157, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12);
DB_TUT_Misc_GuideBacktrackADs(TUT_Misc_AD_AltGuide_Backtrack_8cf0937f-6dbd-ff25-53c9-10d3e5a934db, S_TUT_GithGuide_201a0ee6-6411-4564-aaea-1ca057bfea04);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_StartingRoom_7c8c2de9-b411-4f1f-a54b-56251e44932a, 1);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_Lab_7fb8fefd-38b3-4069-a831-37a9d0ba2a1f, 2);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_JumpingArea_7b36eb10-29f3-488e-90ca-987b1d073351, 3);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_LowerDeck_ec344bbe-3353-4076-825d-ee901fa8675c, 4);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_MindDrainMachine_5f77dd78-9771-4218-8952-e1d4d63c8a6d, 5);
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_ControlRoom_b7bf106f-e3b9-4b74-b228-a1c229605dcb, 6);
DB_TUT_Misc_TutorialProgress(S_TUT_ProgressTrigger_StartingRoom_7c8c2de9-b411-4f1f-a54b-56251e44932a, 1);
DB_TUT_Misc_Devils(S_TUT_Helm_Devil_005_ed103005-fd71-457d-ae6c-39654bbd8f2e, TUT_Helm_AD_GreaterDevil_c53efb1a-e5e2-98d1-2b70-8d335e5c960e);
PROC_TriggerRegisterForPlayers(S_TUT_LowerDeck_Stairs_42dfb01f-bdc3-4d92-b8fc-d4f2980332c0);
PROC_TriggerRegisterForPlayers(S_TUT_Helm_GuideWarningBounds_f63b25b7-e77c-4d7b-874e-b5c61ab35802);
PROC_TriggerRegisterForPlayers(S_TUT_TransformChamber_PanelProximity_7e338e5b-846b-4fb7-b289-8354009dbb7f);
DB_TUT_Misc_CorpsePods(S_TUT_PlayerPod_004_9cc50df2-46eb-4a32-90c3-9363c85cdd5d);
DB_TUT_Misc_CorpsePods(S_TUT_Start_CorpsePod_001_6e768f67-8fd7-4f30-9004-24ddae403721);
DB_TUT_Misc_RumbleRooms(S_TUT_Misc_RubbleHelper_000_66b80d8d-20fb-4d6f-9690-5f94c642a51e, S_TUT_Misc_RubbleRoom_000_4994b558-2fc9-46eb-8ec4-1dc1b5acd2b4, 50);
DB_TUT_Misc_RumbleRooms(S_TUT_Misc_RubbleHelper_001_92bd3839-899c-4312-ab69-770538114d37, S_TUT_Misc_RubbleRoom_001_5873b16d-43e6-48c8-970b-bde226c6b515, 30);
DB_TUT_Misc_RumbleRooms(S_TUT_Misc_RubbleHelper_002_cc212976-6124-4230-a3e1-265e54d74c20, S_TUT_Misc_RubbleRoom_002_1ef9dea6-6e95-47dc-8c06-a570ffcc11d3, 20);
DB_TUT_Misc_RumbleRooms(S_TUT_Misc_RubbleHelper_003_5d5e9902-ae8c-4d6c-8daa-ef6d9d973a45, S_TUT_Misc_RubbleRoom_002_a79b9aae-847c-42bb-a109-7772d5a4b376, 20);
DB_TUT_Misc_Elevator(LT_PLT_TUT_Elevator_002_fda62ae9-c8c3-4ae9-ae87-3c0c5e18b42f, S_TUT_Misc_Elevator002_Down_7e0e9655-913c-4d42-9a24-21c31d42d7e5, S_TUT_Misc_Elevator002_DownLever_8db8f360-c12a-464f-bb4c-0361160663a8, S_TUT_Misc_Elevator002_Up_2a33cb01-673d-4740-8661-02c019d655c5, S_TUT_Misc_Elevator002_UpLever_41dedacc-3e20-4dcb-abb9-52829e2fb89e, S_TUT_Misc_ElevatorSwitch_03c4a72e-5129-8a69-3ae7-85e5f549079b);
DB_TUT_Misc_ElevatorLevers(LT_PLT_TUT_Elevator_002_fda62ae9-c8c3-4ae9-ae87-3c0c5e18b42f, S_TUT_Misc_Elevator002_DownLever_8db8f360-c12a-464f-bb4c-0361160663a8, "Down");
DB_TUT_Misc_ElevatorLevers(LT_PLT_TUT_Elevator_002_fda62ae9-c8c3-4ae9-ae87-3c0c5e18b42f, S_TUT_Misc_Elevator002_UpLever_41dedacc-3e20-4dcb-abb9-52829e2fb89e, "Up");
DB_TUT_Misc_ElevatorLevers(LT_PLT_TUT_Elevator_002_fda62ae9-c8c3-4ae9-ae87-3c0c5e18b42f, S_TUT_Misc_ElevatorSwitch_03c4a72e-5129-8a69-3ae7-85e5f549079b, "");
DB_TUT_Misc_RestingStations(S_TUT_Misc_RestingStation_000_e96e33f7-6f59-4058-a5bb-8cd38b502d92);
DB_TUT_Misc_RestingStations(S_TUT_Misc_RestingStation_001_716e7a77-cdba-483f-b5e7-8727e0fe9b78);
DB_TUT_Misc_RestingStations(S_TUT_Misc_RestingStation_002_9dd6015a-ddd2-4719-a456-99abebc90e79);
DB_TUT_Misc_RestingStations(S_TUT_Misc_RestingStation_003_4c29b59f-e549-480a-b062-fc4fde3770ab);
DB_TUT_Misc_Tentacles(S_TUT_Misc_Tentacle_000_e05e6677-2c82-4833-bc9a-94afb89bfed8);
DB_TUT_Misc_Tentacles(S_TUT_Misc_Tentacle_001_b71aae2a-9350-4ede-ac5d-ddf907d8c814);
DB_TUT_Misc_Tentacles(S_TUT_Misc_Tentacle_002_0c6851bc-3cdc-491b-b50e-b53a76ed82c3);
DB_TUT_Misc_Tentacles(S_TUT_Misc_Tentacle_003_d0d2522e-8f6f-439d-9f3e-79b620bb79a9);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_001_691f1ad9-7d75-4205-9267-7952d2d24726);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_002_84d003a8-a216-4efe-b3ef-ccaf2b84a370);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_003_92b47b70-33b6-4079-a2df-4023c2fe723b);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_004_53497b8e-2a46-4f0e-91df-34b467a689ac);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_005_fdd83aae-fcee-4d2f-9e6f-d14d05fe2a46);
DB_TUT_Misc_WhisperingChairs(S_TUT_MindflayerRoom_Chair_006_a6e7946f-e7e3-498c-be54-fbf86721f2fe);
DB_DialogBlockAttackButton(TUT_Misc_PodMindflayer_8fa2d3b2-c869-85fb-2733-e481feefe0f4);
DB_DialogBlockAttackButton(TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47);
PROC_TUT_Misc_TentacleStart();
PROC_TUT_Misc_RegisterRumbleRooms();
PROC_TUT_Misc_ElevatorInit();
DB_AutoSaveTrigger(S_TUT_SaveTrigger_FinalEncounter_225d10f9-06f1-49d4-8e30-5317e18ecd98);
DB_AutoSaveTrigger(S_TUT_SaveTrigger_Start_ee28dfe3-0cf9-42d5-8ae5-3cfd7efebc52);
DB_AutoSaveTrigger(S_TUT_SaveTrigger_ImpEncounter_6218b139-a1c2-4bfe-8d82-0ad2d2b2397e);
DB_AutoSaveTrigger(S_TUT_SaveTrigger_DrainMachineEncounter_3fcfd053-b5c8-430e-ba33-65c4205445cc);
DB_TUT_Misc_TutPods(DEC_MFL_Pod_C_001_f1916334-e26f-4dea-8cf3-36ed755da3dd);
DB_TUT_Misc_TutPods(S_TUT_TransformChamber_Pod_007_1eebfdb5-8814-da8d-2d3e-64b2924f95b0);
DB_TUT_Misc_TutPods(S_TUT_Misc_TransformPod_000_5c4561ef-26e5-49c6-8d19-11cc0f1e428b);
DB_TUT_Misc_TutPods(DEC_MFL_Pod_C_000_9e92d736-6ae6-4b25-b00f-46db73b7bdab);
DB_TUT_Misc_TutPods(S_TUT_Start_LaezelPod_0aa6b2a4-808a-4eb3-84d7-face5ac13e44);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_000_e7f3d57d-3ab1-4189-b79a-b803a66e832b, TUT_Lab_PAD_GoblinBook_e15e9ac1-2f95-0686-0b16-039e9ed50897);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_001_88754118-7c80-4eba-9191-02ad5f6c213c, TUT_Lab_PAD_SocietyBook_a99b07f3-283f-8f8b-c878-2857c87cfc6e);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_002_2e55e20f-2fb4-4a7a-9a0d-78bc61a19ee0, TUT_Lab_PAD_HistoryBook_2558266c-a9fb-042d-fcd7-96242fb9f3d3);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_003_a0fa26b7-25ef-4e68-b6ed-1fd05c4fdccf, TUT_Lab_PAD_IllithidEmpireBook_d952b405-5452-573c-8e3e-1633e9169084);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_004_d34c65bb-535f-46cb-99b6-f772d0236852, TUT_Lab_PAD_MFBook_9fb50411-34c3-9118-e6b5-2769076c6776);
DB_ItemDialog_NarratorAD(S_TUT_Lab_Book_005_855d1730-5979-4821-924b-3b2205c752f5, TUT_Lab_PAD_NautiloidBook_d9790085-2fab-91a8-9e4b-f20d12a7a63a);
DB_TUT_Misc_GenericItemsException(S_TUT_Lab_AdventurerBrainJar_2c5bca7e-8649-4217-9ebb-52b20a506e99);
DB_TUT_Misc_GenericItemsException(S_TUT_Lab_ClericBrainJar_f938e0a4-fb50-4d69-8b40-18e9bba30a22);
DB_TUT_Misc_GenericItemsException(S_TUT_Lab_MindflayerBrain_95534767-eef6-468b-9712-37ba4e509544);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_A_e28ad82a-f0eb-4f80-b3ec-bfedcbbe877d);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_B_d8cad0bc-4d38-4ecf-a716-dd78ee9cec4f);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_C_915aeb6b-6804-47d5-a5a6-c1b4da2dab81);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_C_105_6cbe1143-8f60-4fa7-aea6-d68c73d42dac);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_B_013_71677352-8164-458b-91a6-2374658dafbe);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_D_010_d82d8fc9-6a45-45a3-b8b1-e496a77c20e2);
DB_TUT_Misc_GenericItems(DEC_MF_Brain_Jar_D_85ff87eb-ccaa-43e4-9c35-83b69801dc60);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_000_cccf952e-2ef3-41a1-ab8f-c2b341057852);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_002_191606bc-7db1-4293-be6c-a69b5c840941);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_001_a4640cb3-c080-4f35-ab0d-f17b339aa961);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_005_fbb3bfb5-85d9-43f7-bdbc-5c23ac6762e1);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_004_61f27316-d2dc-4203-b995-d99843a71a9c);
DB_TUT_Misc_Cannons(S_TUT_Deck_Cannon_003_3fb35aac-3ca3-42b6-94b4-072b597c403c);
DB_TUT_PlayerLikeCompanion(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679);
DB_TUT_PlayerLikeCompanion(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12);
DB_QuestDef_State(TUT_Misc_Quest_ReachedHelm_f61440b7-4118-4936-b165-40677fff1a9c, "TUT_NautiloidEscape", "ReachedHelm");

KBSECTION
QRY
QRY_StartDialog_BlockAttackButton(_, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var5, (GUIDSTRING)_Var6, (GUIDSTRING)_Var7, _, _, _)
AND
DB_TutorialCompanion(_Var2, _, _, _, _)
THEN
DB_Noop(1);

IF
AttackedBy((ITEM)_Var1, (GUIDSTRING)_Var2, _, _, _, _, _, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_TUT_Misc_TutPods(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
_Var2 != S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12
AND
QRY_SpeakerIsAvailable(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, _Var1, _Var1, _Var1, _Var1)
AND
CanSee(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, _Var1, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_Misc_LaezelCommentOnAttackPods", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(TUT_TransformChamber_AD_AttackOnPod_c44b549c-4ad3-08d2-813f-264f32df9d3d, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12);

PROC
PROC_TUT_Misc_TutorialCompanion_Recruitment((CHARACTER)_Var1, (CHARACTER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetFaction(_Var1, Hero_a1542c81-6895-929e-4522-10ce218bb360);
MakePlayer(_Var1, _Var2);
RequestInitialLevel(_Var1);
DB_Players(_Var1);
RegisterAsCompanion(_Var1, _Var2);
SetCanJoinCombat(_Var1, 1);

PROC
PROC_TUT_Misc_TutorialCompanion_RemoveCompanion((CHARACTER)_Var1, (STRING)_Var2, (STRING)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_TutorialCompanion_OldFaction(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
SetFaction(_Var1, _Var4);
MakeNPC(_Var1);
UnregisterAsCompanion(_Var1);
NOT DB_TutorialCompanion(_Var1);
NOT DB_TUT_Misc_TutorialCompanion_OldFaction(_Var1, _Var4);
ClearFlag(ORI_State_Recruited_e78c0aab-fb48-98e9-3ed9-773a0c39988d, _Var1);
PROC_GLO_PartyMembers_Remove(_Var1, 1);
PROC_SetRelationToPlayers(_Var4, 50);
DetachFromPartyGroup(_Var1);
NOT DB_Players(_Var1);
NOT DB_PartyMembers(_Var1);
NOT DB_PartOfTheTeam(_Var1);
SetTag(_Var1, DOWNED_DISABLED_7095912e-fcb9-41dd-aec3-3cf7803e4b22);

PROC
PROC_TUT_Misc_TutorialCompanion_RemoveCompanion(S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558, "dismissed", (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND NOT
DB_SceneManager(S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558, "TUT_Laboratory_UsDimissed", _Var1, _Var1, _Var1)
AND NOT
DB_OnlyOnce("TUT_Lab_UsStartsEscape", _Var1, _Var1, _Var1, _Var1)
THEN
DB_SceneManager(S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558, "TUT_Laboratory_UsDimissed");

PROC
PROC_TUT_Misc_TutorialCompanion_RemoveCompanion((CHARACTER)_Var1, (STRING)_Var2, (STRING)_Var3, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
CanJoinCombat(_Var1, 0, _Var1, _Var1, _Var1)
THEN
SetCanJoinCombat(_Var1, 1);

IF
EnteredChasm((CHARACTER)_Var1, (GUIDSTRING)_Var2, _, (REAL)_Var4, (REAL)_Var5, (REAL)_Var6, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_CurrentLevel("TUT_Avernus_C", _Var1, _Var1, _Var1, _Var1)
AND
DB_TutorialCompanion(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_Camp_PlayerEnteredChasm(_Var1, _Var2, _Var4, _Var5, _Var6);

IF
UseFinished((CHARACTER)_Var1, (ITEM)_Var2, 1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_WhisperingChairs(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_TransformChamber_ChairWhispers", _Var1, _Var1, _Var1, _Var1)
THEN
StartVoiceBark(TUT_TransformChamber_VB_ChairWhispers_eba2ca27-7006-b4f9-10e4-0e089e147aa5, _Var1);

IF
UseStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTemplate(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_Aquariums(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(TUT_Misc_PAD_Aquarium_b18bce9b-6d48-f031-db2f-6a56c1362e37, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTemplate(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_AquariumNotBrain(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(TUT_Misc_PAD_NonBrainAquarium_44d8b26b-b2b1-116d-e5bd-0283e92c6705, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_GenericItemsException(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
GetTemplate(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_GenericItems(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(TUT_Misc_PAD_GenericNautiloidItem_0d3ac251-5485-4008-a38c-afa195baba60, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_Pods(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog(TUT_Misc_PodMindflayer_8fa2d3b2-c869-85fb-2733-e481feefe0f4, _Var1, S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_TUT_Misc_MindflayerPodView((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_StartDialog(TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47, _Var1, S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1, _Var1)
THEN
NOT DB_OnlyOnce("TUT_TransformChamber_Transform");

IF
DialogStarted(TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
DB_TUT_Misc_CurrentTransformationID(_Var1);

IF
DialogEnded(TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_TUT_Misc_CurrentTransformationID(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_CurrentTransformationID(_Var1);

IF
DialogEnded(TUT_Misc_MindflayerTransformation_091620a4-3081-0e67-142d-281b2812de47, _, _, _, _)
AND NOT
DB_GlobalFlag(TUT_Misc_State_TransformationOccured_fb6cd0a5-d41d-4c47-8f44-8b4d93746f72, _, _, _, _)
THEN
NOT DB_OnlyOnce("TUT_TransformChamber_Transform");

IF
UseStarted((CHARACTER)_Var1, S_TUT_TransformChamber_Lever_005_85ff4c93-d1e1-4ac1-b244-2d62e2c60f7c, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(TUT_Misc_State_TransformationOccured_fb6cd0a5-d41d-4c47-8f44-8b4d93746f72, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_TransformChamber_FinishedADSaid(1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(TUT_TransformChamber_PAD_TransformationFinished_3b1c54b5-c837-e24e-2fd3-2a03e7238eaa, _Var1);

IF
AutomatedDialogStarted(TUT_TransformChamber_PAD_TransformationFinished_3b1c54b5-c837-e24e-2fd3-2a03e7238eaa, _, (INTEGER)_, (INTEGER)_, (INTEGER)_)
THEN
DB_TUT_TransformChamber_FinishedADSaid(1);

PROC
PROC_FlagReactionAfterDialog((GUIDSTRING)_Var1, TUT_Misc_State_SeenTransformation_407e132e-bcde-49f3-8e42-8100e7bad9cb, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
RealtimeObjectTimerLaunch(_Var1, "TUT_Misc_MindflayerTransform_Reaction", 1000);

IF
FlagSet(TUT_Misc_State_TransformationOccured_fb6cd0a5-d41d-4c47-8f44-8b4d93746f72, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_Poof(S_TUT_Misc_PodHuman_92b60869-b880-4f29-8cd3-bb2a8c771af1);
PROC_Foop(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7);

IF
WentOnStage(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, 1, _, _, _)
THEN
Use(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, S_TUT_Misc_HackChair_5aa4e961-af89-44b6-802f-7f87e21015b7, 1, 1, "TUT_Misc_MindflayerSeated");

IF
EntityEvent(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, "TUT_Misc_MindflayerSeated", _, _, _)
THEN
SetVisible(S_TUT_Misc_PodMindflayer_14cbbbbb-b10e-444a-ba2d-5960db071fe7, 1);

IF
ObjectTimerFinished((CHARACTER)_Var1, "TUT_Misc_MindflayerTransform_Reaction", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
StartVoiceBark(TUT_Misc_VB_TransformationReaction_06fe8ef0-1b0c-e15c-f699-59975d2d0aea, _Var1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var1 != S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558
AND
DB_TUT_Misc_CorpsePods(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, _Var2, _, _Var1, _Var1)
THEN
PROC_TryStartAD(TUT_Start_PAD_PodWithCorpse_66819a06-0cb8-b8b5-07e9-400f48076bc0, _Var1);

IF
DB_Tutorial_Start_PlayerPodAssigned(_, S_TUT_Start_Pod_004_ec8fb6fb-871a-4720-9f81-c8fe1bd5be48, _, _, _)
THEN
NOT DB_TUT_Misc_CorpsePods(S_TUT_Start_Pod_004_ec8fb6fb-871a-4720-9f81-c8fe1bd5be48);
PROC_SetOnStage(S_TUT_Start_Corpse_001_d5facc61-61b6-4285-ae4a-22676c54ff35, 0);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var1 != S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558
AND
DB_TUT_Start_Pods(_Var2, _, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_CorpsePods(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Tutorial_Start_PlayerPodAssigned(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, _Var2, _, _Var1, _Var1)
THEN
StartVoiceBark(TUT_Misc_VB_OriginPod_Empty_aadcfa0d-c58b-76f0-9d31-356e1c746ef7, _Var1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
_Var1 != S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558
AND
DB_TUT_Start_Pods(_Var2, _, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_CorpsePods(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Tutorial_Start_PlayerPodAssigned(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_DialogNPCs(_, _Var2, _, _Var1, _Var1)
THEN
StartVoiceBark(TUT_Misc_VB_OriginPod_PlayerEmpty_7691d759-d302-143a-1aa2-58de2a8a7651, _Var1);

IF
UseStarted(S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_TUT_Start_Pods(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(GLO_AD_CannotUseNow_Muted_79fe3a97-7e74-6f79-9afb-6a5d947a4b0b, S_TUT_Lab_TrappedDevourer_6ca92237-eb1e-4ed8-a1ee-18b3bef21558);

IF
EnteredTrigger((CHARACTER)_Var1, (TRIGGER)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Guide(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_GuideInclusion(_Var3, _Var2, _Var4, _Var5, _Var6)
AND
QRY_OnlyOnce(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_TUT_Misc_GuidePresent(_Var1, _Var5, _Var6, _Var3, _Var1)
THEN
StartVoiceBark(_Var5, _Var1);

QRY
QRY_TUT_Misc_GuidePresent((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var4, (GUIDSTRING)_Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TUT_Misc_GuideComment(_Var2, _Var3, _Var4);

PROC
PROC_TUT_Misc_GuideComment((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_StartDialog_Fixed(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_Devils(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GetFlag(TUT_Misc_State_AlreadyTalked_a8e396e9-bcf8-4b3a-ab6e-71e7f6e0f486, _Var1, 1, _Var1, _Var1)
THEN
ClearFlag(TUT_Misc_State_AlreadyTalked_a8e396e9-bcf8-4b3a-ab6e-71e7f6e0f486, _Var1, 0);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_Devils(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_CantTalk_IgnoreCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(TUT_Misc_State_AlreadyTalked_a8e396e9-bcf8-4b3a-ab6e-71e7f6e0f486, _Var1, 0, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var2, _Var1);
SetFlag(TUT_Misc_State_AlreadyTalked_a8e396e9-bcf8-4b3a-ab6e-71e7f6e0f486, _Var1, 0);

PROC
PROC_TUT_Misc_RegisterRumbleRooms()
AND
DB_TUT_Misc_RumbleRooms(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var2);

QRY
QRY_TUT_Misc_CheckForPlayers((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
_Var3 != _Var2
AND
DB_InRegion(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_RumbleRooms(_Var3, _Var2, _Var4, _Var1, _Var1)
AND NOT
QRY_TUT_Misc_CheckForPlayers(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TUT_Misc_RoomRumbleActive(_Var2);
PROC_TUT_Misc_RumbleStart(_Var3, _Var2, _Var4);

IF
LeftTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_RumbleRooms(_Var3, _Var2, _, _Var1, _Var1)
AND NOT
QRY_TUT_Misc_CheckForPlayers(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_RoomRumbleActive(_Var2);

PROC
PROC_TUT_Misc_RumbleStart((GUIDSTRING)_Var1, (TRIGGER)_Var2, (INTEGER)_Var3, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_RoomRumbleActive(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
Random(10000, _Var4, _Var1, _Var1, _Var1)
AND
IntegerProduct(_Var4, _Var3, _Var5, _Var1, _Var1)
AND
IntegerSum(30000, _Var5, _Var6, _Var1, _Var1)
THEN
ObjectTimerLaunch(_Var1, "TUT_Misc_RubbleDelay", _Var6);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "TUT_Misc_RubbleDelay", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_RumbleRooms(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_LoopEffect(VFX_Script_Tutorial_CameraShake_01_0661ac5d-e5e7-79ad-0a1e-538a31a4ce0a, _Var1, "TUT_Misc_RubbleCollapse", "TUT_Avernus_C", "");
ObjectTimerLaunch(_Var1, "TUT_Misc_RubbleCollapse", 5000);

IF
ObjectTimerFinished((GUIDSTRING)_Var1, "TUT_Misc_RubbleCollapse", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_RumbleRooms(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "TUT_Misc_RubbleCollapse");
PROC_TUT_Misc_RumbleStart(_Var1, _Var2, _Var3);

PROC
PROC_TUT_Misc_ElevatorInit()
AND
DB_TUT_Misc_Elevator(_Var1, _, _, _, _, _, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TUT_Misc_ElevatorPosition(_Var1, "Down");

IF
UseStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_Elevator(_Var3, _Var4, _, _, _, _Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var3, "Up", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var3, "Up");
DB_TUT_Misc_ElevatorPosition(_Var3, "Down");
DB_TUT_Misc_ElevatorMoving(_Var3);
PROC_TUT_Misc_FindDestination(_Var3, _Var4);

IF
UseStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_Elevator(_Var3, _, _, _Var6, _, _Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var3, "Down", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var3, "Down");
DB_TUT_Misc_ElevatorPosition(_Var3, "Up");
DB_TUT_Misc_ElevatorMoving(_Var3);
PROC_TUT_Misc_FindDestination(_Var3, _Var6);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_Elevator(_Var3, _Var4, _Var2, _, _, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var3, "Up", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var3, "Up");
DB_TUT_Misc_ElevatorPosition(_Var3, "Down");
DB_TUT_Misc_ElevatorMoving(_Var3);
PROC_TUT_Misc_FindDestination(_Var3, _Var4);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_Elevator(_Var3, _, _, _Var6, _Var2, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var3, "Down", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var3, "Down");
DB_TUT_Misc_ElevatorPosition(_Var3, "Up");
DB_TUT_Misc_ElevatorMoving(_Var3);
PROC_TUT_Misc_FindDestination(_Var3, _Var6);

PROC
PROC_TUT_Misc_ElevatorEnter((TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
DB_TUT_Misc_Elevator(_Var2, _Var1, _, _Var4, _, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var2, "Down", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var2, "Down");
DB_TUT_Misc_ElevatorPosition(_Var2, "Up");
DB_TUT_Misc_ElevatorMoving(_Var2);
PROC_TUT_Misc_FindDestination(_Var2, _Var4);

PROC
PROC_TUT_Misc_ElevatorEnter((TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
DB_TUT_Misc_Elevator(_Var2, _Var3, _, _Var1, _, _, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Misc_ElevatorMoving(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var2, "Up", _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorPosition(_Var2, "Up");
DB_TUT_Misc_ElevatorPosition(_Var2, "Down");
DB_TUT_Misc_ElevatorMoving(_Var2);
PROC_TUT_Misc_FindDestination(_Var2, _Var3);

PROC
PROC_TUT_Misc_FindDestination((LEVELTEMPLATE)_Var1, (TRIGGER)_Var2, (LEVELTEMPLATE)_Var1, (LEVELTEMPLATE)_Var1, (LEVELTEMPLATE)_Var1)
AND
GetPosition(_Var2, _Var3, _Var4, _Var5, _Var1)
THEN
PROC_TUT_Misc_ElevatorMove(_Var1, _Var3, _Var4, _Var5);

PROC
PROC_TUT_Misc_ElevatorMove((LEVELTEMPLATE)_Var1, (REAL)_Var2, (REAL)_Var3, (REAL)_Var4, (LEVELTEMPLATE)_Var1)
THEN
PlatformMoveTo(_Var1, _Var2, _Var3, _Var4, 1.5, "TUT_Misc_ElevatorMoved", 0);

IF
PlatformMovementFinished((GUIDSTRING)_Var1, "TUT_Misc_ElevatorMoved", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_Elevator(_Var1, _, _, _, _, _, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_ElevatorMoving(_Var1);

PROC
PROC_BlockUseOfItem((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorLevers(_, _Var2, _, _Var1, _Var1)
AND
QRY_TUT_Misc_ElevatorLeverBlocked(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_CustomUseItemResponse(_Var1, _Var2, 0);

PROC
PROC_BlockUseOfItem((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Misc_ElevatorLevers(_, _Var2, _, _Var1, _Var1)
AND NOT
DB_TUT_Misc_UsedElevatorLever(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_TUT_Misc_ElevatorLeverBlocked(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_TUT_Misc_UsedElevatorLever(_Var1);
PROC_TryStartAD(TUT_Misc_PAD_BlockedElevatorLever_8a553ab0-d62e-c043-4734-6c1cda29da32, _Var1);

QRY
QRY_TUT_Misc_ElevatorLeverBlocked((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_TUT_Misc_ElevatorLevers(_Var2, _Var1, _, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorMoving(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_TUT_Misc_ElevatorLeverBlocked((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_TUT_Misc_ElevatorLevers(_Var2, _Var1, _Var3, _Var1, _Var1)
AND
DB_TUT_Misc_ElevatorPosition(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
AutomatedDialogEnded(TUT_Misc_PAD_BlockedElevatorLever_8a553ab0-d62e-c043-4734-6c1cda29da32, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
DB_TUT_Misc_UsedElevatorLever(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_UsedElevatorLever(_Var2);

IF
AutomatedDialogRequestFailed(TUT_Misc_PAD_BlockedElevatorLever_8a553ab0-d62e-c043-4734-6c1cda29da32, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
DB_TUT_Misc_UsedElevatorLever(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_UsedElevatorLever(_Var2);

IF
DB_TUT_Misc_RestingStations(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_GLO_RestorationStation(_Var1);

IF
UseStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_RestingStations(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OncePerUserAndNearbyPlayers(_Var1, "TUT_Misc_UsedRestingStation", _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(TUT_Misc_PAD_RestingStation_2190b457-fb74-1914-5889-94927b96df21, _Var1);

IF
EnteredTrigger((GUIDSTRING)_Var1, S_TUT_Helm_GuideWarningBounds_f63b25b7-e77c-4d7b-874e-b5c61ab35802, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Guide(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var2 != _Var1
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_GuideDialogues("BeforeHelm", _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_OnlyOnce("TUT_LowerDeck_BeforeHelm", _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_LowerDeck_BeforeHelm", _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
RelationChanged(Hero_a1542c81-6895-929e-4522-10ce218bb360, ACT0a_TUT_HelmMindflayer_8edc7770-b83c-412e-8a5a-5427a63e5b8a, (INTEGER)_Var1, _, (INTEGER)_Var1)
AND
_Var1 < 50
AND
DB_TUT_Guide(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
QRY_SpeakerIsAvailableAndInDialogRange(_Var3, _Var4, _Var1, _Var1, _Var1)
AND
DB_TUT_GuideDialogues("MindflayerHostile", _Var3, _Var5, _Var1, _Var1)
AND NOT
DB_OnlyOnce("TUT_Misc_MindflayersHostile", _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialog_Fixed(_Var5, _Var3, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_Misc_MindflayersHostile", _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
UseStarted((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetTemplate(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TankTemplate(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_Misc_TankCommentFinished", _Var1, _Var1, _Var1, _Var1)
THEN
StartVoiceBark(TUT_Misc_VB_NautiloidTank_1e8307f1-07a9-584e-858f-e4188689be37, _Var1);

PROC
PROC_TUT_Misc_TentacleStart()
AND
DB_TUT_Misc_Tentacles(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetForceUpdate(_Var1, 1);

IF
OnShutdown(_, _, _, _, _)
AND
DB_TUT_Misc_Tentacles(_Var2, _, _, _, _)
THEN
SetForceUpdate(_Var2, 0);

IF
DB_TUT_Misc_TutorialProgressTrigger(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_TriggerRegisterForPlayers(_Var1);

IF
EnteredTrigger((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_TutorialProgressTrigger(_Var2, _, _Var1, _Var1, _Var1)
AND NOT
DB_TUT_Guide(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TUT_Misc_UpdateProgress(_Var2, _Var1);

PROC
PROC_TUT_Misc_UpdateProgress((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_OnlyOnce_Reset("TUT_UpdateProgress", _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TutorialProgressTrigger(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TutorialProgress(_, _Var5, _Var1, _Var1, _Var1)
AND
_Var3 > _Var5
AND
QRY_OnlyOnce("TUT_UpdateProgress", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TUT_Misc_UpdateProgress_Internal(_Var1);

PROC
PROC_TUT_Misc_UpdateProgress((TRIGGER)_Var1, (CHARACTER)_Var2, (TRIGGER)_Var1, (TRIGGER)_Var1, (TRIGGER)_Var1)
AND
QRY_OnlyOnce("TUT_UpdateProgress", _Var1, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TutorialProgressTrigger(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TutorialProgress(_Var4, _Var5, _Var1, _Var1, _Var1)
AND
IntegerSubtract(_Var5, _Var3, _Var6, _Var1, _Var1)
AND
_Var6 >= 2
THEN
PROC_TUT_Misc_TryPlayBacktrackAD(_Var2);
PROC_TUT_Misc_UpdateProgress_Internal(_Var1);

PROC
PROC_TUT_Misc_UpdateProgress(S_TUT_ProgressTrigger_TransformationRoom_87b40fb6-2271-4ed7-a87b-397c0853c6d9, _, (CHARACTER)_, (CHARACTER)_, (CHARACTER)_)
THEN
NOT DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_TransformationRoom_87b40fb6-2271-4ed7-a87b-397c0853c6d9, 4);
PROC_TriggerUnregisterForPlayers(S_TUT_ProgressTrigger_TransformationRoom_87b40fb6-2271-4ed7-a87b-397c0853c6d9);

IF
LeftTrigger(_, S_TUT_TransformChamber_SpotPodStorage_a4ac6721-fa25-4973-81c3-1e497a5a8af7, _, _, _)
AND
QRY_OnlyOnce("TUT_Misc_HadSpotVB", _, _, _, _)
THEN
DB_TUT_Misc_TutorialProgressTrigger(S_TUT_ProgressTrigger_TransformationRoom_87b40fb6-2271-4ed7-a87b-397c0853c6d9, 4);

PROC
PROC_TUT_Misc_TryPlayBacktrackAD((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_TUT_Guide(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
_Var1 != _Var2
AND
GetDistanceTo(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
_Var3 <= 10
AND
DB_TUT_Misc_GuideBacktrackADs(_Var4, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var4, _Var2);

PROC
PROC_TUT_Misc_UpdateProgress_Internal((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_TUT_Misc_TutorialProgressTrigger(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_TUT_Misc_TutorialProgress(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_TUT_Misc_TutorialProgress(_Var3, _Var4);
DB_TUT_Misc_TutorialProgress(_Var1, _Var2);

IF
DB_TUT_Misc_Cannons(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_IgnoreAssault(_Var1);
PROC_CharacterDisableAllCrimes(_Var1, 1);
PROC_SetInvulnerable(_Var1, 1);

PROC
PROC_TUT_Misc_UpdateHelmMarkerPosition((STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1, (STRING)_Var1)
AND
DB_TUT_Misc_JournalHelmPos(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
TeleportTo(S_TUT_NautiloidEscape_Helm_b784add8-f417-4650-aa47-080cb29dc6d0, _Var2, "");

PROC
PROC_OneShotTriggerEntered(_, S_TUT_Misc_StartRoomJournalPos_d426edee-d7e0-4faa-86a1-510a0eaf9eaf, (CHARACTER)_, (CHARACTER)_, (CHARACTER)_)
THEN
TeleportTo(S_TUT_NautiloidEscape_Escape_31a613b5-9fb5-4949-8fc3-730cc82cec30, S_TUT_NautiloidEscape_Helm_b784add8-f417-4650-aa47-080cb29dc6d0, "");

PROC
PROC_OneShotTriggerEntered(_, S_TUT_Misc_UpperFloorJournalPos_7789fd25-490a-4885-9c17-f214ecb1c745, (CHARACTER)_, (CHARACTER)_, (CHARACTER)_)
THEN
PROC_TUT_Misc_UpdateHelmMarkerPosition("Antechamber");

PROC
PROC_OneShotTriggerEntered(_, S_TUT_Misc_AntechamberJournalPos_b97895e5-f509-44f0-a771-0b7d1741afbe, (CHARACTER)_, (CHARACTER)_, (CHARACTER)_)
THEN
PROC_TUT_Misc_UpdateHelmMarkerPosition("Transponder");

PROC
PROC_TUT_JournalStart()
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "TUT_NautiloidEscape", "Start");
PROC_GLO_ActivitiesPS5_TutorialStart();

PROC
PROC_TUT_JournalStart()
AND
DB_TUT_Start_JournalUpdate(NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var2, _Var1, _Var1)
THEN
QuestUpdate(_Var1, _Var2);
NOT DB_TUT_Start_JournalUpdate(NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var2);

PROC
PROC_TUT_JournalStart()
AND
DB_TUT_Start_JournalUpdate(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
QuestUpdate(_Var1, _Var2, _Var3);
NOT DB_TUT_Start_JournalUpdate(_Var1, _Var2, _Var3);

IF
FlagSet(TUT_Misc_Quest_LearnedHelm_Laezel_674e2be1-0afe-448d-bfcb-5d8bdb6892e2, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_OnlyOnce("TUT_Misc_LearnedHelm", _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "TUT_NautiloidEscape", "LearnedHelm_Laezel");

IF
FlagSet(TUT_Misc_Quest_LearnedHelm_AltGuide_ef78d70d-50c0-4b4b-a5f0-2d125341f4ce, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_OnlyOnce("TUT_Misc_LearnedHelm", _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "TUT_NautiloidEscape", "LearnedHelm_AltGuide");

IF
FlagSet(TUT_Misc_Quest_LearnedHelm_Devourer_4c776485-6495-49a9-aa4d-b9816b421105, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_OnlyOnce("TUT_Misc_LearnedHelm", _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate(_Var1, "TUT_NautiloidEscape", "LearnedHelm_Devourer");

IF
DialogEnded(TUT_TransformChamber_PodGirl_02fa0520-60ff-573c-0d96-4782711cbdde, _, _, _, _)
AND NOT
DB_QuestIsAccepted("TUT_ShadowheartEscape", _, _, _, _)
THEN
QuestUpdate("TUT_ShadowheartEscape", "FindCaptive");

IF
AddedTo(S_TUT_TransformChamber_PodKey_19df3203-a4fb-4513-be14-fe036acffc0e, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("TUT_Misc_FoundRune", _Var1, _Var1, _Var1, _Var1)
THEN
QuestUpdate("TUT_ShadowheartEscape", "FoundRune");

PROC
PROC_TUT_TransformChamber_FreeShadowheart()
AND
DB_GlobalFlag(TUT_TransformChamber_PodGirl_Event_BarbarianStrengthSuccess_551a3ad7-67d1-48dd-81f5-f5f9cd10d63d, _, _, _, _)
THEN
QuestUpdate("TUT_ShadowheartEscape", "UsedForce");

PROC
PROC_TUT_TransformChamber_FreeShadowheart()
AND NOT
DB_GlobalFlag(TUT_TransformChamber_PodGirl_Event_BarbarianStrengthSuccess_551a3ad7-67d1-48dd-81f5-f5f9cd10d63d, _, _, _, _)
THEN
QuestUpdate("TUT_ShadowheartEscape", "UsedRune");

IF
DialogEnded(TUT_TransformChamber_ShadowheartFreed_5ac55171-4df5-a168-9dad-856667d44988, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
QRY_TUT_TransformChamber_RecruitedShadowheart()
THEN
QuestUpdate("TUT_ShadowheartEscape", "FreedDidNotRecruit");

IF
DialogEnded(TUT_TransformChamber_ShadowheartFreed_5ac55171-4df5-a168-9dad-856667d44988, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
QRY_TUT_TransformChamber_RecruitedShadowheart()
THEN
QuestUpdate("TUT_ShadowheartEscape", "FreedAndRecruited");

PROC
PROC_TUT_Helm_EndTutorial()
AND
HasActiveStatus(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, "TUT_SHADOWHEARTINPOD", 0, _, _)
THEN
QuestUpdate("TUT_ShadowheartEscape", "FreedLeftBehind");

PROC
PROC_TUT_Helm_EndTutorial()
AND
HasActiveStatus(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, "TUT_SHADOWHEARTINPOD", 1, _, _)
THEN
QuestUpdate("TUT_ShadowheartEscape", "LeftBehind");

PROC
PROC_Tutorial_Start()
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, SORCERER_WILDMAGIC_885f8675-e400-4d53-924d-6204ff1d9558, 1, _Var1, _Var1)
THEN
PROC_WildMagic_Supress(_Var1);

PROC
PROC_TUT_Helm_StartFinalCombat()
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, SORCERER_WILDMAGIC_885f8675-e400-4d53-924d-6204ff1d9558, 1, _Var1, _Var1)
THEN
PROC_WildMagic_Guarantee(_Var1);

PROC
PROC_TUT_Helm_EndTutorial()
AND
DB_Avatars(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, SORCERER_WILDMAGIC_885f8675-e400-4d53-924d-6204ff1d9558, 1, _Var1, _Var1)
THEN
PROC_WildMagic_Normal(_Var1);

IF
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(TUT_LowerDeck_State_ImpsDead_c505f03a-c6d4-4ac5-a0a1-ea805fc1a589, _Var1, _Var1, _Var1, _Var1)
AND
GetFlag(TUT_LowerDeck_Event_LaezelBecomesFollower_6625adc5-8c6d-448f-8963-26dcf458e6ae, _Var1, 1, _Var1, _Var1)
THEN
SetFlag(TUT_LowerDeck_Event_PlayerCharacterIsDefeated_7100ed8d-6402-84b1-d5e0-ee9ddcad8f75);

PROC
PROC_TUT_Helm_EndTutorial()
THEN
GoalCompleted;


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Tutorial"
