Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_Dialogs(S_LOW_CountingHouse_Civilian_01_348bb33b-0d35-402a-80ea-4c580a56606e, LOW_CountingHouse_Civilian_01_cc4fe35a-3f61-7b62-483b-80950f6e4583);
DB_Dialogs(S_LOW_CountingHouse_Civilian_02_cd8b2413-8448-43a7-bfeb-dfecb6e0751e, LOW_CountingHouse_Civilian_02_b67d7a17-b0e0-ad45-6d20-0b7764209409);
DB_Dialogs(S_LOW_CountingHouse_Civilian_03_a3e04f8b-7727-42e7-96cb-b999503dd31e, LOW_CountingHouse_Civilian_03_2439049c-96b4-8b29-0c90-f9de118dc24f);
DB_Dialogs(S_LOW_CountingHouse_Civilian_04_7d487dda-ca17-4251-8958-a96c4ee5e2f7, LOW_CountingHouse_Civilian_04_d1702ae5-5b57-6daa-615f-afc4d64d0068);
DB_Dialogs(S_LOW_CountingHouse_Civilian_05_1a31eecd-72c4-48ce-bdda-a8dd291352f7, LOW_CountingHouse_Civilian_05_39688e6a-e540-488b-fd81-2f622162b036);
DB_Dialogs(S_LOW_CountingHouse_Civilian_06_120f4e97-f519-4d1d-8537-70414eef6450, LOW_CountingHouse_Civilian_06_e58e929f-24d4-0b13-a85e-21a8575f35b5);
DB_Dialogs(S_LOW_CountingHouse_Clerk_01_e7c72e09-b685-4a16-94a1-850c40ad6339, LOW_CountingHouse_Clerk_001_6824c56a-ca48-3002-c573-7a4849482a02);
DB_Dialogs(S_LOW_CountingHouse_Clerk_02_4fd8e88d-75ca-4fc4-a73c-d8c7ba85b873, LOW_CountingHouse_Clerk_002_7014379b-723c-e4af-d2f6-d27b8ca2da0b);
DB_Dialogs(S_LOW_CountingHouse_Clerk_03_af575949-4460-46d8-ba7b-71c9d35738b7, LOW_CountingHouse_Clerk_000_4e7d0e7c-a910-3044-2585-4b220c2696bc);
DB_Dialogs(S_LOW_CountingHouse_Guard_01_316f2520-fe74-4287-869b-88eea90c983d, LOW_CountingHouse_Guard_01_48a1dd1a-438f-4009-2d09-02a1c6241a21);
DB_Dialogs(S_LOW_CountingHouse_Guard_02_4316b95f-6624-4601-bceb-bdddb8e0ba62, LOW_CountingHouse_Guard_02_b8dc5b78-1e9b-717d-2b40-48fd6cff320e);
DB_Dialogs(S_LOW_CountingHouse_Guard_03_474ad061-b260-4866-bcea-64ec99e29968, LOW_CountingHouse_Guard_03_e7f414d2-0a56-df09-3a52-bc6e025e38de);
DB_Dialogs(S_LOW_CountingHouse_Guard_04_8e3c3b8b-a809-4423-8cf6-cea702b070ec, LOW_CountingHouse_Guard_04_fd85118e-913b-9262-ec53-cd3255090439);
DB_Dialogs(S_LOW_CountingHouse_Guard_05_400c9176-b9b5-448c-a283-156b15125eec, LOW_CountingHouse_Guard_05_b20dfaf1-766b-ef2f-eb73-8e3ef0495ccc);
DB_Dialogs(S_LOW_CountingHouse_Guard_06_ae3168fe-dd18-421b-aa51-4d86d1245871, LOW_CountingHouse_Guard_06_04efe0ee-d630-4f83-46e1-47fc45921aa2);
DB_Dialogs(S_LOW_CountingHouse_Guard_07_52504043-35b8-47ec-8ea4-4ac40593654e, LOW_CountingHouse_Guard_07_157dc58d-c438-e782-495e-947177406b0e);
DB_Dialogs(S_LOW_CountingHouse_Guard_08_e4ff4283-9c1c-4fd7-8e7c-b7fa27b789a8, LOW_CountingHouse_Guard_08_b92131f2-e171-1b51-c4c0-7848b790b7d3);
DB_Dialogs(S_LOW_CountingHouse_Guard_09_0aadf193-523e-40ef-80b6-fcfd5e56143f, LOW_CountingHouse_Guard_09_8b7408d6-784b-112e-19b3-8d8883391189);
DB_Dialogs(S_LOW_CountingHouse_Guard_10_600ae933-d6d3-443f-b400-8ed440874ff6, LOW_CountingHouse_Guard_10_251d02a9-ad36-79f6-2bf5-789bc115665a);
DB_Dialogs(S_LOW_CountingHouse_Guard_11_b2e920a0-0ca6-463c-beed-6fee81a6bb0b, LOW_CountingHouse_Guard_11_1a4a918c-87f9-7309-947f-98c72002d649);
DB_Dialogs(S_LOW_CountingHouse_Guard_12_4ed00592-af13-4eb4-8bfc-e337135b8b87, LOW_CountingHouse_Guard_12_d180f165-a789-ba29-0aec-35ea92a7ddc2);
DB_Dialogs(S_LOW_CountingHouse_Guard_13_9bbb4f10-bbb8-4fd5-a38a-55581bc2c3c9, LOW_CountingHouse_Guard_13_ad09ac0e-44d5-3a93-b0e2-6e300b0f86a7);
DB_Dialogs(S_LOW_CountingHouse_HeadClerkOfficeGuard_f5d6f408-f7d0-4d36-aef9-44e578727fd9, LOW_CountingHouse_HeadClerkOfficeGuard_72048c84-2979-a801-2b98-657cfe10f417);
DB_Dialogs(S_LOW_CountingHouse_HeadBankerOfficeGuard_6cf1730a-50af-49e2-b7f4-1ff52d448071, LOW_CountingHouse_HeadBankerOfficeGuard_e58c861a-ec4f-2430-b2ad-2d767d0d095b);
DB_Dialogs(S_LOW_CountingHouse_LobbyStairsGuard_33446759-12f2-41ed-aba7-4a4f4408c5fe, LOW_CountingHouse_LobbyStairsGuard_e6f7f0db-ef8e-1f4c-cd0f-7d1ad6709a90);
DB_Dialogs(S_LOW_CountingHouse_VaultButtonGuard_41a0b028-9e14-4781-8a06-cb3cb8a9ee4f, LOW_CountingHouse_VaultButtonGuard_4ef5fba7-dc22-860a-45b0-b5865b9a4157);
DB_Dialogs(S_LOW_CountingHouse_PrivateGuard_01_2eb23f41-9a39-4b28-b2e5-3409f6669b70, LOW_CountingHouse_PrivateGuard_01_effef291-b41b-22de-5106-99b7ba93ee04);
DB_Dialogs(S_LOW_CountingHouse_PrivateGuard_02_ff490513-7296-4512-8040-239f9e824f2b, LOW_CountingHouse_PrivateGuard_02_b7a83b8f-f50e-e1a8-0773-8133b75fe524);
DB_Dialogs(S_LOW_CountingHouse_PrivateGuard_03_459e4fa3-c9f3-478a-ba56-e09431674e32, LOW_CountingHouse_PrivateGuard_03_f4c4fae1-8087-5450-39aa-9e6e7892ed0e);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Guard_03_474ad061-b260-4866-bcea-64ec99e29968, LOW_CountingHouse_AD_MainEntranceGuards_Convo_305f2647-0d5b-c433-cba5-6df4a25fac36);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Guard_02_4316b95f-6624-4601-bceb-bdddb8e0ba62, LOW_CountingHouse_AD_MainEntranceGuards_Convo_305f2647-0d5b-c433-cba5-6df4a25fac36);
DB_DoNotFaceDialog(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, LOW_CountingHouse_AD_PreVaultCheckpointGuards_Convo_53a6e894-fcbf-9af5-320f-6efd4625c23d);
DB_DoNotFaceDialog(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, LOW_CountingHouse_AD_PreVaultCheckpointGuards_Convo_53a6e894-fcbf-9af5-320f-6efd4625c23d);
DB_DoNotFaceDialog(S_LOW_CountingHouse_HeadBankerOfficeGuard_6cf1730a-50af-49e2-b7f4-1ff52d448071, LOW_CountingHouse_AD_UpperOfficeGuards_Convo_fc7539c6-8721-4985-d83c-af49f6683f5b);
DB_DoNotFaceDialog(S_LOW_CountingHouse_HeadClerkOfficeGuard_f5d6f408-f7d0-4d36-aef9-44e578727fd9, LOW_CountingHouse_AD_UpperOfficeGuards_Convo_fc7539c6-8721-4985-d83c-af49f6683f5b);
DB_DoNotFaceDialog(S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, LOW_CountingHouse_AD_LobbyCheckpointGuards_Convo_c9e59506-d311-e78d-ff77-0376b2f39158);
DB_DoNotFaceDialog(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, LOW_CountingHouse_AD_LobbyCheckpointGuards_Convo_c9e59506-d311-e78d-ff77-0376b2f39158);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Guard_05_400c9176-b9b5-448c-a283-156b15125eec, LOW_CountingHouse_AD_DocksDoorGuards_Convo_daf45d51-97fa-44f2-a53d-2808b998d206);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Guard_04_8e3c3b8b-a809-4423-8cf6-cea702b070ec, LOW_CountingHouse_AD_DocksDoorGuards_Convo_daf45d51-97fa-44f2-a53d-2808b998d206);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Clerk_01_e7c72e09-b685-4a16-94a1-850c40ad6339, LOW_CountingHouse_AD_Clerks_ChitChat_8a6f4e3a-2584-4472-881a-2305a896faf1);
DB_DoNotFaceDialog(S_LOW_CountingHouse_Clerk_02_4fd8e88d-75ca-4fc4-a73c-d8c7ba85b873, LOW_CountingHouse_AD_Clerks_ChitChat_8a6f4e3a-2584-4472-881a-2305a896faf1);
DB_LOW_CountingHouse_ClerksLedger(S_LOW_CountingHouse_Clerk_02_4fd8e88d-75ca-4fc4-a73c-d8c7ba85b873, BOOK_LOW_CountingHouse_AccountingBook03_000_db0cb53d-f968-48a7-ae48-eda917d34a8b);
DB_LOW_CountingHouse_ClerksLedger(S_LOW_CountingHouse_Clerk_01_e7c72e09-b685-4a16-94a1-850c40ad6339, BOOK_LOW_CountingHouse_AccountingBook02_000_6e800238-08c0-4f2e-a93d-42fed0abf740);
DB_LOW_CountingHouse_ClerksLedger(S_LOW_CountingHouse_HeadClerk_14f97819-1e07-4758-9ca8-d7802c610c43, S_LOW_CountingHouse_CounterLedger_d0f008f4-a4b2-4e6b-8a7c-a7e7c223a89b);
DB_LOW_CountingHouse_ClerksLedger(S_LOW_CountingHouse_Clerk_03_af575949-4460-46d8-ba7b-71c9d35738b7, BOOK_LOW_CountingHouse_AccountingBook01_000_956da206-9581-49ff-a7bd-ba70d8ab6101);
DB_Dialogs(S_LOW_CountingHouse_HeadClerk_14f97819-1e07-4758-9ca8-d7802c610c43, LOW_CountingHouse_HeadClerk_8ac7c552-07e5-c7b7-d061-efdf3cebcc71);
DB_HasItemEvent(S_LOW_CountingHouse_BankPass_000_bd6ddb53-2585-4914-b30a-9626c57317b6, LOW_CountingHouse_State_HasBankPass_0adc0b5e-3f89-4b3a-b04e-417499a8a818);
DB_HasItemEvent(S_LOW_CountingHouse_PlayerSafeKey_ff80570a-4ef8-48f6-8d18-8a6971aeddea, LOW_CountingHouse_State_HasPlayerSafeKey_d3a2984c-afd6-4a41-9d75-e165bb38afff);
DB_GiveItemToEvent(S_LOW_CountingHouse_BankPass_000_bd6ddb53-2585-4914-b30a-9626c57317b6, LOW_CountingHouse_Event_GiveBankPass_a42bbf4c-621e-25ef-48f7-1696d5c3baee);
DB_GiveItemToEvent(S_LOW_CountingHouse_PlayerSafeKey_ff80570a-4ef8-48f6-8d18-8a6971aeddea, LOW_CountingHouse_Event_GiveSafeKey_50bbe524-a8bf-0941-7a2f-2f2fdf80b357);
DB_DialogMoneyTransfer(1, LOW_CountingHouse_HeadClerk_8ac7c552-07e5-c7b7-d061-efdf3cebcc71, 10000);
DB_Dialogs(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05);
DB_Dialogs(S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, LOW_CountingHouse_LobbyWarningGuard_b7998a64-d240-bab5-36a4-9e415ec65db4);
DB_HasItemTemplateScriptFlag(1, LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, LOW_CountingHouse_BankPass_de7ce4d1-e190-4a32-be52-57f114b5823c, 2, 1);
DB_DialogMoneyTransfer(1, LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, 5000);
DB_DialogMoneyTransfer(2, LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, 1000);
DB_DialogMoneyTransfer(3, LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, 3000);
DB_CheckPoint(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, S_LOW_CountingHouse_LobbyCheckpointPrimary_Trigger_570d734f-3154-4083-b49d-e9084d098bdb, S_LOW_CountingHouse_LobbyCheckpointWarning_Trigger_61fa3f8c-8297-4b22-9da5-2f0d4978fffd, S_LOW_CountingHouse_LobbyCheckpointTrespass_Trigger_ffcbaebb-e5ab-4da5-bad0-ec6bc9a0d254, "LOW_CountingHouse_LobbyCheckpoint", LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, "LOW_CountingHouse_Trespassing", S_LOW_CountingHouse_LobbyTrespassOutTrigger_1bca742f-67a0-445d-b88a-0bec24fcd24f);
DB_Dialogs(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, LOW_CountingHouse_VaultWarningGuard_efcd5154-549a-7e15-0827-12c3cc67c77d);
DB_Dialogs(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, LOW_CountingHouse_VaultGuard_d3e8107f-e747-635b-5922-d99ad2b3d4aa);
DB_DialogMoneyTransfer(1, LOW_CountingHouse_VaultGuard_d3e8107f-e747-635b-5922-d99ad2b3d4aa, 5000);
DB_HasItemTemplateScriptFlag(1, LOW_CountingHouse_VaultGuard_d3e8107f-e747-635b-5922-d99ad2b3d4aa, LOW_CountingHouse_BankPass_de7ce4d1-e190-4a32-be52-57f114b5823c, 2, 1);
DB_CheckPoint(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, S_LOW_CountingHouse_VaultCheckpointSpotTrigger_6d1fd722-434d-4904-a775-5e42aa3f29b0, S_LOW_CountingHouse_VaultCheckpointWarningTrigger_e6bb8958-024c-4438-84b0-362f5f2f2e3b, S_LOW_CountingHouse_VaultCheckpointTrespassTrigger_67fa23ed-df99-4bbe-a701-37a5a98d0bf0, "LOW_CountingHouse_VaultCheckpoint", LOW_CountingHouse_State_PassedVaultCheckpoint_b67acf0a-5a0e-f363-293e-d913b5bce599, "LOW_CountingHouse_Trespassing", S_LOW_CountingHouse_VaultCheckpointOutTrigger_6218b761-223c-445b-ade1-4b00fd8beb75);
DB_LOW_VaultCheckpointGuards(S_LOW_CountingHouse_VaultButtonGuard_41a0b028-9e14-4781-8a06-cb3cb8a9ee4f);
DB_LOW_VaultCheckpointGuards(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984);
DB_LOW_VaultCheckpointGuards(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889);
DB_TrespassTrigger(S_LOW_CountingHouse_ClerkTrespassTrigger_64da4624-ed97-46ba-b31e-42c684440798, S_LOW_CountingHouse_LobbyTrespassOutTrigger_1bca742f-67a0-445d-b88a-0bec24fcd24f, "LOW_CountingHouse_Trespassing");
DB_TrespassTrigger(S_LOW_CountingHouse_UpperOffice_TrespassTrigger_cf4871cc-bbe4-487e-9b13-845ed0741c39, S_LOW_CountingHouse_LobbyTrespassOutTrigger_1bca742f-67a0-445d-b88a-0bec24fcd24f, "LOW_CountingHouse_Trespassing");
DB_TrespassTrigger(S_LOW_CountingHouse_DocksTrespass_Trigger_5a769f1e-769a-444f-87a0-e26f9aa6f46b, S_LOW_CountingHouse_LobbyTrespassOutTrigger_1bca742f-67a0-445d-b88a-0bec24fcd24f, "LOW_CountingHouse_Trespassing");
DB_TrespassTrigger(S_LOW_CountingHouse_RestrictedAreaTrespass_Trigger_8d239901-9f60-46ca-8774-2aab55b715c3, S_LOW_CountingHouse_LobbyTrespassOutTrigger_1bca742f-67a0-445d-b88a-0bec24fcd24f, "LOW_CountingHouse_BankPass_Trespassing");
DB_HasItemTemplateScriptFlag(1, LOW_NGB_CountingHouse_BankPass_Trespassing_acb66b4b-fc8d-7f85-b355-e510b6ae90e8, LOW_CountingHouse_BankPass_de7ce4d1-e190-4a32-be52-57f114b5823c, 2, 1);
DB_Shapeshifting_Inconspicuous_CustomTriggerExpr(S_LOW_CountingHouse_RestrictedAreaTrespass_Trigger_8d239901-9f60-46ca-8774-2aab55b715c3, "");
DB_Shapeshifting_Inconspicuous_CustomTriggerExpr(S_LOW_CountingHouse_ClerkTrespassTrigger_64da4624-ed97-46ba-b31e-42c684440798, "");
DB_Shapeshifting_Inconspicuous_CustomTriggerExpr(S_LOW_CountingHouse_UpperOffice_TrespassTrigger_cf4871cc-bbe4-487e-9b13-845ed0741c39, "");
DB_Shapeshifting_Inconspicuous_CustomTriggerExpr(S_LOW_CountingHouse_DocksTrespass_Trigger_5a769f1e-769a-444f-87a0-e26f9aa6f46b, "");
DB_ItemOwnerShipTriggers("CTY_Main_A", S_LOW_CountingHouse_OwnershipTrigger_513babe6-4277-438f-b9cf-ac3f8eedc476, S_LOW_CountingHouse_HeadClerk_14f97819-1e07-4758-9ca8-d7802c610c43);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOOR_CountingHouse_D_000_1a427059-a1a8-4fa9-a4ff-4d90839a4ee1);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOOR_CountingHouse_E_000_637c5243-4f01-433a-ac93-6c217e1eb634);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOOR_CountingHouse_A_000_0b998ed0-5722-4058-a702-c2b0837c5d05);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOORTELEPORT_Vault_000_38d32292-889b-4f3d-9841-ca318376ee06);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_LOW_CountingHouse_Sign_01_2ecc2681-22be-40c7-8f4d-1c0dde1c7901);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_LOW_CountingHouse_Sign_02_710932b4-45f3-4e2b-b05c-c60b81f28bf6);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOOR_CountingHouse_HeadClerkDoor_5f8d363d-3ced-4b29-a6f9-f433c085f7fa);
DB_ItemOwnerShipClearItem("CTY_Main_A", S_DOOR_CountingHouse_HeadBankerDoor_bd073f8e-5cb7-48c0-8a4a-f6f3a6a06df6);
DB_ItemDialog_NarratorAD(S_LOW_CountingHouse_Sign_01_2ecc2681-22be-40c7-8f4d-1c0dde1c7901, LOW_CountingHouse_AD_Sign_852d0aed-23db-207b-8399-bcff2420b9f4);
DB_ItemDialog_NarratorAD(S_LOW_CountingHouse_Sign_02_710932b4-45f3-4e2b-b05c-c60b81f28bf6, LOW_CountingHouse_AD_Sign_852d0aed-23db-207b-8399-bcff2420b9f4);
DB_ItemDialog_NarratorAD(S_LOW_CountingHouse_PinCodeSign_783b51d3-9d6d-46e7-887d-af48abfa713f, LOW_CountingHouse_AD_PinCodeSign_53b99e7e-76a8-08bc-bb47-2b5a82c1663f);
DB_GlobalFlagReactionAfterDialog(LOW_CountingHouse_State_FailedProbingHeadClerkThoughts_37efa7dd-df3f-4df2-bfbf-cc1c788f4207, LOW_CountingHouse_HeadClerk_8ac7c552-07e5-c7b7-d061-efdf3cebcc71);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_01_348bb33b-0d35-402a-80ea-4c580a56606e, S_LOW_CountingHouse_Civilian_01_IdleTrigger_a2e7aca5-f233-4719-a9de-5d151b5aaa58);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_02_cd8b2413-8448-43a7-bfeb-dfecb6e0751e, S_LOW_CountingHouse_Civilian_02_IdleTrigger_b13e6ed4-c3b9-41a4-acf1-aebcf184e246);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_03_a3e04f8b-7727-42e7-96cb-b999503dd31e, S_LOW_CountingHouse_Civilian_03_IdleTrigger_a0273b35-e95a-4989-bfac-e93629694396);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_04_7d487dda-ca17-4251-8958-a96c4ee5e2f7, S_LOW_CountingHouse_Civilian_04_IdleTrigger_eaa35896-7f90-42bf-a4f2-e2ebbd3422f9);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_05_1a31eecd-72c4-48ce-bdda-a8dd291352f7, S_LOW_CountingHouse_Civilian_05_IdleTrigger_9f58e4a2-4152-462f-9fbb-ecd47c61eb6b);
DB_LOW_CountingHouse_Customers(S_LOW_CountingHouse_Civilian_06_120f4e97-f519-4d1d-8537-70414eef6450, S_LOW_CountingHouse_Civilian_06_IdleTrigger_3f97a15e-0b76-40cd-bb0e-17087f589fe6);
DB_LOW_CountingHouse_Clerks(S_LOW_CountingHouse_Clerk_01_e7c72e09-b685-4a16-94a1-850c40ad6339);
DB_LOW_CountingHouse_Clerks(S_LOW_CountingHouse_Clerk_02_4fd8e88d-75ca-4fc4-a73c-d8c7ba85b873);
DB_LOW_CountingHouse_Clerks(S_LOW_CountingHouse_Clerk_03_af575949-4460-46d8-ba7b-71c9d35738b7);
DB_LOW_CountingHouse_Clerks(S_LOW_CountingHouse_HeadClerk_14f97819-1e07-4758-9ca8-d7802c610c43);
NOT DB_LOW_CountingHouse_Civilians(NULL_00000000-0000-0000-0000-000000000000);
DB_GLO_CompoundFlag(LOW_CountingHouse_State_AlarmTriggered_36e1843f-b531-4155-8ca7-f2d13908f419, LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_TalkREAC_004_57980f66-c0ae-4131-b202-53f09969fb77);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_Talk_004_f6d45c19-b2cd-4fb2-8956-d2f46e5c1e11);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_TalkREAC_038_5baa7f4f-57e2-4e44-be01-9707534a18b2);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_Talk_038_3f80a912-322c-46ab-8dcc-448584fb73f0);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_Talk_024_02594c05-7ae1-41a7-8a95-f406197a22ae);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_TalkREAC_024_286a0965-1da4-46cf-a709-752e1a974db7);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_Talk_006_54bd834d-267a-42d4-8a9b-a6928bdcd72b);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_TalkREAC_006_00346972-a60a-41da-aea0-ccd8251e9107);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_Talk_037_635c15f9-34cc-4789-9367-f522718d9c66);
DB_LOW_CountingHouse_CrowdTriggers(CCT_BsG_CTZN_TalkREAC_037_923f96c4-fdc0-4dc0-8378-77909aa231e3);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_Talk_003_78faad81-3daa-46b7-87b1-c2f372d5564d);
DB_LOW_CountingHouse_CrowdTriggers(CCT_ELFout_CTZN_TalkREAC_003_f84c0bb9-f0b9-4e42-939a-80862e933426);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_01_b3e441b6-20d5-4636-a020-f5f6eecb67c3, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db, ACT3_LOW_COUNTINGHOUSE_AI_UPPERALARM_TRIGGER_558f4c12-c503-4c20-bed9-26adc3efcf35);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_02_043185d3-8847-483b-8489-4e4836609709, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db, ACT3_LOW_COUNTINGHOUSE_AI_UPPERALARM_TRIGGER_558f4c12-c503-4c20-bed9-26adc3efcf35);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_03_394efb40-9525-4cbd-ba1e-b331c66a65f9, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db, ACT3_LOW_COUNTINGHOUSE_AI_UPPERALARM_TRIGGER_558f4c12-c503-4c20-bed9-26adc3efcf35);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_04_0f4f5c73-a7b6-448f-aa8a-22a4201c942e, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db, ACT3_LOW_COUNTINGHOUSE_AI_UPPERALARM_TRIGGER_558f4c12-c503-4c20-bed9-26adc3efcf35);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_05_a50c346d-0130-4045-a813-3bb897f968a3, LOW_CountingHouse_State_AlarmTriggered_LowerArea_5635184f-98e9-438b-8b80-249d38ba07c3, ACT3_LOW_COUNTINGHOUSE_AI_LOWERALARM_TRIGGER_b76df365-15e5-4954-ae92-a7eadf76e13d);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_06_59f7dc45-3380-452e-868e-ffa99da92f49, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888, ACT3_LOW_COUNTINGHOUSE_AI_DOCKSALARM_TRIGGER_c24e747b-2d7c-44b5-bf3c-1425b4650313);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_07_65b761b3-0fdd-4aa1-b73d-c7ed6eb5e8b2, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888, ACT3_LOW_COUNTINGHOUSE_AI_DOCKSALARM_TRIGGER_c24e747b-2d7c-44b5-bf3c-1425b4650313);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_08_7af1db03-977c-4eb4-9548-c65e33a62c96, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888, ACT3_LOW_COUNTINGHOUSE_AI_DOCKSALARM_TRIGGER_c24e747b-2d7c-44b5-bf3c-1425b4650313);
DB_LOW_CountingHouse_AlarmTriggers(LOW_CountingHouse_AlarmTrigger_09_fbb96ef4-1d00-473b-bc2a-656a6cf5c89d, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888, ACT3_LOW_COUNTINGHOUSE_AI_DOCKSALARM_TRIGGER_c24e747b-2d7c-44b5-bf3c-1425b4650313);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_01_316f2520-fe74-4287-869b-88eea90c983d);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_02_4316b95f-6624-4601-bceb-bdddb8e0ba62);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_03_474ad061-b260-4866-bcea-64ec99e29968);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_04_8e3c3b8b-a809-4423-8cf6-cea702b070ec);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_05_400c9176-b9b5-448c-a283-156b15125eec);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_06_ae3168fe-dd18-421b-aa51-4d86d1245871);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_07_52504043-35b8-47ec-8ea4-4ac40593654e);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_08_e4ff4283-9c1c-4fd7-8e7c-b7fa27b789a8);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_09_0aadf193-523e-40ef-80b6-fcfd5e56143f);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_10_600ae933-d6d3-443f-b400-8ed440874ff6);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_11_b2e920a0-0ca6-463c-beed-6fee81a6bb0b);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_12_4ed00592-af13-4eb4-8bfc-e337135b8b87);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_Guard_13_9bbb4f10-bbb8-4fd5-a38a-55581bc2c3c9);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_LobbyStairsGuard_33446759-12f2-41ed-aba7-4a4f4408c5fe);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_VaultButtonGuard_41a0b028-9e14-4781-8a06-cb3cb8a9ee4f);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_HeadBankerOfficeGuard_6cf1730a-50af-49e2-b7f4-1ff52d448071);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_HeadClerkOfficeGuard_f5d6f408-f7d0-4d36-aef9-44e578727fd9);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_DockWatchers_000_63ec5f56-a13a-4666-b571-59a97a53273f);
DB_LOW_CountingHouse_Guards(S_LOW_CountingHouse_DockWatchers_001_be738280-ad00-43d7-b8f8-71163f4c9c24);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_07_52504043-35b8-47ec-8ea4-4ac40593654e);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_05_400c9176-b9b5-448c-a283-156b15125eec);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_12_4ed00592-af13-4eb4-8bfc-e337135b8b87);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_13_9bbb4f10-bbb8-4fd5-a38a-55581bc2c3c9);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_06_ae3168fe-dd18-421b-aa51-4d86d1245871);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_08_e4ff4283-9c1c-4fd7-8e7c-b7fa27b789a8);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_04_8e3c3b8b-a809-4423-8cf6-cea702b070ec);
DB_LOW_CountingHouse_DocksGuards(S_LOW_CountingHouse_Guard_11_b2e920a0-0ca6-463c-beed-6fee81a6bb0b);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_Guard_04_8e3c3b8b-a809-4423-8cf6-cea702b070ec, LOW_CountingHouse_AD_Guard_04_CombatStart_b9d76617-2f4a-fadc-4abb-8ce13811bcfa, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_Guard_06_ae3168fe-dd18-421b-aa51-4d86d1245871, LOW_CountingHouse_AD_Guard_06_CombatStart_f60260fd-6e11-4bf1-a2cf-070e1967a691, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, LOW_CountingHouse_AD_LobbyMainGuard_CombatStart_c6470559-ab4f-7744-5c8f-b9a5c525e997, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, LOW_CountingHouse_AD_VaultMainGuard_CombatStart_8eaad542-f79c-e874-0573-5e809fc54867, NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_HeadBankerOfficeGuard_6cf1730a-50af-49e2-b7f4-1ff52d448071, LOW_CountingHouse_AD_HeadBankerOfficeGuard_Alarm_98a636ca-a163-499a-bf7d-d1afa02b0033, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_Guard_05_400c9176-b9b5-448c-a283-156b15125eec, LOW_CountingHouse_AD_Guard_05_Alarm_985495a7-ed76-e02d-c5be-d600ca678e69, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_Guard_07_52504043-35b8-47ec-8ea4-4ac40593654e, LOW_CountingHouse_AD_Guard_07_Alarm_3bb8b173-de37-3efc-b9c8-74be71eb47b0, LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, LOW_CountingHouse_AD_LobbyWarningGuard_Alarm_ecd9dab9-d8b3-27d4-e79c-c94e6b0507f8, LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db);
DB_LOW_CountingHouse_GuardCombatADs(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, LOW_CountingHouse_AD_VaultWarningGuard_Alarm_b5e22db6-c60e-1b03-bf68-ecc6fa7ca44b, LOW_CountingHouse_State_AlarmTriggered_LowerArea_5635184f-98e9-438b-8b80-249d38ba07c3);
NOT DB_LOW_CountingHouse_HostileGuards(NULL_00000000-0000-0000-0000-000000000000);
DB_LOW_CountingHouse_AlarmFlagsByArea(LOW_CountingHouse_State_AlarmTriggered_UpperArea_169ce3f4-8e11-4ac2-a3ac-30aafe5f41db);
DB_LOW_CountingHouse_AlarmFlagsByArea(LOW_CountingHouse_State_AlarmTriggered_LowerArea_5635184f-98e9-438b-8b80-249d38ba07c3);
DB_LOW_CountingHouse_AlarmFlagsByArea(LOW_CountingHouse_State_AlarmTriggered_DocksArea_1d666df4-54b5-4d44-b28a-f67f4c769888);
PROC_TriggerRegisterForParty(S_LOW_CountingHouse_DocksGuardsActivation_Trigger_d78edace-4ccc-4872-a9ea-208a6e5a3353);
DB_LOW_CountingHouse_PressurePlates(S_LOW_CountingHouse_VaultPressurePlate_01_ad94350c-aa9f-4d4c-ab92-cf77c64bb4c3);
DB_LOW_CountingHouse_PressurePlates(S_LOW_CountingHouse_VaultPressurePlate_02_2cab6a92-7c09-4207-88c1-c217bcc90fff);
DB_LOW_CountingHouse_PressurePlates(S_LOW_CountingHouse_VaultPressurePlate_03_2fa315ed-3e94-4b1f-9ec5-a7355eb5d5a4);
DB_LOW_CountingHouse_PressurePlates(S_LOW_CountingHouse_VaultPressurePlate_04_5f81e628-8a27-40e7-b8f7-53c51cd05733);
DB_LOW_CountingHouse_VaultCheckpointGates(S_LOW_CountingHouse_VaultCheckpointGate_01_78a36f2a-72c3-46f2-b8ac-fc1c5e931ad9);
DB_LOW_CountingHouse_VaultCheckpointGates(S_LOW_CountingHouse_VaultCheckpointGate_02_d7ea217e-dfa4-4f1e-ba13-007b4edee69c);
Lock(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44, "NOKEY");
PROC_TriggerRegisterForPlayers(S_LOW_CountingHouse_GreatDoor_QuestUpdate_Trigger_3388109d-41a3-4530-a847-0f6c1e5c7121);
DB_AddCharactersInTriggerToDialog(LOW_CountingHouse_Heist_63210311-4b3b-85e3-7278-2032e2a65bd7, S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0, 1, 1, 1, 1);
DB_GlobalFlagReactionAfterDialog(LOW_CountingHouse_State_RobbersEscaped_16197488-9cc2-48e2-94ae-36225025d4d8, LOW_CountingHouse_Heist_63210311-4b3b-85e3-7278-2032e2a65bd7);
PROC_TriggerRegisterForParty(S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0);
DB_SceneManager(S_LOW_CountingHouse_PrivateGuard_01_2eb23f41-9a39-4b28-b2e5-3409f6669b70, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_PrivateGuard_02_ff490513-7296-4512-8040-239f9e824f2b, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_PrivateGuard_03_459e4fa3-c9f3-478a-ba56-e09431674e32, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_01_6217b97e-3715-4e88-ae20-7ba1aa9da1aa, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_02_464de2ba-ac0b-4fa8-bfa5-d8349ccbebf8, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_03_73841985-c531-4a81-bab5-cc0b8abf3646, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_04_725e41cf-6e8c-4b64-be4d-6932c07b3d7b, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_05_5149176e-da37-4711-82a7-840d58584d95, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_06_a8a1085b-5c59-4acc-84b4-0c7769b1acda, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_07_5033cfd8-064b-4f32-95f4-480a25ef5e7d, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_Cultist_08_1011469c-7cf8-4aa2-9b1e-86f68ee9bdba, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_LOW_CountingHouse_JaheiraClone_4da802f5-3237-40b8-afff-d728016e3047, "LOW_CountingHouse_HeistScene");
DB_SceneManager(S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, "LOW_CountingHouse_HeistScene");
DB_SceneNoHostileContinuousDisturbance("LOW_CountingHouse_HeistScene");
DB_LOW_CountingHouseTadpoledGuards(S_LOW_CountingHouse_PrivateGuard_01_2eb23f41-9a39-4b28-b2e5-3409f6669b70, LOW_CountingHouse_AD_PrivateGuard_01_TadpoledBetrayal_a3aa8a4f-bc55-0433-b6f2-b78ae1992ef6);
DB_LOW_CountingHouseTadpoledGuards(S_LOW_CountingHouse_PrivateGuard_03_459e4fa3-c9f3-478a-ba56-e09431674e32, LOW_CountingHouse_AD_PrivateGuard_03_TadpoledBetrayal_75c6f8b2-de52-c506-7eef-14f09cef4c66);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_01_068d9fad-a909-47ab-b2f7-2ce0acc2097b, S_LOW_CountingHouse_VaultChandelierHinge_01_e252f579-fb4c-4a25-ae06-81687e841198);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_02_9e592e80-915b-48c4-95c1-6367ad8ce932, S_LOW_CountingHouse_VaultChandelierHinge_02_27a49a7d-956d-48b4-b9d3-f7fb0d038470);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_03_237ae66e-71a2-4b7d-8715-deb24ebdd4f2, S_LOW_CountingHouse_VaultChandelierHinge_03_3d7305ed-30e3-4298-91bc-fdd1a1a815d7);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_04_974a1ee7-0771-45a7-8864-4ac0a33e8ffd, S_LOW_CountingHouse_VaultChandelierHinge_04_e6eb9ee4-ec31-49dd-ae8d-6de3053db3b9);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_05_0fc1b292-dfb3-4755-a365-0aacbc318db7, S_LOW_CountingHouse_VaultChandelierHinge_05_c6306fbd-3cf4-4c0e-8ca6-a75511ce8861);
DB_GLO_FireBowls(S_LOW_CountingHouse_VaultChandelier_06_99ca6ef2-15f4-4a69-ad1d-207c0fad7b5e, S_LOW_CountingHouse_VaultChandelierHinge_06_862979ad-1d59-4cab-97fa-143974ff922b);
DB_Inclusion_Object(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, LOW_CountingHouse_HeadBanker_StartInclusion_411daf88-be9b-4324-a190-631554c772df, NULL_00000000-0000-0000-0000-000000000000);
DB_Inclusion_NPCDialog(LOW_CountingHouse_AD_PrivateGuard_01_TadpoledBetrayal_a3aa8a4f-bc55-0433-b6f2-b78ae1992ef6, S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57);
DB_Inclusion_NPCDialog(LOW_CountingHouse_AD_PrivateGuard_03_TadpoledBetrayal_75c6f8b2-de52-c506-7eef-14f09cef4c66, S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57);
DB_Inclusion_CombatInclusionDialog(LOW_CountingHouse_AD_PrivateGuard_01_TadpoledBetrayal_a3aa8a4f-bc55-0433-b6f2-b78ae1992ef6);
DB_Inclusion_CombatInclusionDialog(LOW_CountingHouse_AD_PrivateGuard_03_TadpoledBetrayal_75c6f8b2-de52-c506-7eef-14f09cef4c66);
Open(S_LOW_CountingHouse_MainVaultDoor_3e4c5392-cde5-4c76-9ff1-906a89c7b82e);
DB_Dialogs(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, LOW_CountingHouse_HeadBanker_3b0c163a-75ac-8ca3-e5da-0b0ea40245df);
DB_DialogMoneyTransfer(1, LOW_CountingHouse_HeadBanker_3b0c163a-75ac-8ca3-e5da-0b0ea40245df, 10000);
DB_DialogMoneyTransfer(2, LOW_CountingHouse_HeadBanker_3b0c163a-75ac-8ca3-e5da-0b0ea40245df, 5000);
DB_HasItemEvent(S_LOW_CountingHouse_Vault9_Key_54d5b4f3-2bf3-47b5-8bb5-19e976a821e6, LOW_CountingHouse_State_HasItem_Vault9_Key_e9dd1023-229d-4f7c-b782-bc110a71cac7);
DB_GiveItemToEvent(S_LOW_CountingHouse_Vault9_Key_54d5b4f3-2bf3-47b5-8bb5-19e976a821e6, LOW_CountingHouse_Give_Vault9_Key_c753a313-bc7a-47da-b36f-8c25201460ef);
DB_GLO_CharacterCorpseDialog(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, LOW_CountingHouse_SwD_HeadBanker_e8c3ab5d-a860-0beb-0e3b-97ff51d055d6);
DB_GLO_CharacterCorpseDialog(S_LOW_CountingHouse_Cultist_01_6217b97e-3715-4e88-ae20-7ba1aa9da1aa, LOW_CountingHouse_SwD_Cultist_01_fb6dbd63-8473-9852-40d1-7ac201438396);
DB_KnowledgeCheckTrigger_AD("LOW_CountingHouse_SewersFootprints", S_LOW_CountingHouse_SewersFootprintsPAD_Trigger_e7e9ff7b-f348-4687-989b-dac70df268ae, "Perception", Act3_Easy_5028066b-6ea0-4a6a-9e3e-53bee62559a7, LOW_CountingHouse_PAD_SewersFootprints_d81df646-c0ab-89e2-83d1-10fc28844138, LOW_CountingHouse_State_SewersFootprintsNoticed_4ad12790-7fbf-49db-a394-0b6526c3249e);
DB_HasItemEvent(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, LOW_CountingHouse_State_HasStolenGoldBag_161d3097-c4bf-48f0-8f77-d3e72645a5ca);
DB_GiveItemToEvent(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, LOW_CountingHouse_Event_GiveStolenGoldBag_81143539-2772-4d94-8026-56852035f84f);
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault1_a7062175-0a33-4ad4-a171-fc68270fd282, "LOW_CountingHouse_VipVault_1");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault2_eacbddbe-676a-4b5e-8e95-338de36dc10a, "LOW_CountingHouse_VipVault_2");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault3_b0df3609-7395-48cc-a419-63e8172629d8, "LOW_CountingHouse_VipVault_3");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault4_30123146-fdf6-44bf-9821-4303a55cef2d, "LOW_CountingHouse_VipVault_4");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault5_859ec79c-8f81-44e1-b044-bc834cf33acc, "LOW_CountingHouse_VipVault_5");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault6_781145ae-8a72-4396-9651-18695ad12d38, "LOW_CountingHouse_VipVault_6");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault7_2b274efa-0dab-47cf-bd79-c70110e54e96, "LOW_CountingHouse_VipVault_7");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault8_b9e1344b-1bb3-455f-83f0-338c5fa153d8, "LOW_CountingHouse_VipVault_8");
DB_LOW_CountingHouse_VipVaults(S_LOW_CountingHouse_Vault9_6ba6a3cd-56ef-410a-a2b3-508fbde47e55, "");
DB_QuestDef_State(LOW_CountingHouse_State_HeadBankerAskedForGoldBack_437bb802-772b-43a2-b790-4f99f6d5ff86, "LOW_RecoverRakathsGold", "TalkedToRakath");
DB_QuestDef_BookReadState("LOW_RecoverRakathsGold", "FoundSewersClue_ReadCultistsNote", S_LOW_CountingHouse_SewersHint_Note_f36b85d7-0140-4c51-b7e6-3fa10e798ed1);
DB_QuestDef_State(LOW_CountingHouse_State_SewersFootprintsNoticed_4ad12790-7fbf-49db-a394-0b6526c3249e, "LOW_RecoverRakathsGold", "FoundSewersClue_FootprintsPAD");
DB_QuestDef_State(LOW_CountingHouse_Knows_StoneLordLairLocationSWDCultist_6cf33895-c356-af3c-7deb-5f2eafc0ebb5, "LOW_RecoverRakathsGold", "FoundSewersClue_SpokeWithDeadCultist");
DB_LOW_KnowsStolenGoldInSewers_QuestUpdates("FoundSewersClue_ReadCultistsNote");
DB_LOW_KnowsStolenGoldInSewers_QuestUpdates("FoundSewersClue_FootprintsPAD");
DB_LOW_KnowsStolenGoldInSewers_QuestUpdates("FoundSewersClue_SpokeWithDeadCultist");
DB_LOW_ZhentLeaderReceivedStolenGold_QuestStep(S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, "SawGoldHandover_Roah");
DB_LOW_ZhentLeaderReceivedStolenGold_QuestStep(S_LOW_Guildhall_Zhent_Leader_b7e51fc3-0788-44f2-add7-1714f2b9b6d9, "SawGoldHandover_Friol");
DB_LOW_ZhentLeaderEscapedGoldHandover_QuestStep(S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, "ZhentLeaderEscaped_Roah");
DB_LOW_ZhentLeaderEscapedGoldHandover_QuestStep(S_LOW_Guildhall_Zhent_Leader_b7e51fc3-0788-44f2-add7-1714f2b9b6d9, "ZhentLeaderEscaped_Friol");
DB_LOW_ZhentLeaderPermaDefeatedWithGold_QuestStep(S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, "ZhentLeaderPermaDefeated_Roah", LOW_Guildhall_State_ZhentLeaderRoah_PermaDefeated_44aa8b1e-14d0-4dc1-825c-a8f46155e0aa);
DB_LOW_ZhentLeaderPermaDefeatedWithGold_QuestStep(S_LOW_Guildhall_Zhent_Leader_b7e51fc3-0788-44f2-add7-1714f2b9b6d9, "ZhentLeaderPermaDefeated_Friol", LOW_Guildhall_State_ZhentLeaderFriol_PermaDefeated_3362ce9b-32c1-4751-84a4-ada8274d1e05);
DB_QuestDef_PermaDefeatedState("LOW_RecoverRakathsGold", "RakathPermaDefeated", S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57);

KBSECTION
IF
FlagSet(LOW_CountingHouse_Event_GiveSafeKey_50bbe524-a8bf-0941-7a2f-2f2fdf80b357, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
SetFlag(LOW_CountingHouse_State_HeadClerkGaveSafeKey_908b4ca3-c78d-4afc-b92f-1c936174f9ff);

IF
FlagSet(LOW_CountingHouse_Event_GiveBankPass_a42bbf4c-621e-25ef-48f7-1696d5c3baee, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
ClearOwnership(S_LOW_CountingHouse_LobbyDoor_d7f5f3a6-5a83-4b2f-a217-c4172a6ad67c);
SetFlag(LOW_CountingHouse_State_HeadClerkGavePass_bc3d6237-d027-479c-b965-d1b469552e61);

IF
FlagSet(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
ClearOwnership(S_LOW_CountingHouse_LobbyDoor_d7f5f3a6-5a83-4b2f-a217-c4172a6ad67c);
PROC_RemoveDBTrespassTrigger(S_LOW_CountingHouse_RestrictedAreaTrespass_Trigger_8d239901-9f60-46ca-8774-2aab55b715c3);

PROC
PROC_CheckPointDialogue((CHARACTER)_Var1, S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_StartCheckpointWarningDialog("LOW_CountingHouse_LobbyCheckpoint", LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_CheckPointDialogue((CHARACTER)_Var1, S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_StartCheckpointWarningDialog("LOW_CountingHouse_LobbyCheckpoint", LOW_CountingHouse_LobbyWarningGuard_b7998a64-d240-bab5-36a4-9e415ec65db4, S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_CheckPointDialogue((CHARACTER)_Var1, S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartCheckpointWarningDialog("LOW_CountingHouse_VaultCheckpoint", LOW_CountingHouse_VaultGuard_d3e8107f-e747-635b-5922-d99ad2b3d4aa, S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_CheckPointDialogue((CHARACTER)_Var1, S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartCheckpointWarningDialog("LOW_CountingHouse_VaultCheckpoint", LOW_CountingHouse_VaultWarningGuard_efcd5154-549a-7e15-0827-12c3cc67c77d, S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
FlagSet(LOW_CountingHouse_State_ShowedPassToGuard_bccc2492-e00e-4d1d-9f65-c96e5dc04819, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_VaultCheckpointGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_CountingHouse_State_PassedVaultCheckpoint_b67acf0a-5a0e-f363-293e-d913b5bce599);
SetFlag(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c);

IF
FlagSet(LOW_CountingHouse_State_ShowedPassToGuard_bccc2492-e00e-4d1d-9f65-c96e5dc04819, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND NOT
DB_LOW_VaultCheckpointGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c);

IF
DB_Dialogs(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
IsTagged(_Var1, ACT3_LOW_COUNTINGHOUSE_CASHGUARD_b5a316ac-921c-4884-9a2c-8fd05c64c64b, 1, _Var1, _Var1)
THEN
DB_CrimeType_CustomWarning(_Var1, "UseForbiddenItem", LOW_NGB_CountingHouse_UseForbiddenItem_d709bf80-b240-53e5-5c57-81b707c1f771);

IF
DialogEnded(LOW_CountingHouse_LobbyMainGuard_a33eb524-fb4f-a9fb-32cf-add13b80bf05, _, _, _, _)
AND NOT
DB_GlobalFlag(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_Knows_VaultPassNeeded_c7d3b140-c5d8-4429-98f3-05c87c969426);

IF
FlagSet(LOW_CountingHouse_State_PassedLobbyCheckpoint_085b0568-d4e7-72f4-9281-712589a0733c, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_PeacefulResolve(S_LOW_CountingHouse_LobbyMainGuard_812a2565-3c84-4c47-9255-5d66d840ede4);
PROC_PeacefulResolve(S_LOW_CountingHouse_LobbyWarningGuard_cbfc2698-d7bc-403c-a861-8c9dbdec010b);

IF
FlagSet(LOW_CountingHouse_State_PassedVaultCheckpoint_b67acf0a-5a0e-f363-293e-d913b5bce599, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_PeacefulResolve(S_LOW_CountingHouse_VaultMainGuard_936953b6-059b-4ed6-b03a-5d1b340f8889);
PROC_PeacefulResolve(S_LOW_CountingHouse_VaultWarningGuard_b07c79ad-9c9c-4131-a7c2-70e898e5e984);
PROC_PeacefulResolve(S_LOW_CountingHouse_VaultButtonGuard_41a0b028-9e14-4781-8a06-cb3cb8a9ee4f);

PROC
PROC_GlobalFlagReactionAfterDialog(LOW_CountingHouse_State_FailedProbingHeadClerkThoughts_37efa7dd-df3f-4df2-bfbf-cc1c788f4207, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
GetDistanceTo(S_LOW_CountingHouse_HeadClerk_14f97819-1e07-4758-9ca8-d7802c610c43, _Var1, _Var2, _Var1, _Var1)
AND
_Var2 <= 20
THEN
SetFaction(_Var1, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

PROC
PROC_GlobalFlagReactionAfterDialog(LOW_CountingHouse_State_FailedProbingHeadClerkThoughts_37efa7dd-df3f-4df2-bfbf-cc1c788f4207, _, _, _, _)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb);

IF
FlagSet(LOW_CountingHouse_State_PassedVaultCheckpoint_b67acf0a-5a0e-f363-293e-d913b5bce599, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
Use(S_LOW_CountingHouse_VaultButtonGuard_41a0b028-9e14-4781-8a06-cb3cb8a9ee4f, S_LOW_CountingHouse_VaultTrapDisarm_e38baa9a-44b3-4333-9943-0304b78825aa, 1, 1, "LOW_CountingHouse_GuardDeactivatedTrap");
ClearOwnership(S_LOW_CountingHouse_VaultCheckpointGate_02_d7ea217e-dfa4-4f1e-ba13-007b4edee69c);
ClearOwnership(S_LOW_CountingHouse_VaultCheckpointGate_01_78a36f2a-72c3-46f2-b8ac-fc1c5e931ad9);

IF
DB_LOW_CountingHouse_VaultCheckpointGates(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
ClearOwnership(_Var1);
Unlock(_Var1);

IF
TextEvent("LOW_OpenCHGates", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_LOW_CountingHouse_VaultCheckpointGates(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
Open(_Var1);

IF
DualEntityEvent(_, _, "LOW_CountingHouse_VaultCheckpointPressurePlateSteppedOn", _, _)
AND NOT
DB_GlobalFlag(LOW_CountingHouse_State_VaultCheckpointTrapDisarmed_6f1f7cad-4ab8-48d2-8638-c5d1316f629f, _, _, _, _)
THEN
SetDualEntityEvent(NULL_00000000-0000-0000-0000-000000000000, S_LOW_CountingHouse_VaultGasPit_3ed00ed3-4595-4322-b525-a7139d89604b, "LOW_CountingHouse_VaultCheckpointTrapOn");
SetFlag(LOW_CountingHouse_State_VaultCheckpointTrapTriggered_7a29cd4d-061a-4f7a-b362-a1db8cb26728);

IF
DualEntityEvent(_, S_LOW_CountingHouse_VaultTrapDisarm_e38baa9a-44b3-4333-9943-0304b78825aa, "LOW_CountingHouse_VaultCheckpointDisarm", (GUIDSTRING)_, (GUIDSTRING)_)
THEN
SetFlag(LOW_CountingHouse_State_VaultCheckpointTrapDisarmed_6f1f7cad-4ab8-48d2-8638-c5d1316f629f);

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapTriggered_7a29cd4d-061a-4f7a-b362-a1db8cb26728, _, _, _, _)
AND
DB_LOW_CountingHouse_VaultCheckpointGates(_Var3, _, _, _, _)
THEN
Close(_Var3);
Lock(_Var3, "NOKEY");

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapTriggered_7a29cd4d-061a-4f7a-b362-a1db8cb26728, _, _, _, _)
AND
DB_LOW_CountingHouse_PressurePlates(_Var3, _, _, _, _)
THEN
SetEntityEvent(_Var3, "StoryReveal");

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapDisarmed_6f1f7cad-4ab8-48d2-8638-c5d1316f629f, _, _, _, _)
AND
DB_LOW_CountingHouse_VaultCheckpointGates(_Var3, _, _, _, _)
THEN
Unlock(_Var3);

IF
Unlocked((GUIDSTRING)_Var1, _, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_VaultCheckpointGates(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
Open(_Var1);

QRY
QRY_CrimeGetCustomWarning((CHARACTER)_Var1, "LOW_CountingHouse_Trespassing", (DIALOGRESOURCE)_Var2, (INTEGER)_Var3, (CHARACTER)_Var1)
AND NOT
DB_GlobalFlag(LOW_CountingHouse_State_PassedVaultCheckpoint_b67acf0a-5a0e-f363-293e-d913b5bce599, _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
CrimeGetCriminal(_Var3, 1, _Var4, _Var1, _Var1)
AND
DB_InRegion(_Var4, S_LOW_CountingHouse_VaultCheckpointTrespassTrigger_67fa23ed-df99-4bbe-a701-37a5a98d0bf0, _Var1, _Var1, _Var1)
THEN
DB_CrimeWarning_Block(_Var1, "LOW_CountingHouse_Trespassing", _Var2, 1);
PROC_MakeNPCHostile(_Var1, _Var4);

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapTriggered_7a29cd4d-061a-4f7a-b362-a1db8cb26728, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_TriggerRegisterForParty(S_LOW_CountingHouse_VaultTrapEscape_Trigger_2d5fd984-b4b3-4de1-bd32-9f9699996e83);

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapDisarmed_6f1f7cad-4ab8-48d2-8638-c5d1316f629f, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
RemoveStatus(S_LOW_CountingHouse_VaultGasPit_3ed00ed3-4595-4322-b525-a7139d89604b, "LOW_COUNTINGHOUSE_AVOIDAREA_RADIUS4");
RemoveStatus(S_LOW_CountingHouse_InvisHelper_AIAvoidArea_b0039f0b-d236-4149-84bf-9d7bee9e3b43, "LOW_COUNTINGHOUSE_AVOIDAREA_RADIUS6");
PROC_TriggerUnregisterForParty(S_LOW_CountingHouse_VaultTrapEscape_Trigger_2d5fd984-b4b3-4de1-bd32-9f9699996e83);

IF
FlagSet(LOW_CountingHouse_State_VaultCheckpointTrapDisarmed_6f1f7cad-4ab8-48d2-8638-c5d1316f629f, _, _, _, _)
AND
IsTagged(S_LOW_CountingHouse_VaultTrapDisarm_e38baa9a-44b3-4333-9943-0304b78825aa, ACT3_LOW_COUNTINGHOUSE_AI_DISARMVAULTTRAP_b2d39cc2-21cb-4e3f-85a4-891490272916, 1, _, _)
THEN
ClearTag(S_LOW_CountingHouse_VaultTrapDisarm_e38baa9a-44b3-4333-9943-0304b78825aa, ACT3_LOW_COUNTINGHOUSE_AI_DISARMVAULTTRAP_b2d39cc2-21cb-4e3f-85a4-891490272916);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_CountingHouse_VaultTrapEscape_Trigger_2d5fd984-b4b3-4de1-bd32-9f9699996e83, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_SetDisarmVaultTrapAIHelper_OnlyOnce", _Var1, _Var1, _Var1, _Var1)
THEN
SetTag(S_LOW_CountingHouse_VaultTrapDisarm_e38baa9a-44b3-4333-9943-0304b78825aa, ACT3_LOW_COUNTINGHOUSE_AI_DISARMVAULTTRAP_b2d39cc2-21cb-4e3f-85a4-891490272916);

IF
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_GuardSawGuardInCombat(_Var1, _Var3);

PROC
PROC_LOW_CountingHouse_GuardSawGuardInCombat((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_EnterCombat(_Var1, _Var3);

PROC
PROC_LOW_CountingHouse_GuardSawGuardInCombat((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var1, _Var2);
SetFaction(_Var1, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

IF
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_GuardSawPartyMemberInCombat(_Var1, _Var3);

PROC
PROC_LOW_CountingHouse_GuardSawPartyMemberInCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
QRY_LOW_CountingHouse_HostileGuardsInCombat(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_QRYRTN_LOW_CountingHouse_HostileGuardsInCombat(_Var2);
SetFaction(_Var1, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

QRY
QRY_LOW_CountingHouse_HostileGuardsInCombat((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_HostileGuards(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_QRYRTN_LOW_CountingHouse_HostileGuardsInCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_QRYRTN_LOW_CountingHouse_HostileGuardsInCombat(_Var1);

IF
FlagSet(LOW_CountingHouse_State_AlarmTriggered_36e1843f-b531-4155-8ca7-f2d13908f419, _, _, _, _)
AND
DB_LOW_CountingHouse_Guards(_Var3, _, _, _, _)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var3, _, _, _, _)
THEN
SetFaction(_Var3, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

IF
DB_Is_InCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var3, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var2, _Var1, _Var1, _Var1)
THEN
SetFaction(_Var1, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

IF
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_CiviliansPanicked(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Civilians(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_HostileGuards(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_CiviliansPanicked(1);
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb);

IF
DB_Sees(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Civilians(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb, _Var1, _Var1, _Var1, _Var1)
THEN
SetFaction(_Var1, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

PROC
PROC_LongRest()
AND NOT
DB_LOW_CountingHouse_AllGuardsHostileOnLongRest(1, _, _, _, _)
AND
DB_LOW_CountingHouse_HostileGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_AllGuardsTurnHostileOnLongRest_OnlyOnce", _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_Guards(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_HostileGuards(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_AllGuardsHostileOnLongRest(1);
SetFaction(_Var2, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41);

IF
BaseFactionChanged((CHARACTER)_Var1, _, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_CountingHouse_Guards(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_HostileGuards(_Var1);

IF
BaseFactionChanged((CHARACTER)_Var1, _, ACT3_LOW_CountingHouse_HostileGuards_c58d9d05-9dff-4a1a-9c14-21c703671c41, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_PartyMembers(_Var4, _Var1, _Var1, _Var1, _Var1)
AND
DB_Is_InCombat(_Var4, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_EnterCombat(_Var1, _Var4);

IF
SwitchedCombat(_, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, _, _)
AND
DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var4, _Var2, _, _, _)
THEN
NOT DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var4, _Var2);
DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var4, _Var3);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouseGuard_EnterCombatOnFactionChanged(_Var2, _Var1);

IF
BaseFactionChanged((CHARACTER)_Var1, _, GLO_SteelWatcher_BrainControlled_f0bb90ec-b609-4864-9716-0ad5d7222689, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GLO_SteelWatchers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_Guards(_Var1);

IF
FlagSet((FLAG)_Var1, _, _, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_CountingHouse_AlarmFlagsByArea(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_CountingHouse_State_AlarmTriggered_36e1843f-b531-4155-8ca7-f2d13908f419);

IF
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _, _Var3, _Var1, _Var1)
THEN
SetTag(_Var1, _Var3);
ApplyStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_ACTIVE", -1);

IF
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _, _Var3, _Var1, _Var1)
AND
HasActiveStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", 1, _Var1, _Var1)
THEN
RemoveStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED");

IF
ArmedTrapUsed((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var2, _Var3, _Var4, _Var1, _Var1)
THEN
PlayAnimation(_Var2, OBJ_Open_Unused_01_1c8ad609-f780-418e-9fdf-c52f6d749c9f, "");
SetDisableUse(_Var2, 1);
RemoveStatus(_Var2, "LOW_COUNTINGHOUSE_ALARMMACHINE_ACTIVE");
ApplyStatus(_Var2, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", 18, 0, _Var1);

IF
StatusApplied((GUIDSTRING)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", _, _, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _Var4, _Var5, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_AlarmIsTriggered(_Var1, _Var4);

IF
StatusApplied((GUIDSTRING)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", (GUIDSTRING)_Var2, _, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _Var4, _Var5, _Var1, _Var1)
AND
HasActiveStatus(_Var1, "SILENCED", 0, _Var1, _Var1)
THEN
PROC_LOW_CountingHouseAlarmTriggered(_Var1, _Var4, _Var2, _Var5);

IF
StatusRemoved((GUIDSTRING)_Var1, "SILENCED", _, _, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmIsTriggered(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _Var4, _Var5, _Var1, _Var1)
THEN
PROC_LOW_CountingHouseAlarmTriggered(_Var1, _Var4, NULL_00000000-0000-0000-0000-000000000000, _Var5);

IF
AttemptedDisarm((ITEM)_Var1, _, _, 1, (ITEM)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _Var4, _Var5, _Var1, _Var1)
THEN
RemoveStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED");
RemoveStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_ACTIVE");
SetDisableUse(_Var1, 1);

IF
StatusRemoved((ITEM)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", _, _, (ITEM)_Var1)
THEN
SetDisableUse(_Var1, 0);

IF
StatusRemoved((ITEM)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", _, _, (ITEM)_Var1)
AND NOT
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
IsTrapArmed(_Var1, 1, _Var1, _Var1, _Var1)
THEN
ApplyStatus(_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_ACTIVE", -1);

IF
StatusRemoved((GUIDSTRING)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", _, _, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmIsTriggered(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_AlarmIsTriggered(_Var1, _Var4);

IF
StatusRemoved((GUIDSTRING)_Var1, "LOW_COUNTINGHOUSE_ALARMMACHINE_TRIGGERED", _, _, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var1, _Var4, _, _Var1, _Var1)
AND
DB_GlobalFlag(_Var4, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_AlarmCombat(_, _Var4, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_AlarmIsTriggered(_, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_ResetAlarmTrigger(_Var4);

PROC
PROC_LOW_CountingHouseAlarmTriggered((GUIDSTRING)_Var1, (FLAG)_Var2, (GUIDSTRING)_Var3, (TAG)_Var4, (GUIDSTRING)_Var1)
THEN
SetFlag(_Var2);
SetDualEntityEvent(_Var1, _Var1, "LOW_CountingHouse_AlarmTriggerUsed");
PROC_LOW_CountingHouseAlarmTriggered(_Var2, _Var3, _Var4);

PROC
PROC_LOW_CountingHouseAlarmTriggered((FLAG)_Var1, (GUIDSTRING)_Var2, (TAG)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var4, _, _Var3, _Var1, _Var1)
THEN
ClearTag(_Var4, _Var3);

PROC
PROC_LOW_CountingHouseAlarmTriggered((FLAG)_Var1, (GUIDSTRING)_Var2, (TAG)_Var3, (FLAG)_Var1, (FLAG)_Var1)
AND
_Var2 != NULL_00000000-0000-0000-0000-000000000000
AND
DB_Is_InCombat(_Var2, _Var4, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_AlarmCombat(_Var4, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_AlarmCombat(_Var4, _Var1);

IF
SwitchedCombat(_, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, _, _)
AND
DB_LOW_CountingHouse_AlarmCombat(_Var2, _Var4, _, _, _)
THEN
NOT DB_LOW_CountingHouse_AlarmCombat(_Var2, _Var4);
DB_LOW_CountingHouse_AlarmCombat(_Var3, _Var4);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_AlarmIsTriggered(_, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_ResetAlarmTrigger(_Var2);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_AlarmCombat(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_AlarmCombat(_Var1, _Var2);

PROC
PROC_LOW_CountingHouse_ResetAlarmTrigger((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_CountingHouse_AlarmTriggers(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
ClearFlag(_Var1);
SetTag(_Var2, _Var3);

IF
TextEvent("LOW_CHTestAlarmSound", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetTextEventParamUUID(1, _Var1, _Var1, _Var1, _Var1)
THEN
PlaySound(_Var1, "SE_CTY_MephistosVault_AlarmSound_Start");

IF
TextEvent("Test_CHAlarmTrigger", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
GetTextEventParamUUID(1, _Var1, _Var1, _Var1, _Var1)
AND
GetHostCharacter(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetDualEntityEvent(_Var2, _Var1, "LOW_CountingHouse_AlarmTriggerUsed");

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_CountingHouse_DocksGuardsActivation_Trigger_d78edace-4ccc-4872-a9ea-208a6e5a3353, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_LOW_CountingHouse_DocksGuardsForceActivated(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_DocksGuardsForceActivated(1);
PROC_LOW_CountingHouse_ForceUpdateDocksGuards(1);

IF
LeftTrigger((CHARACTER)_Var1, S_LOW_CountingHouse_DocksGuardsActivation_Trigger_d78edace-4ccc-4872-a9ea-208a6e5a3353, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
QRY_TriggerEvents_AnyPartyMemberInTrigger(S_LOW_CountingHouse_DocksGuardsActivation_Trigger_d78edace-4ccc-4872-a9ea-208a6e5a3353, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_DocksGuardsForceActivated(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_DocksGuardsForceActivated(1);
PROC_LOW_CountingHouse_ForceUpdateDocksGuards(0);

IF
DB_Defeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_DocksGuards(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetForceUpdate(_Var1, 0);
NOT DB_LOW_CountingHouse_DocksGuards(_Var1);

PROC
PROC_LOW_CountingHouse_ForceUpdateDocksGuards((INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_LOW_CountingHouse_DocksGuards(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_Defeated(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetForceUpdate(_Var2, _Var1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_GuardCombatADs(_Var1, _Var2, NULL_00000000-0000-0000-0000-000000000000, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_GuardADedInCombat(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var2, _Var1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_GuardCombatADs(_Var1, _Var2, _Var3, _Var1, _Var1)
AND
_Var3 != NULL_00000000-0000-0000-0000-000000000000
AND NOT
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_GuardADedInCombat(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(_Var2, _Var1);

IF
AutomatedDialogStarted((DIALOGRESOURCE)_Var1, _, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1, (DIALOGRESOURCE)_Var1)
AND
DB_LOW_CountingHouse_GuardCombatADs(_Var3, _Var1, _, _Var1, _Var1)
AND
DB_Is_InCombat(_Var3, _Var5, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_GuardADedInCombat(_Var3, _Var5);

IF
SwitchedCombat(_, (GUIDSTRING)_Var2, (GUIDSTRING)_Var3, _, _)
AND
DB_LOW_CountingHouse_GuardADedInCombat(_Var4, _Var2, _, _, _)
THEN
NOT DB_LOW_CountingHouse_GuardADedInCombat(_Var4, _Var2);
DB_LOW_CountingHouse_GuardADedInCombat(_Var4, _Var3);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_GuardADedInCombat(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_GuardADedInCombat(_Var2, _Var1);

IF
DB_LOW_CountingHouse_Clerks(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_Civilians(_Var1);

IF
DB_LOW_CountingHouse_Customers(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_Civilians(_Var1);

IF
FlagSet(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb, _, _, _, _)
AND
DB_LOW_CountingHouse_Civilians(_Var3, _, _, _, _)
THEN
PROC_CharacterDisableAllCrimes(_Var3);

IF
FlagSet(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb, _, _, _, _)
AND
DB_LOW_CountingHouse_CrowdTriggers(_Var3, _, _, _, _)
THEN
TriggerSetCrowdBehaviour(_Var3, 0);
TriggerSetCrowdSpawningEnable(_Var3, 0);

IF
DB_LOW_CountingHouse_Customers(_Var1, _, _Var1, _Var1, _Var1)
THEN
TriggerRegisterForCharacter(S_LOW_CountingHouse_CivilianEscape_BoxTrigger_c643f3a0-b7e6-488c-b78a-3dedf0ec6816, _Var1);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_CountingHouse_CivilianEscape_BoxTrigger_c643f3a0-b7e6-488c-b78a-3dedf0ec6816, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_CantMove(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_DisappearOutOfSight(_Var1, "Run", 1, "");

PROC
PROC_LongRest()
AND
DB_GlobalFlag(LOW_CountingHouse_State_CiviliansPanicked_67cadb20-00fc-4015-9771-600132b67ecb, _, _, _, _)
AND
QRY_OnlyOnce("LOW_CountingHouse_PanickedClerksDisappearOnLongRest_OnlyOnce", _, _, _, _)
AND
DB_LOW_CountingHouse_Clerks(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PermaDefeated(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetOnStage(_Var1, 0);

IF
Moved((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_LOW_CountingHouse_ClerksLedger(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_LOW_CountingHouse_ClerksLedger(_Var2, _Var1);
SetFlag(LOW_CountingHouse_State_ClerksLedgerMoved_25435935-cd35-4866-8ecc-c56c0c088728, _Var2);

IF
FlagSet(LOW_CountingHouse_State_CorrectPinCodeEntered_c829bf70-2212-4079-8017-4f0a79b1399a, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
SetDualEntityEvent(NULL_00000000-0000-0000-0000-000000000000, S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_PinCodePlates_TurnedOff");

IF
EntityEvent(S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_DisablePressurePlates", _, _, _)
THEN
SetDualEntityEvent(NULL_00000000-0000-0000-0000-000000000000, S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_PinCodePlates_TurnedOff");

IF
EntityEvent(S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_EnablePressurePlates", _, _, _)
THEN
SetDualEntityEvent(NULL_00000000-0000-0000-0000-000000000000, S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_PinCodePlates_TurnedOn");

IF
FlagSet(LOW_CountingHouse_State_CorrectPinCodeEntered_c829bf70-2212-4079-8017-4f0a79b1399a, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_ItemUnlockAndOpen(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44);

IF
Unlocked(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(LOW_CountingHouse_State_GreatDoorLockpicked_72e6bda9-a5ac-40b3-b56f-f7e0ce338925);
Open(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44);
SetDualEntityEvent(NULL_00000000-0000-0000-0000-000000000000, S_LOW_CountingHouse_PinCodeManager_825dc9dc-7a78-4a50-a347-c38d77f9befb, "LOW_CountingHouse_PinCodePlates_TurnedOff");

IF
Opened(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44, _, _, _, _)
THEN
SetCanInteract(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44, 0);

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_CountingHouse_GreatDoor_QuestUpdate_Trigger_3388109d-41a3-4530-a847-0f6c1e5c7121, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_GlobalFlag(LOW_CountingHouse_Knows_ClerkWorriedAboutCultists_624b0c23-c65b-82c7-ba6e-eb06d720dfac, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_State_PlayersReachedGreatDoor_KnowMinscBehind_2a0f4576-19cb-418a-a22c-c7a74a205eb4);
PROC_TriggerUnregisterForPlayers(S_LOW_CountingHouse_GreatDoor_QuestUpdate_Trigger_3388109d-41a3-4530-a847-0f6c1e5c7121);

IF
TextEvent("LOW_GreatDoor_SetCanInteract", _, _, _, _)
THEN
SetCanInteract(S_LOW_CountingHouse_GreatDoor_97933ead-8014-4241-8d83-477e658d9b44, 1);

IF
DB_InRegion(_Var1, S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_StartHeistDialog", _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialogCustom(LOW_CountingHouse_Heist_63210311-4b3b-85e3-7278-2032e2a65bd7, S_Player_Minsc_0de603c5-42e2-4811-9dad-f652de080eba, S_LOW_CountingHouse_JaheiraClone_4da802f5-3237-40b8-afff-d728016e3047, S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, S_LOW_CountingHouse_PrivateGuard_03_459e4fa3-c9f3-478a-ba56-e09431674e32, S_LOW_CountingHouse_PrivateGuard_02_ff490513-7296-4512-8040-239f9e824f2b, _Var1, 0, 0, 0, 0, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_StartDialog_AddExtraSpeakers(LOW_CountingHouse_Heist_63210311-4b3b-85e3-7278-2032e2a65bd7, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
THEN
PROC_DialogAddSpeakingActorAt(_Var1, S_LOW_CountingHouse_Cultist_01_6217b97e-3715-4e88-ae20-7ba1aa9da1aa, 7);
PROC_DialogAddSpeakingActorAt(_Var1, S_LOW_CountingHouse_Cultist_02_464de2ba-ac0b-4fa8-bfa5-d8349ccbebf8, 8);

PROC
PROC_GlobalFlagReactionAfterDialog(LOW_CountingHouse_State_RobbersEscaped_16197488-9cc2-48e2-94ae-36225025d4d8, _, _, _, _)
THEN
PROC_SceneOver("LOW_CountingHouse_HeistScene");
PROC_SetRelationMutual(ACT3_LOW_CountingHouse_Robbers_b949b011-9fd1-4ed8-b7bf-223c88838327, ACT3_LOW_CountingHouse_Rakaths_d8c61e85-7473-4b87-9df0-e3c5785d894f, 0);
PROC_SetRelationToPlayers(ACT3_LOW_CountingHouse_Robbers_b949b011-9fd1-4ed8-b7bf-223c88838327, 0);
PROC_State_Progress(S_LOW_Guildhall_SUB_adf8c225-5a74-4c9b-86ea-198aca6fabae, "LOW_Guildhall_State", "LOW_Guildhall_State_PostHeist");
PROC_TriggerUnregisterForPlayers(S_LOW_CountingHouse_GreatDoor_QuestUpdate_Trigger_3388109d-41a3-4530-a847-0f6c1e5c7121);

IF
RelationChanged(ACT3_LOW_CountingHouse_Robbers_b949b011-9fd1-4ed8-b7bf-223c88838327, Hero_a1542c81-6895-929e-4522-10ce218bb360, 0, 1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_PlayersEnterCountingHouseHeistCombat", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_EnterCombat(_Var1, S_LOW_CountingHouse_Cultist_01_6217b97e-3715-4e88-ae20-7ba1aa9da1aa);
PROC_TriggerUnregisterForParty(S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0);

IF
EnteredCombat(S_LOW_CountingHouse_Cultist_01_6217b97e-3715-4e88-ae20-7ba1aa9da1aa, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
THEN
DB_LOW_CountingHouse_HeistCombat(_Var1);

IF
DB_DialogMoneyTransfer(1, LOW_CountingHouse_HeadBanker_3b0c163a-75ac-8ca3-e5da-0b0ea40245df, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_InitialStolenGoldAmountSetup_OnlyOnce", _Var1, _Var1, _Var1, _Var1)
THEN
AddGold(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, _Var1);

IF
DB_InRegion(_Var1, S_LOW_CountingHouse_HeistDialogTrigger_feec2762-07b3-42c8-ae7f-57df907e74c0, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_SetupTadpoledGuards", _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(WYR_SmugglersCave_State_SmugglersWon_f82671e3-a381-49eb-bc02-d5fa27468428, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouseTadpoledGuards(_Var2, _, _Var1, _Var1, _Var1)
THEN
SetTag(_Var2, ILLITHID_1eec74e8-3673-4500-abec-57b7ed8469ed);
AddSpell(_Var2, "Target_TAD_BlackHole", 0, 0);
SetFaction(_Var2, ACT3_LOW_CountingHouse_TadpoledGuards_543b82ff-118b-433d-a004-6e2badc8a742);

IF
DB_OnlyOnce("LOW_CountingHouse_SetupTadpoledGuards", _, _, _, _)
AND
DB_GlobalFlag(WYR_SmugglersCave_State_SmugglersWon_f82671e3-a381-49eb-bc02-d5fa27468428, _, _, _, _)
THEN
TemplateAddTo(BOOK_LOW_CountingHouse_SmugglersCaveNote_ShipmentArrived_fc7481fb-75cc-46a9-aa3f-ad83ea05a442, S_LOW_CountingHouse_Cultist_02_464de2ba-ac0b-4fa8-bfa5-d8349ccbebf8, 1);

IF
DB_OnlyOnce("LOW_CountingHouse_SetupTadpoledGuards", _, _, _, _)
AND NOT
DB_GlobalFlag(WYR_SmugglersCave_State_SmugglersWon_f82671e3-a381-49eb-bc02-d5fa27468428, _, _, _, _)
THEN
TemplateAddTo(BOOK_LOW_CountingHouse_SmugglersCaveNote_ShipmentNeverArrived_2d326803-4d14-418c-95d8-42ae5bfd8fa8, S_LOW_CountingHouse_Cultist_02_464de2ba-ac0b-4fa8-bfa5-d8349ccbebf8, 1);

IF
TurnStarted((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouseTadpoledGuards(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_TadpoledGuardsAggro(_Var1, _Var2);

PROC
PROC_LOW_CountingHouse_TadpoledGuardsAggro((GUIDSTRING)_Var1, (DIALOGRESOURCE)_Var2, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsTagged(_Var1, ILLITHID_1eec74e8-3673-4500-abec-57b7ed8469ed, 1, _Var1, _Var1)
AND
QRY_OnlyOnce("LOW_CountingHouse_GuardsRevealBeingTadpoled", _Var1, _Var1, _Var1, _Var1)
THEN
PROC_SetRelationMutual(ACT3_LOW_CountingHouse_TadpoledGuards_543b82ff-118b-433d-a004-6e2badc8a742, ACT3_LOW_CountingHouse_Rakaths_d8c61e85-7473-4b87-9df0-e3c5785d894f, 0);
PROC_SetRelationMutual(ACT3_LOW_CountingHouse_TadpoledGuards_543b82ff-118b-433d-a004-6e2badc8a742, ACT3_LOW_CountingHouse_Robbers_b949b011-9fd1-4ed8-b7bf-223c88838327, 100);
PROC_SetRelationToPlayers(ACT3_LOW_CountingHouse_TadpoledGuards_543b82ff-118b-433d-a004-6e2badc8a742, 0);
PROC_TryStartAD(_Var2, _Var1);
SetEntityEvent(_Var1, "GLO_AiExecuteRecalc");
SetFlag(LOW_CountingHouse_State_GuardsRevealedBeingTadpoled_1c3d173e-31bc-46bc-bb67-7f830628335a);

IF
CombatEnded((GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_HeistCombat(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(LOW_CountingHouse_State_GuardsRevealedBeingTadpoled_1c3d173e-31bc-46bc-bb67-7f830628335a, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouseTadpoledGuards(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_TadpoledGuardsAggro(_Var2, _Var3);

IF
LeftCombat((CHARACTER)_Var1, (GUIDSTRING)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouse_HeistCombat(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
CombatGetInvolvedPlayersCount(_Var2, 0, _Var1, _Var1, _Var1)
AND
DB_LOW_CountingHouseTadpoledGuards(_Var3, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_TadpoledGuardsAggro(_Var3, _Var4);

IF
StoppedLockpicking((CHARACTER)_Var1, (ITEM)_Var2, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_LOW_CountingHouse_VipVaults(_Var2, _, _Var1, _Var1, _Var1)
AND
IsLocked(_Var2, 1, _Var1, _Var1, _Var1)
THEN
SetDualEntityEvent(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, _Var1, "LOW_CountingHouse_PlayerFailedLockpickingVipVault");

IF
Unlocked((ITEM)_Var1, (CHARACTER)_Var2, NULL_00000000-0000-0000-0000-000000000000, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_LOW_CountingHouse_VipVaults(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
QuestUpdate("HIDDEN_CTY_Boosters", _Var3);
SetDualEntityEvent(S_LOW_CountingHouse_HeadBanker_f56697d0-7318-488c-852c-7c43ecdfde57, _Var2, "LOW_CountingHouse_PlayerLockpickedVipVault");

IF
EnteredTrigger((CHARACTER)_Var1, S_LOW_Sewers_SUB_c053f299-2919-4928-b489-d238b356cf9b, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_QuestIsOpened("LOW_RecoverRakathsGold", _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "EnteredSewers", _Var1, _Var1, _Var1)
AND
DB_LOW_KnowsStolenGoldInSewers_QuestUpdates(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", _Var2, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_RecoverRakathsGold", "EnteredSewers");

IF
FlagSet(LOW_CountingHouse_State_HasStolenGoldBag_161d3097-c4bf-48f0-8f77-d3e72645a5ca, (GUIDSTRING)_Var1, _, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_DialogNPCs(_Var3, _Var1, _, _Var1, _Var1)
AND
DB_DialogName(LOW_MinscHideout_RoahBribe_041941c1-00ba-ad43-6da9-6f7a597053b3, _Var3, _Var1, _Var1, _Var1)
AND
DB_LOW_ZhentLeaderReceivedStolenGold_QuestStep(_Var1, _Var5, _Var1, _Var1, _Var1)
THEN
QuestUpdate("LOW_RecoverRakathsGold", _Var5);

IF
FlagSet(LOW_MinscHideout_State_ZhentLeaderEscaped_0a08b808-b6e2-4923-936c-c12f2774ce61, _, _, _, _)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "RetrievedStolenGold", _, _, _)
AND
DB_LOW_Guildhall_ZhentLeader(_Var3, _, _, _, _)
AND
GetFlag(LOW_CountingHouse_State_HasStolenGoldBag_161d3097-c4bf-48f0-8f77-d3e72645a5ca, _Var3, 1, _, _)
AND
DB_LOW_ZhentLeaderEscapedGoldHandover_QuestStep(_Var3, _Var4, _, _, _)
THEN
QuestUpdate("LOW_RecoverRakathsGold", _Var4);

IF
FlagSet(LOW_Guildhall_State_ZhentLeaderRoah_PermaDefeated_44aa8b1e-14d0-4dc1-825c-a8f46155e0aa, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_LOW_ZhentLeaderPermaDefeated_CheckStolenGold(LOW_Guildhall_State_ZhentLeaderRoah_PermaDefeated_44aa8b1e-14d0-4dc1-825c-a8f46155e0aa);

IF
FlagSet(LOW_Guildhall_State_ZhentLeaderFriol_PermaDefeated_3362ce9b-32c1-4751-84a4-ada8274d1e05, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_LOW_ZhentLeaderPermaDefeated_CheckStolenGold(LOW_Guildhall_State_ZhentLeaderFriol_PermaDefeated_3362ce9b-32c1-4751-84a4-ada8274d1e05);

PROC
PROC_LOW_ZhentLeaderPermaDefeated_CheckStolenGold((FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1, (FLAG)_Var1)
AND
DB_LOW_ZhentLeaderPermaDefeatedWithGold_QuestStep(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
DB_LOW_ZhentLeaderReceivedStolenGold_QuestStep(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", _Var4, _Var1, _Var1, _Var1)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "RetrievedStolenGold", _Var1, _Var1, _Var1)
AND
GetFlag(LOW_CountingHouse_State_HasStolenGoldBag_161d3097-c4bf-48f0-8f77-d3e72645a5ca, _Var2, 1, _Var1, _Var1)
THEN
QuestUpdate("LOW_RecoverRakathsGold", _Var3);

IF
EnteredChasm(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, _, _, _, _, _, _, _, _, _)
AND
GetGold(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, _Var6, _, _, _)
AND
DB_DialogMoneyTransfer(1, LOW_CountingHouse_HeadBanker_3b0c163a-75ac-8ca3-e5da-0b0ea40245df, _Var7, _, _)
AND
IntegerSubtract(_Var7, 1000, _Var8, _, _)
AND
_Var6 >= _Var8
THEN
QuestUpdate("LOW_RecoverRakathsGold", "StolenGoldGone");

IF
AddedTo(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, (CHARACTER)_Var1, _, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_LOW_CountingHouse_PlayersPickedUpStolenGold(1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_LOW_CountingHouse_PlayersPickedUpStolenGold(1);
PROC_LOW_CountingHouse_RetrievedStolenGold_QuestUpdate();

IF
DB_Defeated(S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, _, _, _, _)
THEN
PROC_LOW_CountingHouse_RetrievedStolenGold_QuestUpdate();

IF
RemovedFrom((GUIDSTRING)_Var1, S_LOW_CountingHouse_StolenGoldBag_d31cdfbd-daea-4188-b685-38b708143a8d, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsTagged(_Var1, LOOT_GOLD_6c6b7cac-113c-42ee-bc46-05567b067a9f, 1, _Var1, _Var1)
THEN
PROC_LOW_CountingHouse_RetrievedStolenGold_QuestUpdate();

PROC
PROC_LOW_CountingHouse_RetrievedStolenGold_QuestUpdate()
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "RetrievedStolenGold", _, _, _)
THEN
QuestUpdate("LOW_RecoverRakathsGold", "RetrievedStolenGold");

IF
FlagSet(LOW_CountingHouse_State_SuccessfullyBargainedWithRakath_b3d83f9e-51e9-4546-82bb-8ffaacb8f322, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
QuestUpdate("LOW_RecoverRakathsGold", "BargainedWithRakath");

IF
FlagSet(LOW_CountingHouse_State_ReturnedGoldToRakath_51f7eda8-3170-43d9-9ecf-eabea3a31f2d, _, _, _, _)
AND NOT
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "RetrievedStolenGold", _, _, _)
THEN
QuestUpdate("LOW_RecoverRakathsGold", "ReturnedGold_DidntRetrieveStolen");

IF
FlagSet(LOW_CountingHouse_State_ReturnedGoldToRakath_51f7eda8-3170-43d9-9ecf-eabea3a31f2d, _, _, _, _)
AND
QRY_QuestUpdateIsUnlockedForAny("LOW_RecoverRakathsGold", "RetrievedStolenGold", _, _, _)
THEN
QuestUpdate("LOW_RecoverRakathsGold", "ReturnedGold_RetrievedStolen");

IF
GameBookInterfaceClosed(S_LOW_CountingHouse_SewersHint_Note_f36b85d7-0140-4c51-b7e6-3fa10e798ed1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_Knows_MinscHideoutInSewers_65c2faa5-bce2-4839-9c82-2ba1ab6a13ad);

IF
FlagSet(LOW_CountingHouse_State_SewersFootprintsNoticed_4ad12790-7fbf-49db-a394-0b6526c3249e, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_Knows_MinscHideoutInSewers_65c2faa5-bce2-4839-9c82-2ba1ab6a13ad);

IF
FlagSet(LOW_CountingHouse_Knows_StoneLordLairLocationSWDCultist_6cf33895-c356-af3c-7deb-5f2eafc0ebb5, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
PROC_GlobalSetFlagAndCache(LOW_CountingHouse_Knows_MinscHideoutInSewers_65c2faa5-bce2-4839-9c82-2ba1ab6a13ad);

IF
TextEvent("LOW_CountingHouse_RestoreCiviliansPositions_Debug", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_LOW_CountingHouse_Customers(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_SetOnStage(_Var1, 1);
TeleportTo(_Var1, _Var2);


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act3b"
