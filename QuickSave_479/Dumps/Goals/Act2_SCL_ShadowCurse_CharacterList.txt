Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_ShadowCursed_Warrior_Pilgrim_006_2c25ec5b-c162-4579-9f1e-435fbdcfd6e3);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_ShadowCursed_Warrior_Pilgrim_003_1a9b065b-d2cd-44c5-95e4-307d6bd82fe7);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_ShadowCursed_Warrior_Pilgrim_005_be15abb7-2ea6-4cf8-bf56-bd8465b570e3);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Ranger_Harper_005_5e59d1af-a2b7-43b7-8d6c-5a6439a129f6);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Ranger_Harper_007_2112e248-7cbc-4db6-a629-34dd87dc2386);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_007_2ad074e8-a5a4-452e-bcfe-7a946887a539);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_012_1303ff46-5200-4986-9d73-d85ad7918ec5);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_014_1e41607c-ed56-43bb-9bd2-98de3796d52a);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_009_2edb73bb-9831-44d3-bc6f-76b829e5d898);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_008_91b23b1d-0583-4118-81b6-a3f9c18e9fe8);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_011_77f588f6-e792-4b41-a61c-09bfe44d0bdc);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_010_ddb92490-a75d-496e-9b8d-78dcf1f9fef3);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_Raven_Dire_ShadowCursed_013_fc6da3fd-f4d7-4ebf-b125-7d77387a746f);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_ShadowCursed_Warrior_Pilgrim_004_9f16d360-533a-43b2-8149-dc39632a4fed);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave0_ShadowCursed_Warrior_Pilgrim_007_e0d36900-5a00-4f11-b19b-74512d1554c8);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Ranger_Harper_004_9430b751-a5f9-40bc-888d-e3e8abe4dcf3);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Ranger_Harper_006_1108b8a5-0d22-4a0e-8973-37b0442f2070);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Melee_FlamingFist_005_da1e6ca1-6c54-4b82-b94a-901745d64f2e);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Melee_FlamingFist_007_66deff82-b495-489b-872a-4b544bc941bc);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Melee_FlamingFist_008_a410b3f0-f025-4fd1-8b90-d8c0d8fd21e6);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Warrior_Githyanki_005_7052676a-7ba6-442b-8e63-b9670e4384a9);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Warrior_Githyanki_003_06fe050e-86f5-47f8-bda9-53d91b9f6fdf);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Melee_FlamingFist_004_1ede9b50-0b85-4a48-8872-738ddd1fc4cd);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Warrior_Githyanki_004_3ef3995a-a195-4982-987d-4cdf22b98235);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave3_ShadowCursed_Melee_FlamingFist_006_e81fbbc9-a2ec-40e4-800e-fe02acc4fc69);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Warrior_Zealot_005_7c4c46d9-6d0d-4e8a-8473-476eb071bd49);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Warrior_Zealot_004_f72a9c81-7fac-4bc2-a6ce-b775e3ea7721);
DB_SCL_ShadowCurse_CursedCharacters(S_HAV_Wave1_ShadowCursed_Warrior_Zealot_003_4337f668-9c2d-47cc-8530-b620109de1b4);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_Champion_Hardcore_d3079efa-0477-4459-906d-48a7dbeefc2f);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_Champion_03524330-c6ca-4078-8fbf-12ec4ffa389a);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_11_1544060f-0538-4e22-8dfc-18147a067eae);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_08_1f8eb891-48eb-4804-8ae2-e495c19ed8f8);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_06_4a99ee81-35bd-4a20-bcd7-36dfb2bbbf80);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_01_506a0ac8-f9f5-4679-a94d-7d1ad6abd173);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_03_61122493-13f4-49f8-8441-76260c8d57fa);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_02_81cead3c-d55e-4a1c-bfdd-7758a532c9fd);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_09_83a1863c-2188-4c98-93be-c6437a532332);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_07_80d5c307-054d-4240-8e08-f52ef24a799b);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_05_767879dc-4e7a-4d1a-98f3-029ce28752e5);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_10_78978ec1-6e8b-436a-9df6-81e4fdf53f5c);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_12_cceac3bb-08ba-4226-ad6b-6bff72c96b36);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_FishermansHut_CursedKuoToa_04_ff24c261-fe97-4451-a79a-04cdf16bc016);
DB_SCL_ShadowCurse_CursedCharacters(S_TWN_MorgueEntrance_ShadowCursed_01_8f3e55bb-a16c-4727-924e-f6d94aa488e0);
DB_SCL_ShadowCurse_CursedCharacters(S_TWN_MorgueEntrance_ShadowCursed_02_4bc2c539-fd62-4391-bdc2-433b978b72d8);
DB_SCL_ShadowCurse_CursedCharacters(S_TWN_MorgueEntrance_ShadowCursed_03_33ed97d1-0461-421c-affc-26d2ab7a10bd);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird12_7c1f5bc7-32ae-4748-b2de-f8017f46539e);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird11_c1e46322-6fda-4d49-8f28-bd5ee6007cdc);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird10_04ea7782-2b12-4501-941d-269812313664);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird09_a7c4e422-8a6e-4e83-9abc-60d7fc65544d);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird08_e65b73cd-b447-4b3e-8880-4e5cd8d21723);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird07_e2c5dfd4-4fd9-44b6-b604-4865304b85cd);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird06_a1b7ad7d-42f4-46cc-ad67-8a5182602d58);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird05_0d53af5c-9564-4348-a60c-b54b9bac190a);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird04_9743aa16-f4c9-4230-8483-8d1671bfe0ea);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird03_08732480-5270-441b-8c86-ea73a05e00a7);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird02_519e0f51-bd61-4ada-be37-e47057c13973);
DB_SCL_ShadowCurse_CursedCharacters(S_SCL_ShadowBirds_Bird01_b3bad6c3-e220-45d7-be27-15f591e74d2d);
NOT DB_SCL_ShadowCurse_CustomCombatGroup("", NULL_00000000-0000-0000-0000-000000000000);

KBSECTION
IF
LeftLevel((GUIDSTRING)_Var1, "SCL_Main_A", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
DB_SCL_ShadowCurse_InSCL(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_SCL_ShadowCurse_InSCL(_Var1);

IF
EnteredLevel((GUIDSTRING)_Var1, _, "SCL_Main_A", (GUIDSTRING)_Var1, (GUIDSTRING)_Var1)
AND
IsCharacter(_Var1, 1, _Var1, _Var1, _Var1)
THEN
DB_SCL_ShadowCurse_InSCL(_Var1);

IF
StatusApplied((GUIDSTRING)_Var1, (STRING)_Var2, _, _, (GUIDSTRING)_Var1)
AND
DB_SCL_ShadowCurse_UndeadStatuses(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_SCL_ShadowCurse_CursedCharacters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_SCL_ShadowCurse_CustomCombatGroup(_, _Var1, _Var1, _Var1, _Var1)
THEN
SetCombatGroupID(_Var1, "");

IF
StatusApplied((CHARACTER)_Var1, (STRING)_Var2, _, _, (CHARACTER)_Var1)
AND
DB_SCL_ShadowCurse_UndeadStatuses(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_PartyMembers(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_SCL_ShadowCurse_CursedCharacters(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_SCL_ShadowCurse_CustomCombatGroup(_Var5, _Var1, _Var1, _Var1, _Var1)
THEN
SetCombatGroupID(_Var1, _Var5);

IF
LevelLoaded("INT_Main_A", _, _, _, _)
THEN
GoalCompleted;


EXITSECTION
SysClear("DB_SCL_ShadowCurse_CursedCharacters", 1);
ENDEXITSECTION

ParentTargetEdge "ModWrapper_Gustav"
