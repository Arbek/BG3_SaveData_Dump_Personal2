Version 1
SubGoalCombiner SGC_AND

INITSECTION
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_001_1b1e8d22-d864-4315-9ca0-fe6ebd8c3909);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_008_8ac59cf1-e943-4c6d-98c7-c579f98ba4bb);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_020_ec12aa5f-c015-4e74-96b0-2d8fedfe1c32);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_022_d23e6cef-9b8f-4149-b80b-ef0a339b9823);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_023_5f85bfdb-7c3f-4626-b102-47ec5909ba55);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_024_34a63e20-b77c-4edc-a4db-5126f8291988);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_032_20fc783d-137b-422f-906c-2856ae8057a4);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4);
DB_COL_Vault_Nodes(S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_001_1b1e8d22-d864-4315-9ca0-fe6ebd8c3909, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a, S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2, S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac, S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954, S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9, S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4, S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96, S_COL_VaultPuzzle_3_008_8ac59cf1-e943-4c6d-98c7-c579f98ba4bb);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882, S_COL_VaultPuzzle_3_008_8ac59cf1-e943-4c6d-98c7-c579f98ba4bb);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_020_ec12aa5f-c015-4e74-96b0-2d8fedfe1c32, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c, S_COL_VaultPuzzle_3_020_ec12aa5f-c015-4e74-96b0-2d8fedfe1c32);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5, S_COL_VaultPuzzle_3_023_5f85bfdb-7c3f-4626-b102-47ec5909ba55);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4, S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5, S_COL_VaultPuzzle_3_023_5f85bfdb-7c3f-4626-b102-47ec5909ba55);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4, S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d, S_COL_VaultPuzzle_3_024_34a63e20-b77c-4edc-a4db-5126f8291988);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_022_d23e6cef-9b8f-4149-b80b-ef0a339b9823, S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197, S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659, S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b, S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b, S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b, S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_032_20fc783d-137b-422f-906c-2856ae8057a4, S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4, S_COL_VaultPuzzle_3_020_ec12aa5f-c015-4e74-96b0-2d8fedfe1c32);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2, S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4, S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2, S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9, S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4, S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4, S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_032_20fc783d-137b-422f-906c-2856ae8057a4, S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882, S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4, S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_020_ec12aa5f-c015-4e74-96b0-2d8fedfe1c32, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Neighbours(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_SourceNodes(S_COL_VaultPuzzle_3_001_1b1e8d22-d864-4315-9ca0-fe6ebd8c3909, 1);
DB_COL_Vault_SourceNodes(S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96, 2);
DB_COL_Vault_SourceNodes(S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac, 3);
DB_COL_Vault_SourceNodes(S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41, 4);
DB_COL_Vault_LockedNodes(S_COL_VaultPuzzle_3_022_d23e6cef-9b8f-4149-b80b-ef0a339b9823, 1, COL_Vault_State_Node1Unlocked_e43e0029-c025-40d1-a408-5bdc06c0079b);
DB_COL_Vault_LockedNodes(S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4, 2, COL_Vault_State_Node2Unlocked_185e999c-3fcf-413d-8dd8-aaef803e41d3);
DB_COL_Vault_LockedNodes(S_COL_VaultPuzzle_3_023_5f85bfdb-7c3f-4626-b102-47ec5909ba55, 3, COL_Vault_State_Node3Unlocked_97168bc6-f935-4c6a-9f91-ca25a05c10fb);
DB_COL_Vault_LockedNodes(S_COL_VaultPuzzle_3_024_34a63e20-b77c-4edc-a4db-5126f8291988, 4, COL_Vault_State_Node4Unlocked_f6717b7b-4359-4b0c-8096-f59d81a2ca5d);
DB_COL_Vault_Node_ChargeVFX(-1, VFX_Script_SCL_BrainPuzzle_Default_Node_Deactivated_01_41208251-6c82-c2f9-8b60-392d12b99716, NULL_00000000-0000-0000-0000-000000000000);
DB_COL_Vault_Node_ChargeVFX(0, VFX_Script_SCL_BrainPuzzle_Untyped_Node_Activated_01_7c5c72fb-3b94-fee7-912a-5227261ff9ad, NULL_00000000-0000-0000-0000-000000000000);
DB_COL_Vault_Node_ChargeVFX(1, VFX_Script_SCL_BrainPuzzle_Emotion_Node_Activated_01_31f0a6a3-18b1-ccd5-9c9d-48e63a87241d, PUZ_MF_Brain_Part_F_eff790b4-d9a6-4164-b71c-6017990f8a6b);
DB_COL_Vault_Node_ChargeVFX(2, VFX_Script_SCL_BrainPuzzle_Memory_Node_Activated_01_e6d290c8-e0bd-819e-7be6-ba69e7cbfbc9, PUZ_MF_Brain_Part_G_d5a0e7c5-0f2e-4d43-9694-61635fe852d1);
DB_COL_Vault_Node_ChargeVFX(3, VFX_Script_SCL_BrainPuzzle_Speech_Node_Activated_01_d8b09dc6-5944-aa35-6b5d-99f9901ac8da, PUZ_MF_Brain_Part_H_9fcd7906-d14e-4f42-acbc-1f9e2330a804);
DB_COL_Vault_Node_ChargeVFX(4, VFX_Script_SCL_BrainPuzzle_Reason_Node_Activated_01_42e46374-7087-524e-a0ff-64ecaa59823b, PUZ_MF_Brain_Part_I_026de73b-38bc-4131-bbc0-0cc13ba826af);
DB_COL_Vault_Brain_ChargeVFX(-1, VFX_Script_SCL_BrainPuzzle_Default_Brain_Deactivated_01_e254c4d2-1f4b-6ac9-72c5-12506195e5b1);
DB_COL_Vault_Brain_ChargeVFX(1, VFX_Script_SCL_BrainPuzzle_Emotion_Brain_Activated_01_61ee2d0c-d9d7-2001-b4ef-bb8a481989ed);
DB_COL_Vault_Brain_ChargeVFX(2, VFX_Script_SCL_BrainPuzzle_Memory_Brain_Activated_01_aaa41f83-8e61-3708-61ac-e183eff09f4c);
DB_COL_Vault_Brain_ChargeVFX(3, VFX_Script_SCL_BrainPuzzle_Speech_Brain_Activated_01_66f47c93-1c42-d5bd-567b-0ea88807ca2d);
DB_COL_Vault_Brain_ChargeVFX(4, VFX_Script_SCL_BrainPuzzle_Reason_Brain_Activated_01_e67610d2-76b2-ea20-73f2-bff1dbc51d97);
DB_COL_Vault_Beam_ChargeVFX(-1, VFX_Script_SCL_BrainPuzzle_Default_Beam_01_c397eeae-7eb1-61f9-ca09-158a5d42a3e3);
DB_COL_Vault_Beam_ChargeVFX(0, VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff);
DB_COL_Vault_Beam_ChargeVFX(1, VFX_Script_SCL_BrainPuzzle_Emotion_Beam_01_c805a1cc-df4d-8aa1-94a8-76a22bf2dd32);
DB_COL_Vault_Beam_ChargeVFX(2, VFX_Script_SCL_BrainPuzzle_Memory_Beam_01_911fc739-b328-531c-aa53-d3b4314bc9b4);
DB_COL_Vault_Beam_ChargeVFX(3, VFX_Script_SCL_BrainPuzzle_Speech_Beam_01_5e969f6e-ed23-a1d8-11f3-fd3657aa5027);
DB_COL_Vault_Beam_ChargeVFX(4, VFX_Script_SCL_BrainPuzzle_Reason_Beam_01_7324cd83-d789-f479-bbb6-2a45c546967c);
DB_Dialogs(S_COL_Vault_PuzzleButton3_0f07d5be-159d-48f4-94c4-4c9ee0234423, COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_001_1b1e8d22-d864-4315-9ca0-fe6ebd8c3909, S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_026_c8408263-9ca4-4c61-938c-266765a232b4, S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_035_9a418aaa-7cd9-4643-ba92-bc020a5b8fe9, S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_033_8e2d7b54-7d3c-4a32-afcd-0aebf8021cc4, S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_027_f0d51c10-d717-4fa1-b376-a9b5d0eb2197, S_COL_VaultPuzzle_3_022_d23e6cef-9b8f-4149-b80b-ef0a339b9823);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96, S_COL_VaultPuzzle_3_008_8ac59cf1-e943-4c6d-98c7-c579f98ba4bb);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_008_8ac59cf1-e943-4c6d-98c7-c579f98ba4bb, S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_010_18ad4767-41bc-4626-8e74-0286a931c882, S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_018_7813ea37-ab44-452c-829b-9958676c132c, S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_029_057893cc-7dc6-4115-ac1f-aae0912d8f0b, S_COL_VaultPuzzle_3_025_ec80ce07-b6db-4d34-94c6-f699487552a4);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41, S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_007_4d15cd66-85d1-4fd3-8e74-5a49a3492954, S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_011_648279eb-2c62-40a0-9300-34e91f72ba5a, S_COL_VaultPuzzle_3_032_20fc783d-137b-422f-906c-2856ae8057a4);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_032_20fc783d-137b-422f-906c-2856ae8057a4, S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_028_fcbcd5df-9644-457c-8e0c-ca492eb68e2d, S_COL_VaultPuzzle_3_024_34a63e20-b77c-4edc-a4db-5126f8291988);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac, S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_012_6c45fdbb-246d-493f-8eeb-cddb7c80e7d2, S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_019_ced78d50-108d-4a1e-9ef3-148227ae6659, S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5);
DB_COL_Vault_Solution(S_COL_VaultPuzzle_3_030_e937168b-02fb-4e8b-bfba-a323ec54cdd5, S_COL_VaultPuzzle_3_023_5f85bfdb-7c3f-4626-b102-47ec5909ba55);
PROC_DeclareCounter("COL_Vault_UnlockedNodes");
DB_COL_Vault_CounterFlags(1, COL_Vault_State_1NodeUnlocked_8199dc4f-2fb0-40ff-aa5a-bcce6e7a7643);
DB_COL_Vault_CounterFlags(2, COL_Vault_State_2NodeUnlocked_e36176d7-6bc9-400b-8917-ff541858ee63);
DB_COL_Vault_CounterFlags(3, COL_Vault_State_3NodeUnlocked_d830ff7b-efcc-4389-be44-8f427d5c40da);

KBSECTION
IF
DB_COL_Vault_Nodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 0);

IF
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_Neighbours(_Var2, _Var1);

IF
TextEvent("COL_Vault_TestOn", _, _, _, _)
THEN
PROC_COL_VaultPuzzle_OnStage(1);

IF
TextEvent("COL_Vault_TestOff", _, _, _, _)
THEN
PROC_COL_VaultPuzzle_OnStage(0);

IF
TextEvent("COL_Vault_TestOff", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("COL_Vault_ConnectionTo_", _Var3, _Var4, _Var1, _Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, _Var4);

IF
TextEvent("COL_Vault_AllConnections", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_COL_Vault_ShowConnection(_Var1, _Var2);

IF
TextEvent("COL_Vault_Off", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var3, _Var1, _Var1, _Var1)
AND
Concatenate("COL_Vault_PotentialConnectionTo_", _Var3, _Var4, _Var1, _Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, _Var4);

IF
TextEvent("COL_Vault_AutoSolve", (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_Connected(_Var1, _Var2);
NOT DB_COL_Vault_Connected(_Var2, _Var1);

IF
TextEvent("COL_Vault_AutoSolve", _, _, _, _)
THEN
PROC_COL_Vault_RecalculateCharges();

IF
TextEvent("COL_Vault_AutoSolve", _, _, _, _)
AND
DB_InRegion(_, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _, _, _)
THEN
DB_COL_Debug_AutoSolve_SolverReady(1);

IF
TextEvent("COL_Vault_AutoSolve", _, _, _, _)
AND NOT
DB_InRegion(_, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _, _, _)
AND
GetHostCharacter(_Var2, _, _, _, _)
THEN
TeleportTo(_Var2, S_COL_Vault_PuzzleTrigger3_6cb3b28d-0f8d-4460-b103-f4a9d04d501d, "COL_Vault_AutoSolve", 1, 1, 1, 1, 1);

IF
EntityEvent((CHARACTER)_Var1, "COL_Vault_AutoSolve", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
DB_COL_Debug_AutoSolve_SolverReady(1);
PROC_COL_Vault_StartSolve(_Var1);

IF
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND
DB_COL_Debug_AutoSolve_SolverReady(1, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Solution(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_EstablishConnection(_Var2, _Var3);

IF
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND
DB_COL_Debug_AutoSolve_SolverReady(1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Debug_AutoSolve_SolverReady(1);

IF
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_NeighbourConnectionName(_Var2, _Var1, _, _Var1, _Var1)
AND
GUIDToString(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
Concatenate("COL_Vault_ConnectionTo_", _Var4, _Var5, _Var1, _Var1)
THEN
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _Var5);

PROC
PROC_COL_VaultPuzzle_OnStage(1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Nodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 1);

PROC
PROC_COL_VaultPuzzle_OnStage(0, _, _, _, _)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND
DB_COL_Vault_Nodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetOnStage(_Var1, 0);

PROC
PROC_COL_VaultPuzzle_OnStage(1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _, _Var1, _Var1)
THEN
PROC_COL_Vault_ShowConnection(_Var1, _Var2);

PROC
PROC_COL_VaultPuzzle_OnStage(1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_ApplyVisualEffect(_Var1, -1);

PROC
PROC_COL_VaultPuzzle_OnStage(1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_ApplyVisualEffect(_Var1, 0);

IF
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND NOT
DB_DialogName(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, _, _Var1, _Var1, _Var1)
THEN
SetFlag(COL_Vault_State_BeingSolved_13bf708f-bc7c-45ff-bbc2-a44fd8fd438f, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_COL_VaultPuzzle_OnStage(1, _, _, _, _)
THEN
PROC_COL_Vault_RecalculateCharges();

PROC
PROC_COL_VaultPuzzle_OnStage(_, _, _, _, _)
AND
DB_COL_Vault_SelectedNode(_Var2, _, _, _, _)
THEN
PROC_COL_Vault_UnselectNode(_Var2);

IF
EnteredTrigger((CHARACTER)_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, S_COL_VaultPuzzle_3_001_1b1e8d22-d864-4315-9ca0-fe6ebd8c3909, _Var1, "", "Dummy_HeadFX", "COL_Vault_SolverBrainLink", "SCL_Main_A");
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, S_COL_VaultPuzzle_3_002_e8d259c5-e35e-46a8-ba49-22134098be96, _Var1, "", "Dummy_HeadFX", "COL_Vault_SolverBrainLink", "SCL_Main_A");
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, S_COL_VaultPuzzle_3_003_05fed984-c1b3-4d36-8447-13773b9ee4ac, _Var1, "", "Dummy_HeadFX", "COL_Vault_SolverBrainLink", "SCL_Main_A");
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, S_COL_VaultPuzzle_3_004_fbcf50f3-107d-414a-b34e-4597310f6b41, _Var1, "", "Dummy_HeadFX", "COL_Vault_SolverBrainLink", "SCL_Main_A");

PROC
PROC_COL_VaultPuzzle_OnStage(1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
THEN
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, _Var1, S_COL_VaultPuzzle_3_BrainCentreHelper_80814814-6735-4228-a9e2-cfaa35dbf08a, "", "", "COL_Vault_PodConnection", "SCL_Main_A");

PROC
PROC_COL_VaultPuzzle_OnStage(1, _, _, _, _)
THEN
PROC_LoopBeamEffect(VFX_Script_SCL_BrainPuzzle_Untyped_Beam_01_5d83ff09-90a0-1743-67bd-edfe72068bff, S_COL_Vault_DoorTarget_Point_17f25ba8-65e7-4c87-9522-cffe877b77cc, S_COL_VaultPuzzle_3_BrainCentreHelper_80814814-6735-4228-a9e2-cfaa35dbf08a, "", "", "COL_Vault_PodConnection", "SCL_Main_A");

PROC
PROC_COL_VaultPuzzle_OnStage(0, _, _, _, _)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, _Var3);

PROC
PROC_COL_VaultPuzzle_OnStage(0, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_SourceNodes(_Var1, _, _Var1, _Var1, _Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, "COL_Vault_SolverBrainLink");

PROC
PROC_COL_VaultPuzzle_OnStage(0, _, _, _, _)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
THEN
PROC_StopLoopBeamEffect(S_COL_Vault_DoorTarget_Point_17f25ba8-65e7-4c87-9522-cffe877b77cc, "COL_Vault_PodConnection");

PROC
PROC_COL_VaultPuzzle_OnStage(0, _, _, _, _)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, "COL_Vault_PodConnection");

PROC
PROC_COL_VaultPuzzle_OnStage(0, _, _, _, _)
THEN
ClearFlag(COL_Vault_State_BeingSolved_13bf708f-bc7c-45ff-bbc2-a44fd8fd438f, NULL_00000000-0000-0000-0000-000000000000, 0);

PROC
PROC_COL_Vault_StartSolve((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_COL_VaultPuzzle_OnStage(1);
TriggerRegisterForCharacter(S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1);
PROC_LoopEffect(VFX_Script_SCL_BrainPuzzle_AreaMarker_01_a002e6f2-c441-b2ba-7466-1470ccd2bb31, S_COL_Vault_PuzzleTrigger3_6cb3b28d-0f8d-4460-b103-f4a9d04d501d, "COL_Vault_AreaMarker", "SCL_Main_A", "");
SetTag(_Var1, COL_VAULT_SOLVING_50d2cab2-7636-43c7-be04-a76ee83829a4);

PROC
PROC_COL_Vault_StopSolve((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_COL_VaultPuzzle_OnStage(0);
TriggerUnregisterForCharacter(S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1);
PROC_StopLoopEffect(S_COL_Vault_PuzzleTrigger3_6cb3b28d-0f8d-4460-b103-f4a9d04d501d, "COL_Vault_AreaMarker");
ClearTag(_Var1, COL_VAULT_SOLVING_50d2cab2-7636-43c7-be04-a76ee83829a4);

IF
UseFinished(_, (ITEM)_Var2, 1, _, _)
AND
DB_COL_Vault_Nodes(_Var2, _, _, _, _)
THEN
NOT DB_COL_Vault_NodeUseProcessed(1);

IF
UseFinished(_, (ITEM)_Var2, 1, _, _)
AND
DB_COL_Vault_Nodes(_Var2, _, _, _, _)
AND
DB_COL_Vault_SelectedNode(_Var2, _, _, _, _)
THEN
PROC_COL_Vault_UnselectNode(_Var2);
DB_COL_Vault_NodeUseProcessed(1);

IF
UseFinished(_, (ITEM)_Var2, 1, _, _)
AND
DB_COL_Vault_Nodes(_Var2, _, _, _, _)
AND NOT
DB_COL_Vault_NodeUseProcessed(1, _, _, _, _)
AND NOT
DB_COL_Vault_SelectedNode(_, _, _, _, _)
THEN
PROC_COL_Vault_SelectNode(_Var2);
DB_COL_Vault_NodeUseProcessed(1);

IF
UseFinished(_, (ITEM)_Var2, 1, _, _)
AND
DB_COL_Vault_Nodes(_Var2, _, _, _, _)
AND NOT
DB_COL_Vault_NodeUseProcessed(1, _, _, _, _)
AND
DB_COL_Vault_SelectedNode(_Var3, _, _, _, _)
AND
_Var3 != _Var2
THEN
DB_COL_Vault_NodeUseProcessed(1);
PROC_COL_Vault_UnselectNode(_Var3);
PROC_COL_Vault_SelectNode(_Var2);
PROC_COL_Vault_TryFlipConnection(_Var3, _Var2);

PROC
PROC_COL_Vault_UnselectNode((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
NOT DB_COL_Vault_SelectedNode(_Var1);
PROC_StopLoopEffect(_Var1, "COL_Vault_Selected");

PROC
PROC_COL_Vault_UnselectNode((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var2, "COL_Vault_Option");

PROC
PROC_COL_Vault_SelectNode((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
DB_COL_Vault_SelectedNode(_Var1);
PROC_LoopEffect(VFX_Script_SCL_BrainPuzzle_Selected_01_1f751d19-57c5-233a-392f-8ce51b2144e3, _Var1, "COL_Vault_Selected", "SCL_Main_A", "");

PROC
PROC_COL_Vault_SelectNode((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(VFX_Script_SCL_BrainPuzzle_PotentialConnection_01_ab1ca3db-4dd0-1c81-18cf-28a5d77ab4bf, _Var2, "COL_Vault_Option", "SCL_Main_A", "");

PROC
PROC_COL_Vault_TryFlipConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Neighbours(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_FlipConnection(_Var1, _Var2);

PROC
PROC_COL_Vault_FlipConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
QRY_COL_Vault_SeverConnection(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
QRY_COL_Vault_BlockConnection(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_EstablishConnection(_Var1, _Var2);

PROC
PROC_COL_Vault_EstablishConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
DB_COL_Vault_Connected(_Var1, _Var2);
DB_COL_Vault_Connected(_Var2, _Var1);
DB_COL_Vault_ChangedNodes(_Var2);
DB_COL_Vault_ChangedNodes(_Var1);
PROC_COL_Vault_RecalculateCharges();

PROC
PROC_COL_Vault_EstablishConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
QRY_COL_Vault_IsUnlockingConnection(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SelectNode(_Var2);

QRY
QRY_COL_Vault_SeverConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SelectNode(_Var2);
PROC_COL_Vault_SeverConnection(_Var1, _Var2);

PROC
PROC_COL_Vault_SeverConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
NOT DB_COL_Vault_Connected(_Var1, _Var2);
NOT DB_COL_Vault_Connected(_Var2, _Var1);
DB_COL_Vault_ChangedNodes(_Var2);
DB_COL_Vault_ChangedNodes(_Var1);
PROC_COL_Vault_RecalculateCharges();

PROC
PROC_COL_Vault_SeverConnection((ITEM)_Var1, _, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
QRY_COL_Vault_AnyConnectionInPuzzle()
THEN
ClearFlag(COL_Vault_State_HasConnections_fb090a27-1597-4937-9ca7-9fa6c89a2516, S_COL_Vault_PuzzleButton3_0f07d5be-159d-48f4-94c4-4c9ee0234423, 0);

QRY
QRY_COL_Vault_AnyConnectionInPuzzle()
AND
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
THEN
SetFlag(COL_Vault_State_HasConnections_fb090a27-1597-4937-9ca7-9fa6c89a2516, S_COL_Vault_PuzzleButton3_0f07d5be-159d-48f4-94c4-4c9ee0234423, 0);

QRY
QRY_COL_Vault_BlockConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Charge(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
_Var3 != _Var4
THEN
PROC_COL_Vault_ConnectionError();

PROC
PROC_COL_Vault_ConnectionError()
AND
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
THEN
ShowError(_Var1, "InvalidTarget");

QRY
QRY_COL_Vault_BlockConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _Var3, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_ConnectionError();

QRY
QRY_COL_Vault_BlockConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var2, _Var3, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var2, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_ConnectionError();

PROC
PROC_COL_Vault_ShowConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _Var3, _Var1, _Var1)
THEN
PROC_COL_Vault_ShowConnectionBeam(_Var1, _Var2, _Var3);

PROC
PROC_COL_Vault_ShowConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var2, _Var1, _Var3, _Var1, _Var1)
THEN
PROC_COL_Vault_ShowConnectionBeam(_Var2, _Var1, _Var3);

PROC
PROC_COL_Vault_ShowConnectionBeam((ITEM)_Var1, (ITEM)_Var2, (STRING)_Var3, (ITEM)_Var1, (ITEM)_Var1)
THEN
PROC_StopLoopBeamEffect(_Var1, _Var3);

PROC
PROC_COL_Vault_ShowConnectionBeam((ITEM)_Var1, (ITEM)_Var2, (STRING)_Var3, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
DB_COL_Vault_Connected(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Beam_ChargeVFX(-1, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_LoopBeamEffect(_Var4, _Var1, _Var2, "", "", _Var3, "SCL_Main_A");

PROC
PROC_COL_Vault_ShowConnectionBeam((ITEM)_Var1, (ITEM)_Var2, (STRING)_Var3, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var1, _Var4, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Beam_ChargeVFX(_Var4, _Var5, _Var1, _Var1, _Var1)
THEN
PROC_LoopBeamEffect(_Var5, _Var1, _Var2, "", "", _Var3, "SCL_Main_A");

PROC
PROC_COL_Vault_ShowConnectionBeam((ITEM)_Var1, (ITEM)_Var2, (STRING)_Var3, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Beam_ChargeVFX(0, _Var5, _Var1, _Var1, _Var1)
THEN
PROC_LoopBeamEffect(_Var5, _Var1, _Var2, "", "", _Var3, "SCL_Main_A");

PROC
PROC_COL_Vault_RecalculateCharges()
THEN
NOT DB_COL_Vault_StructureChanged(1);

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_Charge(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_Charge(_Var1, _Var2);

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_UnlockedNodes(_Var1);

PROC
PROC_COL_Vault_RecalculateCharges()
THEN
DB_COL_Vault_RecalculatingCharges(1);

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_SourceNodes(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_Charge(_Var1, _Var2);

IF
DB_COL_Vault_Charge(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var3, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_RecalculatingCharges(1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_COL_Vault_DoubleChargeConnection(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_Charge(_Var3, _Var2);

IF
DB_COL_Vault_LockedNodes(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_UnlockedNodes(_Var1);

IF
DB_COL_Vault_LockedNodes(_Var1, _Var2, _, _Var1, _Var1)
AND
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_UnlockedNodes(_Var1);

PROC
PROC_COL_Vault_UnlockNodes()
AND
DB_COL_Vault_NewUnlockedNodes(1, _, _, _, _)
THEN
NOT DB_COL_Vault_NewUnlockedNodes(1);

PROC
PROC_COL_Vault_UnlockNodes()
AND
DB_COL_Vault_NewUnlockedNodes(1, _, _, _, _)
AND NOT
DB_COL_Vault_StructureChanged(1, _, _, _, _)
THEN
NOT DB_COL_Vault_NewUnlockedNodes(1);
PROC_COL_Vault_UnlockNodes();

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_RecalculatingCharges(1, _, _, _, _)
THEN
NOT DB_COL_Vault_RecalculatingCharges(1);

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_LockedNodes(_Var1, _Var2, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Connected(_Var1, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SeverConnection(_Var4, _Var1);
DB_COL_Vault_StructureChanged(1);

PROC
PROC_COL_Vault_RecalculateCharges()
AND NOT
DB_COL_Vault_StructureChanged(1, _, _, _, _)
THEN
PROC_COL_Vault_CheckPuzzleSolved();
PROC_COL_Vault_MatchVisualsToCharges();

PROC
PROC_COL_Vault_RecalculateCharges()
AND
DB_COL_Vault_StructureChanged(1, _, _, _, _)
THEN
PROC_COL_Vault_RecalculateCharges();

QRY
QRY_COL_Vault_DoubleChargeConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
QRY_COL_Vault_IsUnlockingConnection(_Var1, _Var2, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var1, _Var3, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var2, _Var4, _Var1, _Var1, _Var1)
AND
_Var3 != _Var4
THEN
PROC_COL_Vault_SeverConnection(_Var2, _Var1);
DB_COL_Vault_StructureChanged(1);

QRY
QRY_COL_Vault_IsUnlockingConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _Var3, _, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var2, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_COL_Vault_IsUnlockingConnection((ITEM)_Var1, (ITEM)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var2, _Var3, _, _Var1, _Var1)
AND
DB_COL_Vault_Charge(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
THEN
PROC_StopLoopEffect(_Var1, "COL_Vault_LockedVFX");

IF
DB_COL_Vault_LockedNodes(_Var1, _Var2, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(VFX_Script_SCL_BrainPuzzle_Default_Brain_Deactivated_01_e254c4d2-1f4b-6ac9-72c5-12506195e5b1, _Var1, "COL_Vault_LockedVFX", "SCL_Main_A", "");

PROC
PROC_COL_Vault_CheckPuzzleSolved()
AND
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND
QRY_COL_Vault_PuzzleUnsolved()
THEN
ClearFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072);
ClearFlag(COL_Vault_State_Open_c78a0329-2ff1-8a4f-7130-04f4425a3dab);
PROC_TriggerUnregisterForPlayers(S_COL_Vault_GrandDesign_Interaction_Trigger_491fc660-d74c-40bb-a547-6efab19a4eee);

PROC
PROC_COL_Vault_CheckPuzzleSolved()
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _, _, _, _)
AND NOT
QRY_COL_Vault_PuzzleUnsolved()
THEN
SetFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072);
SetFlag(COL_Vault_State_Open_c78a0329-2ff1-8a4f-7130-04f4425a3dab);
PROC_TriggerRegisterForPlayers(S_COL_Vault_GrandDesign_Interaction_Trigger_491fc660-d74c-40bb-a547-6efab19a4eee);
PROC_ItemUnlockAndOpen(S_COL_Vault_Door_79a34731-3a47-4a1a-83ef-d6ccb46e9590);
SetCanInteract(S_COL_Vault_Door_79a34731-3a47-4a1a-83ef-d6ccb46e9590, 0);
PROC_StopLoopBeamEffect(S_COL_Vault_DoorTarget_Point_17f25ba8-65e7-4c87-9522-cffe877b77cc, "COL_Vault_PodConnection");

IF
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND
QRY_OnlyOnce("COL_Vault_PAD_PuzzleSolved", _Var1, _Var1, _Var1, _Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_TryStartAD(COL_Vault_PAD_PuzzleSolved_3faa2628-8e89-9b49-5527-b394b08f440b, _Var1);

IF
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _Var1, _Var1, _Var1, _Var1)
AND
DB_InRegion(_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_StopSolve(_Var1);

QRY
QRY_COL_Vault_PuzzleUnsolved()
AND
DB_COL_Vault_LockedNodes(_Var1, _Var2, _, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

PROC
PROC_COL_Vault_SetChargeVisual((ITEM)_Var1, _, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_Charge_Visual(_Var1, _Var3, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_Charge_Visual(_Var1, _Var3);
PROC_StopLoopEffect(_Var1, "COL_Vault_Node_Charge");
DB_COL_Vault_ChangedNodes(_Var1);

PROC
PROC_COL_Vault_SetChargeVisual((ITEM)_Var1, (INTEGER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
DB_COL_Vault_Charge_Visual(_Var1, _Var2);
PROC_COL_Vault_ApplyVisualEffect(_Var1, _Var2);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_Nodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge_Visual(_Var1, -1, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SetChargeVisual(_Var1, -1);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_Nodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Connected(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge_Visual(_Var1, 0, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SetChargeVisual(_Var1, 0);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_Charge(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_Charge_Visual(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_SetChargeVisual(_Var1, _Var2);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_ChangedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var1, _Var2, _Var3, _Var1, _Var1)
AND NOT
DB_COL_Vault_ProcessedBeams(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_ProcessedBeams(_Var1, _Var2);
PROC_COL_Vault_ShowConnectionBeam(_Var1, _Var2, _Var3);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_ChangedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_NeighbourConnectionName(_Var2, _Var1, _Var3, _Var1, _Var1)
AND NOT
DB_COL_Vault_ProcessedBeams(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
DB_COL_Vault_ProcessedBeams(_Var2, _Var1);
PROC_COL_Vault_ShowConnectionBeam(_Var2, _Var1, _Var3);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_ChangedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_ChangedNodes(_Var1);

PROC
PROC_COL_Vault_MatchVisualsToCharges()
AND
DB_COL_Vault_ProcessedBeams(_Var1, _Var2, _Var1, _Var1, _Var1)
THEN
NOT DB_COL_Vault_ProcessedBeams(_Var1, _Var2);

PROC
PROC_COL_Vault_ApplyVisualEffect((ITEM)_Var1, (INTEGER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND NOT
DB_COL_Vault_SourceNodes(_Var1, _, _Var1, _Var1, _Var1)
AND NOT
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
AND
DB_COL_Vault_Node_ChargeVFX(_Var2, _Var6, _Var7, _Var1, _Var1)
THEN
PROC_COL_Vault_ApplyNodeTransform(_Var1, _Var7);
PROC_LoopEffect(_Var6, _Var1, "COL_Vault_Node_Charge", "SCL_Main_A", "");

PROC
PROC_COL_Vault_ApplyNodeTransform((ITEM)_Var1, (ROOT)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
_Var2 != NULL_00000000-0000-0000-0000-000000000000
THEN
Transform(_Var1, _Var2, Disguise_ceccc4eb-d774-4cd5-9147-12322b81b763);

PROC
PROC_COL_Vault_ApplyNodeTransform((ITEM)_Var1, NULL_00000000-0000-0000-0000-000000000000, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
RemoveTransforms(_Var1);

PROC
PROC_COL_Vault_ApplyVisualEffect((ITEM)_Var1, (INTEGER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_SourceNodes(_Var1, _, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_Brain_ChargeVFX(_Var2, _Var4, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(_Var4, _Var1, "COL_Vault_Node_Charge", "SCL_Main_A", "");

PROC
PROC_COL_Vault_ApplyVisualEffect((ITEM)_Var1, (INTEGER)_Var2, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
DB_COL_Vault_LockedNodes(_Var1, _, _, _Var1, _Var1)
AND
DB_COL_Vault_Brain_ChargeVFX(_Var2, _Var5, _Var1, _Var1, _Var1)
THEN
PROC_LoopEffect(_Var5, _Var1, "COL_Vault_Node_Charge", "SCL_Main_A", "");

IF
DialogStarted(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND NOT
DB_GlobalFlag(COL_Vault_State_Unlocked_d712a88e-1946-4f9d-8096-697254963072, _Var1, _Var1, _Var1, _Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
IsTagged(_Var2, ILLITHID_1eec74e8-3673-4500-abec-57b7ed8469ed, 1, _Var1, _Var1)
AND
IsTagged(_Var2, COL_VAULT_SOLVING_50d2cab2-7636-43c7-be04-a76ee83829a4, 0, _Var1, _Var1)
THEN
PROC_CharacterMoveTo(_Var2, S_COL_Vault_PuzzleTrigger3_6cb3b28d-0f8d-4460-b103-f4a9d04d501d, "Walk", "");
PROC_COL_VaultPuzzle_OnStage(1);

IF
DialogEnded(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
DB_InRegion(_Var2, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND
GetFlag(COL_Vault_Event_Start_d29a54ae-0371-f0b9-483b-c3e67d754a81, _Var2, 0, _Var1, _Var1)
AND
IsTagged(_Var2, COL_VAULT_SOLVING_50d2cab2-7636-43c7-be04-a76ee83829a4, 0, _Var1, _Var1)
THEN
PROC_COL_Vault_StopSolve(_Var2);

IF
DialogEnded(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND NOT
DB_InRegion(_, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _Var1, _Var1, _Var1)
AND
GetFlag(COL_Vault_Event_Start_d29a54ae-0371-f0b9-483b-c3e67d754a81, _Var2, 0, _Var1, _Var1)
AND
IsTagged(_Var2, COL_VAULT_SOLVING_50d2cab2-7636-43c7-be04-a76ee83829a4, 0, _Var1, _Var1)
THEN
PROC_COL_Vault_StopSolve(_Var2);

IF
DialogEnded(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
GetFlag(COL_Vault_Event_Start_d29a54ae-0371-f0b9-483b-c3e67d754a81, _Var2, 1, _Var1, _Var1)
THEN
PROC_COL_Vault_StartSolve(_Var2);
ClearFlag(COL_Vault_Event_Start_d29a54ae-0371-f0b9-483b-c3e67d754a81, _Var2, 0);
TeleportTo(_Var2, S_COL_Vault_PuzzleTrigger3_6cb3b28d-0f8d-4460-b103-f4a9d04d501d, "", 1, 1, 1, 1, 1);

QRY
QRY_DropMutingStatusses(COL_Vault_Puzzle_df526505-b938-8ac6-e127-5ec1dd9c5adf, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND NOT
QRY_COL_HasNonSilencedMutingStatus(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

QRY
QRY_COL_HasNonSilencedMutingStatus((CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_CurrentMutingStatuses(_Var1, _Var2, _, _Var1, _Var1)
AND
_Var2 != "SILENCED"
THEN
DB_NOOP(1);

IF
LeftTrigger((CHARACTER)_Var1, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
PROC_COL_Vault_StopSolve(_Var1);

IF
FlagSet(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, _, _, _, _)
AND
DB_InRegion(_Var3, S_COL_Vault_PuzzleBox3_caf88561-fad9-41b6-8963-4c612578695c, _, _, _)
THEN
DB_COL_Vault_Solving(_Var3);
PROC_COL_Vault_StopSolve(_Var3);

IF
FlagSet(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, _, _, _, _)
AND
DB_COL_Vault_Connected(_Var3, _Var4, _, _, _)
THEN
NOT DB_COL_Vault_Connected(_Var3, _Var4);
NOT DB_COL_Vault_Connected(_Var4, _Var3);

IF
FlagSet(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, _, _, _, _)
AND
DB_COL_Vault_Charge(_Var3, _Var4, _, _, _)
THEN
NOT DB_COL_Vault_Charge(_Var3, _Var4);

IF
FlagSet(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, _, _, _, _)
AND
DB_COL_Vault_Charge_Visual(_Var3, _Var4, _, _, _)
THEN
NOT DB_COL_Vault_Charge_Visual(_Var3, _Var4);
PROC_StopLoopEffect(_Var3, "COL_Vault_Node_Charge");

IF
FlagSet(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, _, _, (GUIDSTRING)_, (GUIDSTRING)_)
THEN
TimerLaunch("COL_VaultPuzzle_Restart", 600);
ClearFlag(COL_Vault_Event_Restart_36ca57d8-ef95-c547-b014-590345dc5d95, NULL_00000000-0000-0000-0000-000000000000, 0);

IF
TimerFinished("COL_VaultPuzzle_Restart", (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
AND
DB_COL_Vault_Solving(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_StartSolve(_Var1);
NOT DB_COL_Vault_Solving(_Var1);

IF
DB_COL_Vault_LockedNodes(_Var1, _, _Var3, _Var1, _Var1)
AND
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var3, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_IncreaseCounter("COL_Vault_UnlockedNodes");

IF
DB_COL_Vault_LockedNodes(_Var1, _, _Var3, _Var1, _Var1)
AND NOT
DB_COL_Vault_UnlockedNodes(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var3, _Var1, _Var1, _Var1, _Var1)
THEN
ClearFlag(_Var3, NULL_00000000-0000-0000-0000-000000000000, 0);
PROC_DecreaseCounter("COL_Vault_UnlockedNodes");

IF
DB_GlobalCounter("COL_Vault_UnlockedNodes", _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_CounterFlags(_Var3, _Var2, _Var1, _Var1, _Var1)
AND
_Var1 != _Var3
THEN
ClearFlag(_Var2);

IF
DB_GlobalCounter("COL_Vault_UnlockedNodes", _Var1, _Var1, _Var1, _Var1)
AND
DB_COL_Vault_CounterFlags(_Var1, _Var2, _Var1, _Var1, _Var1)
AND NOT
DB_GlobalFlag(_Var2, _Var1, _Var1, _Var1, _Var1)
THEN
SetFlag(_Var2);

PROC
PROC_COL_Vault_EstablishConnection(_, (ITEM)_Var2, (ITEM)_, (ITEM)_, (ITEM)_)
THEN
PROC_COL_Vault_TryConnectionAD(_Var2);

PROC
PROC_COL_Vault_SeverConnection(_, (ITEM)_Var2, (ITEM)_, (ITEM)_, (ITEM)_)
THEN
PROC_COL_Vault_TryConnectionAD(_Var2);

PROC
PROC_COL_Vault_TryConnectionAD((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
QRY_COL_Vault_CanSpeak()
AND
QRY_IncreaseCounter("COL_Vault_ConnectionsSinceLastAD", _Var1, _Var1, _Var1, _Var1)
AND
DB_GlobalCounter("COL_Vault_ConnectionsSinceLastAD", _Var2, _Var1, _Var1, _Var1)
AND
_Var2 >= 2
AND
IntegerSubtract(6, _Var2, _Var3, _Var1, _Var1)
AND
IntegerMax(_Var3, 1, _Var4, _Var1, _Var1)
AND
IntegerProduct(_Var4, _Var4, _Var5, _Var1, _Var1)
AND
Random(_Var5, 0, _Var1, _Var1, _Var1)
THEN
PROC_COL_Vault_ConnectionAD(_Var1);

PROC
PROC_COL_Vault_ConnectionAD((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
THEN
PROC_DeclareCounter("COL_Vault_ConnectionsSinceLastAD");

PROC
PROC_COL_Vault_ConnectionAD((ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1, (ITEM)_Var1)
AND
Random(15, _Var2, _Var1, _Var1, _Var1)
AND
Random(15, _Var3, _Var1, _Var1, _Var1)
AND
Random(10, _Var4, _Var1, _Var1, _Var1)
AND
IntegerSum(15, _Var2, _Var5, _Var1, _Var1)
AND
IntegerSum(15, _Var3, _Var6, _Var1, _Var1)
AND
IntegerToReal(_Var5, _Var7, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var4, _Var8, _Var1, _Var1, _Var1)
AND
IntegerToReal(_Var6, _Var9, _Var1, _Var1, _Var1)
AND
RealDivide(_Var7, 10, _Var10, _Var1, _Var1)
AND
RealDivide(_Var8, 10, _Var11, _Var1, _Var1)
AND
RealDivide(_Var9, 10, _Var12, _Var1, _Var1)
AND
GetPosition(_Var1, _Var13, _Var14, _Var15, _Var1)
AND
RealSum(_Var10, _Var13, _Var16, _Var1, _Var1)
AND
RealSum(_Var11, _Var14, _Var17, _Var1, _Var1)
AND
RealSum(_Var12, _Var15, _Var18, _Var1, _Var1)
THEN
TeleportToPosition(S_COL_Vault_MindHelper_bcbf3462-05ce-4400-96fd-00c0bb215520, _Var16, _Var17, _Var18, "COL_Vault_MindHelperTeleported", 0, 0, 0, 0, 0);

IF
EntityEvent(S_COL_Vault_MindHelper_bcbf3462-05ce-4400-96fd-00c0bb215520, "COL_Vault_MindHelperTeleported", _, _, _)
THEN
PROC_TryStartAD(COL_Vault_AD_Solving_88fddace-8a27-2165-8edb-963ae01f0920, S_COL_Vault_MindHelper_bcbf3462-05ce-4400-96fd-00c0bb215520);

QRY
QRY_COL_Vault_CanSpeak()
AND NOT
DB_GlobalCounter("COL_Vault_UnlockedNodes", 0, _, _, _)
AND NOT
DB_DialogName(COL_Vault_AD_Solving_88fddace-8a27-2165-8edb-963ae01f0920, _, _, _, _)
THEN
DB_NOOP(1);

IF
TemplateUseFinished((CHARACTER)_Var1, QUEST_COL_MF_BasRelief_A_26b29e36-7f64-422c-8513-4109d356ba4a, (ITEM)_Var2, 1, (CHARACTER)_Var1)
AND
DB_Players(_Var1, _Var1, _Var1, _Var1, _Var1)
AND
QRY_StartDialogCustom(COL_NecroLab_GrandDesignSculpture_25c4347c-923c-ffea-03de-a293893a81ed, _Var2, _Var1, 0, 0, 1, 0, _Var1, _Var1, _Var1)
THEN
DB_NOOP(1);

IF
DialogEnded(COL_NecroLab_GrandDesignSculpture_25c4347c-923c-ffea-03de-a293893a81ed, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, _, _Var1, _Var1)
AND
QRY_OnlyOncePerUser(_Var2, "COL_Vault_DaisyAD_GrandDesignReaction", _Var1, _Var1, _Var1)
THEN
PROC_DaisyAD(_Var2, COL_Vault_DaisyAD_GrandDesignReaction_0f53beca-230e-42cf-3130-492f9f14a3b2);

IF
AutomatedDialogEnded(COL_Vault_DaisyAD_GrandDesignReaction_0f53beca-230e-42cf-3130-492f9f14a3b2, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1, (INTEGER)_Var1)
AND
DB_DialogPlayers(_Var1, _Var2, 1, _Var1, _Var1)
AND
IsInTrigger(_Var2, S_COL_Vault_VB_GrandDesign_49dafcbc-aa48-4af8-a838-de785705b368, 1, _Var1, _Var1)
THEN
StartVoiceBark(COL_Vault_VB_GrandDesign_7d1f0d19-6214-5066-b564-3d292ff01cbe, _Var2);

IF
EnteredTrigger((CHARACTER)_Var1, S_COL_Vault_GrandDesign_Interaction_Trigger_491fc660-d74c-40bb-a547-6efab19a4eee, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
SetTag(_Var1, ACT2_COL_VAULT_ATGRANDDESIGNSCULPTURE_40eb3c03-0dec-4244-a8d5-83b89af32727);

IF
LeftTrigger((CHARACTER)_Var1, S_COL_Vault_GrandDesign_Interaction_Trigger_491fc660-d74c-40bb-a547-6efab19a4eee, (CHARACTER)_Var1, (CHARACTER)_Var1, (CHARACTER)_Var1)
THEN
ClearTag(_Var1, ACT2_COL_VAULT_ATGRANDDESIGNSCULPTURE_40eb3c03-0dec-4244-a8d5-83b89af32727);


EXITSECTION
ENDEXITSECTION

ParentTargetEdge "Act2"
